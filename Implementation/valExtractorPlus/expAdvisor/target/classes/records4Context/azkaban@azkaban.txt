3a914d6d2baa9ddb3a6110a05c6175f7887cbe0a###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/AzkabanExecutorServer.java###/AzkabanExecutorServer.java###azkaban.execapp.AzkabanExecutorServer###main:String[] ###SERVICE_PROVIDER.setInjector(Guice.createInjector(newAzkabanCommonModule(props),newAzkabanExecServerModule()));###injector###Guice.createInjector(newAzkabanCommonModule(props),newAzkabanExecServerModule())###344:5:347:8
62ef74c7013380c62ebc0d073f42944cdb4c5fbe###/azkaban_azkaban/src/java/azkaban/executor/FlowRunner.java###/FlowRunner.java###azkaban.executor.FlowRunner###handleSucceededJob:ExecutableNode ###if(dependencyNode.getStatus()!=Status.SUCCEEDED&&dependencyNode.getStatus()!=Status.DISABLED)###depStatus###dependencyNode.getStatus()###367:5:371:6
57286fb5d302b49b69d9bb1a8d78b940936b1d34###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/container/FlowContainer.java###/FlowContainer.java###azkaban.container.FlowContainer###shutdown:###logger.error("Thesleepwhilewaitingforexecution:{}tofinishwasinterrupted",this.flowRunner.getExecutionId());###execId###this.flowRunner.getExecutionId()###649:9:650:47
29ef150d975e908c6068b8b8f26fede120fa7de4###/azkaban_azkaban/azkaban-exec-server/src/test/java/azkaban/execapp/JobRunnerTest.java###/JobRunnerTest.java###azkaban.execapp.JobRunnerTest###setUp:###this.jobtypeManager.getJobTypePluginSet().addPluginClass("java",JavaJob.class);###pluginSet###this.jobtypeManager.getJobTypePluginSet()###67:5:67:85
bff791b2dbacaa022cb1d4d0497008300620405a###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/ExecutorManager.java###/ExecutorManager.java###azkaban.executor.ExecutorManager###setupExecutors:###logger.error("Noactiveexecutorfound");###error###"Noactiveexecutorfound"###238:7:238:48
4ff5213db79add2b78b1d5840ea96cf61df510c2###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ProjectManagerServlet.java###/ProjectManagerServlet.java###azkaban.webapp.servlet.ProjectManagerServlet###handlePermissionPage:HttpServletRequest HttpServletResponse Session ###page.add("groupPermissions",project.getGroupPermissions());###groupPermission###project.getGroupPermissions()###866:5:866:65
d6462eb43874fe845bdb74837722ba78bf38375c###/azkaban_azkaban/src/java/azkaban/webapp/servlet/LoginAbstractAzkabanServlet.java###/LoginAbstractAzkabanServlet.java###azkaban.webapp.servlet.LoginAbstractAzkabanServlet###handleLoginAction:HttpServletRequest HttpServletResponse ###resp.addCookie(newCookie(SESSION_ID_NAME,randomUID));###cookie###newCookie(SESSION_ID_NAME,randomUID)###155:4:155:59
0cead8d3b0cf8576ab843d913bdb0bdb110ffe72###/azkaban_azkaban/src/java/azkaban/execapp/FlowRunnerManager.java###/FlowRunnerManager.java###azkaban.execapp.FlowRunnerManager###submitFlow:int ###runner.setFlowWatcher(watcher).setJobLogSettings(jobLogChunkSize,jobLogNumFiles).setValidateProxyUser(validateProxyUser).setGlobalProps(globalProps).setNumJobThreads(numJobThreadPerFlow).addListener(this);###numJobThreads###numJobThreadPerFlow###393:3:398:23
cfb3a6a03450340d3a5bc265235c8457340d28c0###/azkaban_azkaban/src/java/azkaban/jobExecutor/JavaJobRunnerMain.java###/JavaJobRunnerMain.java###azkaban.jobExecutor.JavaJobRunnerMain###getObject:String String Properties ###obj=getConstructor(runningClass,String.class,Properties.class).newInstance(jobName,properties);###con###getConstructor(runningClass,String.class,Properties.class)###260:13:261:104
fc5d415635e2d10f972538c4c7d85b50db316cb0###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/utils/PropsUtilsTest.java###/PropsUtilsTest.java###azkaban.utils.PropsUtilsTest###testGetFlattenedProps:###PropsparentProps=newProps(grandParentProps);###parentProps###newProps(grandParentProps)###146:5:146:53
d9d42ca624500c69e1c9f2704d9b70a549c63a50###/azkaban_azkaban/src/java/azkaban/executor/FlowRunnerManager.java###/FlowRunnerManager.java###azkaban.executor.FlowRunnerManager###sendSuccessEmail:ExecutableFlow List<String> ###mailer.sendEmailIfPossible(senderAddress,emailList,"Flow'"+flow.getFlowId()+"'hascompletedon"+InetAddress.getLocalHost().getHostName()+"!","TheFlow'"+flow.getFlowId()+"'wassuccessful.");###subject###"Flow'"+flow.getFlowId()+"'hascompletedon"+InetAddress.getLocalHost().getHostName()+"!"###197:17:204:77
7001203610a2e8b55c5fe45a0ca7fac4cff78138###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/scheduler/Schedule.java###/Schedule.java###azkaban.scheduler.Schedule###toString:###returnprojectName+"."+flowName+"("+projectId+")"+"toberunat(starting)"+newDateTime(firstSchedTime).toDateTimeISO()+"withrecurringperiodof"+(period==null?"non-recurring":createPeriodString(period));###underlying###projectName+"."+flowName+"("+projectId+")"+"toberunat(starting)"+newDateTime(firstSchedTime).toDateTimeISO()###122:5:126:75
fc5d415635e2d10f972538c4c7d85b50db316cb0###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/utils/PropsUtilsTest.java###/PropsUtilsTest.java###azkaban.utils.PropsUtilsTest###testGoodResolveProps:###PropspropsParent=newProps(propsGrandParent);###propsParent###newProps(propsGrandParent)###29:5:29:53
be382921156dee55a91432bc04bf923294d0e3be###/azkaban_azkaban/unit/java/azkaban/test/executor/ExecutableFlowTest.java###/ExecutableFlowTest.java###azkaban.test.executor.ExecutableFlowTest###testExecutorFlowUpdates:###jobe.setEndTime(System.currentTimeMillis());###time###System.currentTimeMillis()###181:3:181:47
d919ef85df611d49f50efbb2e4f53850cb50a8de###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/FlowRunnerManager.java###/FlowRunnerManager.java###azkaban.execapp.FlowRunnerManager###FlowRunnerManager:Props ExecutorLoader ProjectLoader ProjectStorageManager TriggerManager FlowRampManager AlerterHolder CommonMetrics ExecMetrics DependencyTransferManager Storage AzkabanEventReporter ###this.pollingService=newPollingService(this.azkabanProps.getLong(ConfigurationKeys.AZKABAN_POLLING_INTERVAL_MS,Constants.DEFAULT_AZKABAN_POLLING_INTERVAL_MS),newPollingCriteria(this.azkabanProps));###pollingIntervalMillis###this.azkabanProps.getLong(ConfigurationKeys.AZKABAN_POLLING_INTERVAL_MS,Constants.DEFAULT_AZKABAN_POLLING_INTERVAL_MS)###269:7:272:51
4af8d3a7ca59474c0b09c643b7d0b2b487d50b6c###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ScheduleServlet.java###/ScheduleServlet.java###azkaban.webapp.servlet.ScheduleServlet###ajaxSchedInfo:HttpServletRequest HttpServletResponse HashMap<String,Object> User ###ret.put("slaEmails",flow.getFailureEmails());###emails###flow.getFailureEmails()###238:5:238:51
e57ed8a01afcae894a1757c29d1dcb678f4b0055###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/executor/JdbcExecutorLoaderTest.java###/JdbcExecutorLoaderTest.java###azkaban.executor.JdbcExecutorLoaderTest###testFetchQueuedFlows:###Assert.assertArrayEquals(loader.fetchQueuedFlows().toArray(),queuedFlows.toArray());###fetchedQueuedFlows###loader.fetchQueuedFlows()###515:5:516:30
0beee860718039842ff7b7590add1c9557b67d38###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ProjectManagerServlet.java###/ProjectManagerServlet.java###azkaban.webapp.servlet.ProjectManagerServlet###handleUpload:HttpServletRequest HttpServletResponse Map<String,Object> Session ###setErrorMessageInCookie(resp,"InstallationFailed.\n"+e.getMessage());###error###e.getMessage()###1091:5:1091:78
1c114114a219b0fdf235d69dcc84f25b9a074b35###/azkaban_azkaban/src/java/azkaban/utils/LogSummary.java###/LogSummary.java###azkaban.utils.LogSummary###parseJobStats:String[] ###statTableData.add(line.split("\t"));###stats###line.split("\t")###103:5:103:41
2f1eeaa99e5e39f54077485b0ccbedf69435ecdb###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/FlowRampManager.java###/FlowRampManager.java###azkaban.execapp.FlowRampManager###logFlowAction:FlowRunner Action ###executableRampExceptionalFlowItemsMap.add(executableRamp.getId(),flowRunner.getExecutableFlow().getFlowName(),ExecutableRampStatus.EXCLUDED,System.currentTimeMillis(),true);###flowName###flowRunner.getExecutableFlow().getFlowName()###566:15:569:17
289e934f4873d9baef615952bf7a7a054abb4a81###/azkaban_azkaban/azkaban-execserver/src/main/java/azkaban/execapp/JobRunner.java###/JobRunner.java###azkaban.execapp.JobRunner###run:###logInfo("Finishingjob"+this.jobId+"attempt:"+node.getAttempt()+"at"+node.getEndTime()+"withstatus"+node.getStatus());###attemptNo###node.getAttempt()###459:5:460:76
b0aad21a082f19639650174b08852e323352628c###/azkaban_azkaban/azkaban-web-server/src/main/java/azkaban/webapp/servlet/LoginAbstractAzkabanServlet.java###/LoginAbstractAzkabanServlet.java###azkaban.webapp.servlet.LoginAbstractAzkabanServlet###handleAjaxLoginAction:String String String HttpServletResponse Map<String,Object> ###ret.put("error","PotentialDDoSfound,thenumberofsessionsforthisuserandIP"+"reachedallowedlimit("+getApplication().getSessionCache().getMaxNumberOfSessionsPerIpPerUser().get()+").");###message###"PotentialDDoSfound,thenumberofsessionsforthisuserandIP"+"reachedallowedlimit("+getApplication().getSessionCache().getMaxNumberOfSessionsPerIpPerUser().get()+")."###560:7:562:63
0fe79f570a0bb789cbe33c20d464f3816e1b55d6###/azkaban_azkaban/src/java/azkaban/webapp/AzkabanExecutorServer.java###/AzkabanExecutorServer.java###azkaban.webapp.AzkabanExecutorServer###loadAzkabanConfiguration:String ###returnnull;###props###null###263:3:263:15
aa8b967728faf03769edd0b5130700aca9ae2a99###/azkaban_azkaban/src/java/azkaban/execapp/FlowRunnerManager.java###/FlowRunnerManager.java###azkaban.execapp.FlowRunnerManager###submitFlow:int ###runner.setFlowWatcher(watcher).setJobLogSettings(jobLogChunkSize,jobLogNumFiles).setValidateProxyUser(validateProxyUser).setGlobalProps(globalProps).setNumJobThreads(numJobThreadPerFlow).addListener(this);###numJobThreads###numJobThreadPerFlow###392:3:397:23
e49b22db4134c54fbf067ae9e059bd5036dde65f###/azkaban_azkaban/azkaban-exec-server/src/test/java/azkaban/dag/DagServiceTest.java###/DagServiceTest.java###azkaban.dag.DagServiceTest###simple_sub_dag_success_case:###finalNodeBuildersubDagNodeBuilder=this.dagBuilder.createNode("sfb",testSubDagNodeProcessor);###SUB_DAG_NAME###"sfb"###237:5:238:53
46d98fbddefdddeed0bee691c14cb362e6a43f30###/azkaban_azkaban/src/java/azkaban/execapp/FlowRunner.java###/FlowRunner.java###azkaban.execapp.FlowRunner###reEnableDependents:ExecutableNode ###dependentNode.setUpdateTime(System.currentTimeMillis());###currentTime###System.currentTimeMillis()###737:5:737:61
20a77baa873a18e3f31c00c8760b6011029eecb4###/azkaban_azkaban/azkaban-exec-server/src/test/java/azkaban/execapp/FlowRunnerTestUtil.java###/FlowRunnerTestUtil.java###azkaban.execapp.FlowRunnerTestUtil###startThread:FlowRunner ###newThread(runner).start();###thread###newThread(runner)###154:5:154:32
4af8d3a7ca59474c0b09c643b7d0b2b487d50b6c###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ScheduleServlet.java###/ScheduleServlet.java###azkaban.webapp.servlet.ScheduleServlet###ajaxScheduleFlow:HttpServletRequest Map<String,Object> User ###Scheduleschedule=scheduleManager.scheduleFlow(projectId,projectName,flowName,"ready",firstSchedTime.getMillis(),timezone,thePeriod,submitTime.getMillis(),firstSchedTime.getMillis(),firstSchedTime.getMillis(),user.getUserId(),null);###flowOptions###null###417:3:417:248
a6833b4a0ee8b804d74f2b926c4c4899b1e2e5bc###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/storage/HdfsStorage.java###/HdfsStorage.java###azkaban.storage.HdfsStorage###getProject:String ###returnthis.hdfs.open(fullProjectPath(key));###projectFilePath###fullProjectPath(key)###72:5:72:49
ce0729527b91b216f87deafb89f587a20c288df4###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/executor/InteractiveTestJob.java###/InteractiveTestJob.java###azkaban.executor.InteractiveTestJob###run:###if(this.jobProps.containsKey("fail"))###succeedAfterSleep###this.jobProps.containsKey("fail")###124:9:127:10
d9d42ca624500c69e1c9f2704d9b70a549c63a50###/azkaban_azkaban/src/java/azkaban/executor/FlowRunnerManager.java###/FlowRunnerManager.java###azkaban.executor.FlowRunnerManager###sendErrorEmail:ExecutableFlow List<String> ###mailer.sendEmailIfPossible(senderAddress,emailList,"Flow'"+flow.getFlowId()+"'hascompletedon"+InetAddress.getLocalHost().getHostName()+"!","TheFlow'"+flow.getFlowId()+"'failed.");###subject###"Flow'"+flow.getFlowId()+"'hascompletedon"+InetAddress.getLocalHost().getHostName()+"!"###175:17:182:69
06f0559902a46efbdf721b6eb1f5dc72a9eeaded###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ScheduleServlet.java###/ScheduleServlet.java###azkaban.webapp.servlet.ScheduleServlet###ajaxLoadHistory:HttpServletRequest HttpServletResponse User ###JSONUtils.toJSON(ret,newSplitterOutputStream(cacheOutput,resp.getOutputStream()),false);###outputStream###newSplitterOutputStream(cacheOutput,resp.getOutputStream())###470:3:470:95
ddfb005982dc92a7b7c870c945edc0cdf045827a###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/executor/container/KubernetesContainerizedImplTest.java###/KubernetesContainerizedImplTest.java###azkaban.executor.container.KubernetesContainerizedImplTest###testPodEnvVariablesFromFlowParam:###flowParam.put(FlowParameters.FLOW_PARAM_POD_ENV_VAR+"azkaban-config.version","0.1.0");###azkabanConfigVersion###"azkaban-config.version"###185:5:185:94
d81d48400aa3c3abff48a14d6e64367bb182467e###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/container/KubernetesContainerizedImpl.java###/KubernetesContainerizedImpl.java###azkaban.executor.container.KubernetesContainerizedImpl###fetchVersionSet:int Map<String,String> Set<String> ExecutableFlow ###overlayMap.put(imageType,this.imageRampupManager.getVersionInfo(imageType,flowParams.get(imageTypeOverrideParam(imageType)),State.getNewAndActiveStateFilter()));###versionInfo###this.imageRampupManager.getVersionInfo(imageType,flowParams.get(imageTypeOverrideParam(imageType)),State.getNewAndActiveStateFilter())###440:15:443:60
275541466d6fd754f767ce81d23e81e3b294df3d###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/jobExecutor/ProcessJob.java###/ProcessJob.java###azkaban.jobExecutor.ProcessJob###run:###StringoomMsg=String.format("Cannotrequestmemory(Xms%dkb,Xmx%dkb)fromsystemforjob%s",memPair.getFirst(),memPair.getSecond(),getId());###xms###memPair.getFirst()###81:7:82:61
cfb3a6a03450340d3a5bc265235c8457340d28c0###/azkaban_azkaban/src/java/azkaban/jobExecutor/JavaJobRunnerMain.java###/JavaJobRunnerMain.java###azkaban.jobExecutor.JavaJobRunnerMain###getObject:String String Properties ###obj=getConstructor(runningClass,String.class,propsClass).newInstance(jobName,props);###con###getConstructor(runningClass,String.class,propsClass)###258:13:258:102
2f1eeaa99e5e39f54077485b0ccbedf69435ecdb###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/JobRunner.java###/JobRunner.java###azkaban.execapp.JobRunner###prepareJob:###this.props.putAll(this.node.getRampProps());###props###this.node.getRampProps()###709:7:709:51
b75196e8d6b7ed84c2ea05985e1b87bd3c608555###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/ExecutorManager.java###/ExecutorManager.java###azkaban.executor.ExecutorManager###loadQueuedFlows:###for(pair:executorLoader.fetchQueuedFlows())###retrievedExecutions###executorLoader.fetchQueuedFlows()###337:5:340:6
fc5d415635e2d10f972538c4c7d85b50db316cb0###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/utils/PropsUtilsTest.java###/PropsUtilsTest.java###azkaban.utils.PropsUtilsTest###testInvalidSyntax:###PropspropsParent=newProps(propsGrandParent);###propsParent###newProps(propsGrandParent)###69:5:69:53
4ff5213db79add2b78b1d5840ea96cf61df510c2###/azkaban_azkaban/src/java/azkaban/user/XmlUserManager.java###/XmlUserManager.java###azkaban.user.XmlUserManager###parseUserTag:Node HashMap<String,User> HashMap<String,String> HashMap<String,HashSet<String>> ###proxyUserMap.get(username).add(group);###proxySet###proxyUserMap.get(username)###181:6:181:44
0fe79f570a0bb789cbe33c20d464f3816e1b55d6###/azkaban_azkaban/src/java/azkaban/webapp/AzkabanWebServer.java###/AzkabanWebServer.java###azkaban.webapp.AzkabanWebServer###loadAzkabanConfiguration:String ###returnnull;###props###null###491:3:491:15
4ff5213db79add2b78b1d5840ea96cf61df510c2###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ProjectManagerServlet.java###/ProjectManagerServlet.java###azkaban.webapp.servlet.ProjectManagerServlet###handlePermissionPage:HttpServletRequest HttpServletResponse Session ###page.add("permissions",project.getUserPermissions());###userPermission###project.getUserPermissions()###865:5:865:59
275541466d6fd754f767ce81d23e81e3b294df3d###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/jobExecutor/ProcessJob.java###/ProcessJob.java###azkaban.jobExecutor.ProcessJob###run:###StringoomMsg=String.format("Cannotrequestmemory(Xms%dkb,Xmx%dkb)fromsystemforjob%s",memPair.getFirst(),memPair.getSecond(),getId());###xmx###memPair.getSecond()###81:7:82:61
1c114114a219b0fdf235d69dcc84f25b9a074b35###/azkaban_azkaban/src/java/azkaban/utils/LogSummary.java###/LogSummary.java###azkaban.utils.LogSummary###parseJobStats:String[] ###if(lines[i].startsWith("JobStats(timeinseconds):"))###line###lines[i]###90:4:93:5
c38231b587041cbfda7b86ef2aeec52fe93764aa###/azkaban_azkaban/src/restli/java/azkaban/restli/ProjectManagerResource.java###/ProjectManagerResource.java###azkaban.restli.ProjectManagerResource###deploy:String String String ###logger.error("Url"+packageUrl+"ismalformed.",e);###errorMsg###"Url"+packageUrl+"ismalformed."###72:4:72:60
1a91f8369cbb3dab358c0f001b2d8a47b1373d2b###/azkaban_azkaban/src/java/azkaban/webapp/plugin/PluginRegistry.java###/PluginRegistry.java###azkaban.webapp.plugin.PluginRegistry###getViewerPluginsForJobType:String ###returnnewArrayList<ViewerPlugin>(jobTypeViewerPlugins.get(jobType));###plugins###jobTypeViewerPlugins.get(jobType)###62:3:62:73
86ec46005dc4d029233703aa210b5f39b4a571e1###/azkaban_azkaban/src/java/azkaban/utils/LogSummary.java###/LogSummary.java###azkaban.utils.LogSummary###parseJobStats:String[] ###statTableData.add(line.split("\t"));###stats###line.split("\t")###104:5:104:41
16b9c637cb1ba98932da7e1f69b2f93e7882b723###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/project/JdbcDependencyManager.java###/JdbcDependencyManager.java###azkaban.project.JdbcDependencyManager###getValidationStatuses:Set<Dependency> String ###PreparedStatementstmnt=this.dbOperator.getDataSource().getConnection().prepareStatement(String.format("SELECTfile_name,file_sha1,validation_statusFROMvalidated_dependencies"+"WHEREvalidation_key=?AND(%s)",makeStrWithQuestionMarks(deps.size())));###conn###this.dbOperator.getDataSource().getConnection()###60:5:62:92
2d1550cb939a02ef9d7d96355a7440d37a0d4ba4###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/FlowPreparer.java###/FlowPreparer.java###azkaban.execapp.FlowPreparer###setup:ExecutableFlow ###log.info("Downloadingzipfileforproject{}whenpreparingexecution[execid{}]"+"completedin{}second(s)",project,flow.getExecutionId(),(System.currentTimeMillis()-start)/1000);###end###System.currentTimeMillis()###117:7:119:56
0b72c172886fea571d86c72ea1ae3c7bbe11d85d###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/jobtype/JobTypeManager.java###/JobTypeManager.java###azkaban.jobtype.JobTypeManager###createJob:String JobParams Logger ###logger.error(String.format("Failedtobuildjob:%s",jobId),e);###message###String.format("Failedtobuildjob:%s",jobId)###488:7:488:72
2d0c9f10b0585230caafac6a6cc949839a9964a8###/azkaban_azkaban/src/java/azkaban/executor/JdbcExecutorLoader.java###/JdbcExecutorLoader.java###azkaban.executor.JdbcExecutorLoader###uploadExecutableNode:ExecutableNode Props ###runner.update(INSERT_EXECUTION_NODE,flow.getExecutionId(),flow.getProjectId(),flow.getVersion(),flow.getFlowId(),node.getJobId(),node.getStartTime(),node.getEndTime(),node.getStatus().getNumVal(),inputParam,node.getAttempt());###flowId###flow.getFlowId()###430:4:442:8
64382ca352053bdfc9528ebd38013385940aedcc###/azkaban_azkaban/azkaban-exec-server/src/test/java/azkaban/execapp/event/JobCallbackRequestMakerTest.java###/JobCallbackRequestMakerTest.java###azkaban.execapp.event.JobCallbackRequestMakerTest###setup:###JobCallbackRequestMaker.initialize(newProps());###props###newProps()###61:7:61:55
8305e30f7a5d474a3ded536cb4164954f08faa06###/azkaban_azkaban/azkaban-exec-server/src/test/java/azkaban/execapp/FlowRunnerTestUtil.java###/FlowRunnerTestUtil.java###azkaban.execapp.FlowRunnerTestUtil###createFromExecutableFlow:EventCollectorListener ExecutableFlow ExecutionOptions Map<String,String> Props ###finalCommonMetricscommonMetrics=newCommonMetrics(newMetricsManager(newMetricRegistry()));###metricsManager###newMetricsManager(newMetricRegistry())###258:5:258:101
3bb577aa320959cda0d532d85c8cacf7c243b5c6###/azkaban_azkaban/src/java/azkaban/execapp/JobRunner.java###/JobRunner.java###azkaban.execapp.JobRunner###createLogger:###StringlogName=createLogFileName(this.executionId,this.jobId,node.getAttempt());###id###this.jobId###152:4:152:88
9ccb26b5700b1fd0acdddfddb4de7100cd6afac4###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ProjectManagerServlet.java###/ProjectManagerServlet.java###azkaban.webapp.servlet.ProjectManagerServlet###handleProjectPage:HttpServletRequest HttpServletResponse Session ###if(perm.isPermissionSet(Type.ADMIN))###adminPerm###perm.isPermissionSet(Type.ADMIN)###1152:5:1154:6
4f30ad3b778ec6366251856158d4cc2dc68e7ad4###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/utils/FileIOUtils.java###/FileIOUtils.java###azkaban.utils.FileIOUtils###getSourcePathFromClass:Class<?> ###Filefile=newFile(containedClass.getProtectionDomain().getCodeSource().getLocation().getPath());###containedClassPath###containedClass.getProtectionDomain().getCodeSource().getLocation().getPath()###124:5:126:39
e9bd437819d8e3d87ee36a31b302e495ab9afe94###/azkaban_azkaban/src/java/azkaban/webapp/AzkabanWebServer.java###/AzkabanWebServer.java###azkaban.webapp.AzkabanWebServer###main:String[] ###root.addServlet(newServletHolder(newDefaultServlet()),"/*");###staticServlet###newServletHolder(newDefaultServlet())###321:9:321:72
4db7fbfe8e3409c7e64e4ac0fa86d14d1e1508dc###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/FlowRunner.java###/FlowRunner.java###azkaban.execapp.FlowRunner.JobRunnerEventListener###getJobMetadata:JobRunner ###metaData.put("executionID",String.valueOf(node.getExecutableFlow().getExecutionId()));###executableFlow###node.getExecutableFlow()###1522:7:1522:94
b44c688d1ac506ddfaf535d94232e3d502c829ff###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/FlowRunner.java###/FlowRunner.java###azkaban.execapp.FlowRunner###getFlowFile:###returnnull;###props###null###801:9:801:21
62ef74c7013380c62ebc0d073f42944cdb4c5fbe###/azkaban_azkaban/src/java/azkaban/executor/FlowRunner.java###/FlowRunner.java###azkaban.executor.FlowRunner###cancel:String ###flow.setEndTime(System.currentTimeMillis());###time###System.currentTimeMillis()###144:3:144:47
693193be5376ea76d9e5cac7497bca4a8db75a4d###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/container/ContainerCleanupManager.java###/ContainerCleanupManager.java###azkaban.executor.container.ContainerCleanupManager###cancelFlowQuietly:ExecutableFlow ###logger.info("Cleaningupstaleflow"+flow.getExecutionId()+"instate"+flow.getStatus().name());###originalStatus###flow.getStatus()###174:7:176:24
3a914d6d2baa9ddb3a6110a05c6175f7887cbe0a###/azkaban_azkaban/azkaban-web-server/src/main/java/azkaban/webapp/AzkabanWebServer.java###/AzkabanWebServer.java###azkaban.webapp.AzkabanWebServer###main:String[] ###SERVICE_PROVIDER.setInjector(Guice.createInjector(newAzkabanCommonModule(props),newAzkabanWebServerModule()));###injector###Guice.createInjector(newAzkabanCommonModule(props),newAzkabanWebServerModule())###686:5:689:8
7ac591638b4771dabe5a4334715942487b0ccc34###/azkaban_azkaban/src/java/azkaban/scheduler/ScheduleManager.java###/ScheduleManager.java###azkaban.scheduler.ScheduleManager###schedule:String String String String String DateTime DateTime ReadablePeriod ###schedule(newScheduledFlow(scheduleId,projectId,flowId,user,userSubmit,submitTime,firstSchedTime,period));###scheduleFlow###newScheduledFlow(scheduleId,projectId,flowId,user,userSubmit,submitTime,firstSchedTime,period)###149:3:150:54
ef64382e73e91427ff94bc0b250285eccc547d8e###/azkaban_azkaban/azkaban-web-server/src/main/java/azkaban/webapp/servlet/ProjectManagerServlet.java###/ProjectManagerServlet.java###azkaban.webapp.servlet.ProjectManagerServlet###handleJobPage:HttpServletRequest HttpServletResponse Session ###page.add("flowid",flow.getId());###flowId###flow.getId()###1508:7:1508:40
46d98fbddefdddeed0bee691c14cb362e6a43f30###/azkaban_azkaban/unit/java/azkaban/test/execapp/FlowRunnerTest2.java###/FlowRunnerTest2.java###azkaban.test.execapp.FlowRunnerTest2###testBasicRun:###Propsjobb=nodeMap.get("jobb").getInputProps();###node###nodeMap.get("jobb")###127:3:127:52
18ec4042a21c7959f634f34b30d9c3b037f63f1b###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/ExecutionController.java###/ExecutionController.java###azkaban.executor.ExecutionController###getApplicationIds:ExecutableFlow String int ###applicationIds.addAll(ExecutionControllerUtils.findApplicationIdsFromLog(data.getData()));###logData###data.getData()###506:9:506:99
56d0fd25cf5def07db12bec7ee745859574fbff0###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/ramppolicy/SimpleAutoRampPolicy.java###/SimpleAutoRampPolicy.java###azkaban.ramppolicy.SimpleAutoRampPolicy###preprocess:ExecutableRamp ###executableRamp.getState().setLastUpdatedTime(System.currentTimeMillis());###timeStamp###System.currentTimeMillis()###68:9:68:82
e9bd437819d8e3d87ee36a31b302e495ab9afe94###/azkaban_azkaban/src/java/azkaban/webapp/AzkabanWebServer.java###/AzkabanWebServer.java###azkaban.webapp.AzkabanWebServer###main:String[] ###root.addServlet(newServletHolder(newIndexServlet()),"/index");###index###newServletHolder(newIndexServlet())###322:9:322:74
fc5d415635e2d10f972538c4c7d85b50db316cb0###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/utils/PropsUtilsTest.java###/PropsUtilsTest.java###azkaban.utils.PropsUtilsTest###testCyclesResolveProps:###PropspropsParent=newProps(propsGrandParent);###propsParent###newProps(propsGrandParent)###179:5:179:53
1f9ddbfb711844be5a38b02a823cbab1e51a7bdf###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/container/FlowContainer.java###/FlowContainer.java###azkaban.container.FlowContainer###createFlowRunner:ExecutableFlow ###this.flowRunner.setFlowWatcher(watcher).setJobLogSettings(this.jobLogChunkSize,this.jobLogNumFiles).setValidateProxyUser(this.validateProxyUser).setNumJobThreads(this.numJobThreadPerFlow).addListener(this);###numJobThreads###this.numJobThreadPerFlow###391:5:395:28
56d0fd25cf5def07db12bec7ee745859574fbff0###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/ramppolicy/SimpleAutoRampPolicy.java###/SimpleAutoRampPolicy.java###azkaban.ramppolicy.SimpleAutoRampPolicy###preprocess:ExecutableRamp ###if(rampStage<=getMaxRampStage())###maxStage###getMaxRampStage()###66:7:71:8
2be2ba7c27eba01098d84b35b34923eebac66e80###/azkaban_azkaban/unit/java/azkaban/scheduler/JdbcScheduleLoaderTest.java###/JdbcScheduleLoaderTest.java###azkaban.scheduler.JdbcScheduleLoaderTest###testInsertAndLoadSchedule:###Assert.assertEquals("America/Los_Angeles",schedules.get(0).getTimezone().getID());###sched###schedules.get(0)###154:3:154:86
0408919c28c123cdc3c65f37d2b945fcac9286a3###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/FlowPreparer.java###/FlowPreparer.java###azkaban.execapp.FlowPreparer###getProjectVersion:ExecutableFlow ###projectVersion=this.installedProjects.computeIfAbsent(newPair<>(flow.getProjectId(),flow.getVersion()),k->newProjectVersion(flow.getProjectId(),flow.getVersion()));###pair###newPair<>(flow.getProjectId(),flow.getVersion())###200:7:202:80
668cc733e3b984af489922e050915ee18ff59f39###/azkaban_azkaban/azkaban-web-server/src/main/java/azkaban/webapp/AzkabanWebServer.java###/AzkabanWebServer.java###azkaban.webapp.AzkabanWebServer###main:String[] ###root.addServlet(newServletHolder(newIndexRedirectServlet(defaultServletPath)),"/");###indexRedirect###newServletHolder(newIndexRedirectServlet(defaultServletPath))###814:5:814:91
a4cfb1508770bf99c42f419a67edb9517c3ade66###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/ExecutorManager.java###/ExecutorManager.java###azkaban.executor.ExecutorManager###submitExecutableFlow:ExecutableFlow String ###runningFlows.put(exflow.getExecutionId(),newPair<ExecutionReference,ExecutableFlow>(reference,exflow));###pair###newPair<ExecutionReference,ExecutableFlow>(reference,exflow)###605:9:606:78
30c76cdaf57828732fca59f591248f191b5c5d25###/azkaban_azkaban/src/java/azkaban/webapp/servlet/LoginAbstractAzkabanServlet.java###/LoginAbstractAzkabanServlet.java###azkaban.webapp.servlet.LoginAbstractAzkabanServlet###handleLoginAction:HttpServletRequest HttpServletResponse ###resp.addCookie(newCookie(SESSION_ID_NAME,randomUID));###cookie###newCookie(SESSION_ID_NAME,randomUID)###160:4:160:59
18ec507f05a1571d67ee241dde7eb788628f3a97###/azkaban_azkaban/azkaban-exec-server/src/test/java/azkaban/execapp/FlowRunnerTest2.java###/FlowRunnerTest2.java###azkaban.execapp.FlowRunnerTest2###testBasicRun:###this.runner=this.testUtil.createFromFlowMap("jobf",options,flowParams,newProps());###props###newProps()###102:5:102:93
668cc733e3b984af489922e050915ee18ff59f39###/azkaban_azkaban/azkaban-web-server/src/main/java/azkaban/webapp/AzkabanWebServer.java###/AzkabanWebServer.java###azkaban.webapp.AzkabanWebServer###main:String[] ###root.addServlet(newServletHolder(newProjectServlet()),"/index");###index###newServletHolder(newProjectServlet())###815:5:815:72
4af8d3a7ca59474c0b09c643b7d0b2b487d50b6c###/azkaban_azkaban/unit/java/azkaban/scheduler/JdbcScheduleLoaderTest.java###/JdbcScheduleLoaderTest.java###azkaban.scheduler.JdbcScheduleLoaderTest###testInsertAndLoadSchedule:###Assert.assertEquals("America/Los_Angeles",schedules.get(0).getTimezone().getID());###sched###schedules.get(0)###137:3:137:86
84dde5bcb8f7c60e60f366a96ae3c5495b074e4c###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/jobExecutor/ProcessJob.java###/ProcessJob.java###azkaban.jobExecutor.ProcessJob###run:###command=String.format("%s%s%s",executeAsUserBinary,getEffectiveUser(jobProps),command);###effectiveUser###getEffectiveUser(jobProps)###121:8:121:102
608ed2140532b25303fa3b79ef33fa9da4c44eb4###/azkaban_azkaban/src/java/azkaban/executor/JdbcExecutorLoader.java###/JdbcExecutorLoader.java###azkaban.executor.JdbcExecutorLoader###uploadExecutableNode:ExecutableNode Props ###runner.update(INSERT_EXECUTION_NODE,flow.getExecutionId(),flow.getProjectId(),flow.getVersion(),flow.getFlowId(),node.getJobId(),node.getStartTime(),node.getEndTime(),node.getStatus().getNumVal(),inputParam,node.getAttempt());###flowId###flow.getFlowId()###380:4:392:8
b775d3efe2db6220ed0c023c42db3a6206e7a439###/azkaban_azkaban/src/java/azkaban/executor/FlowRunner.java###/FlowRunner.java###azkaban.executor.FlowRunner.JobRunnerEventListener###handleEvent:Event ###StringjobID=runner.getNode().getId();###node###runner.getNode()###290:4:290:44
99e8dcc84bd3d5642e79ca2ffc46a99dfb195efd###/azkaban_azkaban/azkaban-web-server/src/main/java/azkaban/webapp/servlet/FlowTriggerServlet.java###/FlowTriggerServlet.java###azkaban.webapp.servlet.FlowTriggerServlet###ajaxFetchTrigger:int String Session HashMap<String,Object> ###jsonObj.put("cronExpression",res.getFlowTrigger().getSchedule().getCronExpression());###flowTrigger###res.getFlowTrigger()###74:7:74:93
3a914d6d2baa9ddb3a6110a05c6175f7887cbe0a###/azkaban_azkaban/azkaban-solo-server/src/main/java/azkaban/soloserver/AzkabanSingleServer.java###/AzkabanSingleServer.java###azkaban.soloserver.AzkabanSingleServer###main:String[] ###SERVICE_PROVIDER.setInjector(Guice.createInjector(newAzkabanCommonModule(props),newAzkabanWebServerModule(),newAzkabanExecServerModule()));###injector###Guice.createInjector(newAzkabanCommonModule(props),newAzkabanWebServerModule(),newAzkabanExecServerModule())###55:5:59:8
7ac591638b4771dabe5a4334715942487b0ccc34###/azkaban_azkaban/src/java/azkaban/scheduler/ScheduleManager.java###/ScheduleManager.java###azkaban.scheduler.ScheduleManager###schedule:String String String String String DateTime DateTime ###schedule(newScheduledFlow(scheduleId,projectId,flowId,user,userSubmit,submitTime,firstSchedTime));###scheduleFlow###newScheduledFlow(scheduleId,projectId,flowId,user,userSubmit,submitTime,firstSchedTime)###171:3:172:22
3767c300142848c9ed46a628f0b06729888e415a###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/jobExecutor/ProcessJob.java###/ProcessJob.java###azkaban.jobExecutor.ProcessJob###run:###Stringkrb5ccname=String.format("/tmp/krb5cc__%s__%s__%s__%s__%s",jobProps.getString(CommonJobProperties.PROJECT_NAME),jobProps.getString(CommonJobProperties.FLOW_ID),jobProps.getString(CommonJobProperties.JOB_ID),jobProps.getString(CommonJobProperties.EXEC_ID),effectiveUser);###execId###jobProps.getString(CommonJobProperties.EXEC_ID)###93:5:94:272
c38231b587041cbfda7b86ef2aeec52fe93764aa###/azkaban_azkaban/src/restli/java/azkaban/restli/ProjectManagerResource.java###/ProjectManagerResource.java###azkaban.restli.ProjectManagerResource###deploy:String String String ###logger.error("User"+user.getUserId()+"hasnopermissiontowritetoproject"+project.getName());###errorMsg###"User"+user.getUserId()+"hasnopermissiontowritetoproject"+project.getName()###60:4:60:109
2f1eeaa99e5e39f54077485b0ccbedf69435ecdb###/azkaban_azkaban/azkaban-exec-server/src/main/java/azkaban/execapp/FlowRampManager.java###/FlowRampManager.java###azkaban.execapp.FlowRampManager###logFlowAction:FlowRunner Action ###executableRampExceptionalFlowItemsMap.add(executableRamp.getId(),flowRunner.getExecutableFlow().getFlowName(),ExecutableRampStatus.EXCLUDED,System.currentTimeMillis(),true);###rampId###executableRamp.getId()###566:15:569:17
36b440d91f24ce13880cbbb0105434ca07e468cc###/azkaban_azkaban/azkaban-web-server/src/main/java/cloudflow/servlets/ExecutionServlet.java###/ExecutionServlet.java###cloudflow.servlets.ExecutionServlet###handleGet:HttpServletRequest HttpServletResponse Session ###if(GET_JOB_EXECUTION_INFO_URI.match(req.getRequestURI(),templateVariableToValue))###requestUri###req.getRequestURI()###50:9:80:10
86b63c61ce66ee2e90eb7be0f6bf1e68d6dec311###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/ExecutorManager.java###/ExecutorManager.java###azkaban.executor.ExecutorManager###loadRunningFlows:###this.runningFlows.putAll(this.executorLoader.fetchActiveFlows());###activeFlows###this.executorLoader.fetchActiveFlows()###450:5:450:70
ab45c45efca54d550f68ca2c78cac4fc11c9aaae###/azkaban_azkaban/src/java/azkaban/executor/JdbcExecutorLoader.java###/JdbcExecutorLoader.java###azkaban.executor.JdbcExecutorLoader###uploadExecutableNode:ExecutableNode Props ###runner.update(INSERT_EXECUTION_NODE,flow.getExecutionId(),flow.getProjectId(),flow.getVersion(),flow.getFlowId(),node.getJobId(),node.getStartTime(),node.getEndTime(),node.getStatus().getNumVal(),inputParam,node.getAttempt());###flowId###flow.getFlowId()###396:4:408:8
b639a5ee2f2cc513173bd7ea0553464598bafbc7###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ScheduleServlet.java###/ScheduleServlet.java###azkaban.webapp.servlet.ScheduleServlet###ajaxLoadHistory:HttpServletRequest HttpServletResponse User ###JSONUtils.toJSON(ret,newSplitterOutputStream(cacheOutput,resp.getOutputStream()),false);###outputStream###newSplitterOutputStream(cacheOutput,resp.getOutputStream())###506:3:506:95
86ec46005dc4d029233703aa210b5f39b4a571e1###/azkaban_azkaban/src/java/azkaban/utils/LogSummary.java###/LogSummary.java###azkaban.utils.LogSummary###parseJobStats:String[] ###if(lines[i].startsWith("JobStats(timeinseconds):"))###line###lines[i]###91:4:94:5
81cda5855fe5dba0a8d51c7a19e30fd9bc412b6e###/azkaban_azkaban/azkaban-common/src/test/java/azkaban/executor/ExecutionFlowDaoTest.java###/ExecutionFlowDaoTest.java###azkaban.executor.ExecutionFlowDaoTest###createExecutions:###flow3.setStartTime(System.currentTimeMillis()+1);###currentTime###System.currentTimeMillis()###388:5:388:56
18ec4042a21c7959f634f34b30d9c3b037f63f1b###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/ExecutorManager.java###/ExecutorManager.java###azkaban.executor.ExecutorManager###getApplicationIds:ExecutableFlow String int ###applicationIds.addAll(ExecutionControllerUtils.findApplicationIdsFromLog(data.getData()));###logData###data.getData()###750:9:750:99
b75196e8d6b7ed84c2ea05985e1b87bd3c608555###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/executor/ExecutorManager.java###/ExecutorManager.java###azkaban.executor.ExecutorManager###submitExecutableFlow:ExecutableFlow String ###reference.setExecutor(activeExecutors.iterator().next());###executor###activeExecutors.iterator().next()###931:11:931:68
0ea9b8783ad842835f6fed02be46c71063f275e2###/azkaban_azkaban/azkaban-common/src/main/java/azkaban/utils/DependencyTransferManager.java###/DependencyTransferManager.java###azkaban.utils.DependencyTransferManager###downloadDependency:DependencyFile int ###IOUtils.copy(this.storage.getDependency(f),fos);###inputStream###this.storage.getDependency(f)###124:7:124:56
bb66c1415ac436899d4dc72b471c76cf3f81a86c###/azkaban_azkaban/src/java/azkaban/webapp/servlet/ExecutorServlet.java###/ExecutorServlet.java###azkaban.webapp.servlet.ExecutorServlet###writeJSON:HttpServletResponse Object ###mapper.writeValue(resp.getOutputStream(),obj);###stream###resp.getOutputStream()###53:3:53:50
7e93c0ec53e2192f9587d98fd2e89249e487348a###/azkaban_azkaban/azkaban-hadoop-security-plugin/src/main/java/azkaban/security/HadoopSecurityManager_H_2_0.java###/HadoopSecurityManager_H_2_0.java###azkaban.security.HadoopSecurityManager_H_2_0###prefetchToken:File String Logger ###getProxiedUser(userToProxy).doAs(newPrivilegedExceptionAction<Void>(){@OverridepublicVoidrun()throwsException{getToken(userToProxy);returnnull;}privatevoidgetToken(StringuserToProxy)throwsInterruptedException,IOException,HadoopSecurityManagerException{FileSystemfs=FileSystem.get(conf);logger.info("GettingDFStokenfrom"+fs.getCanonicalServiceName()+fs.getUri());Token<?>fsToken=fs.getDelegationToken(userToProxy);if(fsToken==null){logger.error("FailedtofetchDFStokenfor");thrownewHadoopSecurityManagerException("FailedtofetchDFStokenfor"+userToProxy);}logger.info("CreatedDFStoken:"+fsToken.toString());logger.info("Tokenkind:"+fsToken.getKind());logger.info("Tokenid:"+Arrays.toString(fsToken.getIdentifier()));logger.info("Tokenservice:"+fsToken.getService());JobConfjc=newJobConf(conf);JobClientjobClient=newJobClient(jc);logger.info("Pre-fetchingJTtoken:GotnewJobClient:"+jc);Token<DelegationTokenIdentifier>mrdt=jobClient.getDelegationToken(newText("mrtoken"));if(mrdt==null){logger.error("FailedtofetchJTtokenfor");thrownewHadoopSecurityManagerException("FailedtofetchJTtokenfor"+userToProxy);}logger.info("CreatedJTtoken:"+mrdt.toString());logger.info("Tokenkind:"+mrdt.getKind());logger.info("Tokenid:"+Arrays.toString(mrdt.getIdentifier()));logger.info("Tokenservice:"+mrdt.getService());jc.getCredentials().addToken(mrdt.getService(),mrdt);jc.getCredentials().addToken(fsToken.getService(),fsToken);FileOutputStreamfos=null;DataOutputStreamdos=null;try{fos=newFileOutputStream(tokenFile);dos=newDataOutputStream(fos);jc.getCredentials().writeTokenStorageToStream(dos);}finally{if(dos!=null){try{dos.close();}catch(Throwablet){logger.error("encounteredexceptionwhileclosingDataOutputStreamofthetokenFile",t);}}if(fos!=null){fos.close();}}logger.info("Tokensloadedin"+tokenFile.getAbsolutePath());}});###proxiedUser###getProxiedUser(userToProxy)###346:7:415:10
