bc6c40dd1f7d06352e6c3ebff9e0acfd8cd4b11b###/google_data-transfer-project/portability-core/src/main/java/org/dataportabilityproject/serviceProviders/common/mail/ImapMailHelper.java###/ImapMailHelper.java###org.dataportabilityproject.serviceProviders.common.mail.ImapMailHelper###getMessages:String String String Folder boolean ###returnnewMailModelWrapper(folders.build(),resources.build(),newContinuationInformation(folderIds.build(),null));###nextPaginationInformation###null###124:5:125:63
aba59a6595c87d31d549a63553a9b7cc6211424f###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/photos/GooglePhotosExporter.java###/GooglePhotosExporter.java###org.datatransferproject.datatransfer.google.photos.GooglePhotosExporter###convertPhotosList:Optional<String> GoogleMediaItem[] UUID ###photos.add(convertToPhotoModel(albumId,mediaItem));###photoModel###convertToPhotoModel(albumId,mediaItem)###294:11:294:63
6d3e348fcfff238b305dd9efdaeb4925c3e14ae0###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-smugmug/src/main/java/org/datatransferproject/transfer/smugmug/photos/SmugMugPhotosImporter.java###/SmugMugPhotosImporter.java###org.datatransferproject.transfer.smugmug.photos.SmugMugPhotosImporter###importSinglePhoto:UUID PhotoModel SmugMugInterface ###StringnewAlbumUri=jobStore.findData(jobId,createCacheKey(),TempPhotosData.class).lookupNewAlbumId(inputPhoto.getAlbumId());###tempPhotosData###jobStore.findData(jobId,createCacheKey(),TempPhotosData.class)###115:5:117:56
e1d475b080baecf832f0d8000e5c0735d948a7b0###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-smugmug/src/main/java/org/datatransferproject/transfer/smugmug/photos/SmugMugInterface.java###/SmugMugInterface.java###org.datatransferproject.transfer.smugmug.photos.SmugMugInterface###postRequest:String Map<String,String> byte[] Map<String,String> TypeReference<T> ###returnmapper.readValue(response.getBody(),typeReference);###result###response.getBody()###261:5:261:64
9f229dbbbd6d7ddb0e9687ce246f4ab1e694f0e7###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/dataportabilityproject/datatransfer/google/photos/GooglePhotosExporter.java###/GooglePhotosExporter.java###org.dataportabilityproject.datatransfer.google.photos.GooglePhotosExporter###exportAlbums:TokensAndUrlAuthData Optional<PaginationData> ###for(googleAlbum:albumListResponse.getAlbums())###googleAlbums###albumListResponse.getAlbums()###113:5:123:6
995efca635bffc58b6209d040e8c96cd88816880###/google_data-transfer-project/portability-transfer/src/main/java/org/datatransferproject/transfer/JobProcessor.java###/JobProcessor.java###org.datatransferproject.transfer.JobProcessor###processJob:###addFailureReasonToJob(jobId,e.getFailureReason());###failureReason###e.getFailureReason()###141:7:141:58
99469013ec912b3c0e0d2c68ac197acb893a9ea4###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-smugmug/src/main/java/org/datatransferproject/transfer/smugmug/photos/SmugMugPhotosImporter.java###/SmugMugPhotosImporter.java###org.datatransferproject.transfer.smugmug.photos.SmugMugPhotosImporter###importSinglePhoto:UUID IdempotentImportExecutor PhotoModel SmugMugInterface ###SmugMugPhotoTempDataalbumTempData=getAlbumTempData(jobId,idempotentExecutor,inputPhoto.getAlbumId(),smugMugInterface);###originalAlbumId###inputPhoto.getAlbumId()###132:5:133:96
69d87c1c3d8686d7f31f8dd74a2994114afa16e7###/google_data-transfer-project/extensions/cloud/portability-cloud-google/src/main/java/org/dataportabilityproject/cloud/google/GoogleAppCredentialStore.java###/GoogleAppCredentialStore.java###org.dataportabilityproject.cloud.google.GoogleAppCredentialStore###getRawBytes:String ###returnbucket.get(blobName).getContent();###blob###bucket.get(blobName)###128:5:128:46
7b3a7a0e1f63cb22a7e01d8e7870242103d518b9###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/dataportabilityproject/datatransfer/google/photos/GooglePhotosExporter.java###/GooglePhotosExporter.java###org.dataportabilityproject.datatransfer.google.photos.GooglePhotosExporter###exportPhotos:TokensAndUrlAuthData String Optional<PaginationData> ###List<PhotoModel>photos=newArrayList<>(photoFeed.getEntries().size());###entries###photoFeed.getEntries()###178:5:178:78
3b27330aecb76ca521211b5529fae501971027de###/google_data-transfer-project/portability-core/src/main/java/org/dataportabilityproject/serviceProviders/flickr/FlickrPhotoService.java###/FlickrPhotoService.java###org.dataportabilityproject.serviceProviders.flickr.FlickrPhotoService###importItem:PhotosModelWrapper ###jobDataCache.store(CACHE_ALBUM_METADATA_PREFIX+album.getId(),album);###key###CACHE_ALBUM_METADATA_PREFIX+album.getId()###142:9:142:80
388a1d68b82a68475dd61a81869beb142bbbc511###/google_data-transfer-project/extensions/auth/portability-auth-oauth2/src/main/java/org/datatransferproject/auth/oauth2/OAuth2DataGenerator.java###/OAuth2DataGenerator.java###org.datatransferproject.auth.oauth2.OAuth2DataGenerator###createFlow:###returnnewAuthorizationCodeFlow.Builder(BearerToken.authorizationHeaderAccessMethod(),httpTransport,newJacksonFactory(),newGenericUrl(tokenServerUrl),newClientParametersAuthentication(clientId,clientSecret),clientId,authServerUrl).setScopes(scopes).build();###authCodeFlowBuilder###newAuthorizationCodeFlow.Builder(BearerToken.authorizationHeaderAccessMethod(),httpTransport,newJacksonFactory(),newGenericUrl(tokenServerUrl),newClientParametersAuthentication(clientId,clientSecret),clientId,authServerUrl).setScopes(scopes)###105:5:115:18
e3a5421fd37f73026db53beb64c045d349cbbc23###/google_data-transfer-project/extensions/cloud/portability-cloud-microsoft/src/main/java/org/dataportabilityproject/cloud/microsoft/cosmos/AzureKeyVaultStore.java###/AzureKeyVaultStore.java###org.dataportabilityproject.cloud.microsoft.cosmos.AzureKeyVaultStore###getAppCredentials:String String ###returnnewAppCredentials(keyName,secretBundle.value());###secretValue###secretBundle.value()###48:5:48:62
bdfff9eeee1e08effbcd3cf6761f7ddf57890137###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/photos/GooglePhotosImporter.java###/GooglePhotosImporter.java###org.datatransferproject.datatransfer.google.photos.GooglePhotosImporter###importSingleAlbum:TokensAndUrlAuthData PhotoAlbum ###googleAlbum.setTitle(COPY_PREFIX+inputAlbum.getName());###title###COPY_PREFIX+inputAlbum.getName()###116:5:116:62
c20df811ea981e2d30c6ecab754921ff3bcd3416###/google_data-transfer-project/portability-api/src/main/java/org/datatransferproject/api/action/transfer/GenerateServiceAuthDataAction.java###/GenerateServiceAuthDataAction.java###org.datatransferproject.api.action.transfer.GenerateServiceAuthDataAction###handle:GenerateServiceAuthData ###UUIDjobId=decodeJobId(request.getId());###id###request.getId()###58:7:58:49
3c6485c16566e06c0131158ce76caab1d1bd70be###/google_data-transfer-project/portability-core/src/main/java/org/dataportabilityproject/serviceProviders/google/contacts/GoogleContactsService.java###/GoogleContactsService.java###org.dataportabilityproject.serviceProviders.google.contacts.GoogleContactsService###convertToVCardNames:List<Name> ###primaryVCardName=convertToVCardNameSingle(personName);###structuredName###convertToVCardNameSingle(personName)###131:9:131:65
7e0bdda134a86b462186d1d820c42ce0a578c24f###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-backblaze/src/test/java/org/datatransferproject/datatransfer/backblaze/photos/BackblazePhotosImporterTest.java###/BackblazePhotosImporterTest.java###org.datatransferproject.datatransfer.backblaze.photos.BackblazePhotosImporterTest###testImportPhoto:###sut.importItem(UUID.randomUUID(),executor,authData,data);###jobId###UUID.randomUUID()###125:9:125:69
f633902583fbea993abc83a256df6a9ed58164ad###/google_data-transfer-project/portability-spi-cloud/src/main/java/org/datatransferproject/spi/cloud/types/PortabilityJob.java###/PortabilityJob.java###org.datatransferproject.spi.cloud.types.PortabilityJob###toMap:###ImmutableMap.Builder<String,Object>builder=ImmutableMap.<String,Object>builder().put(DATA_TYPE_KEY,transferDataType()).put(EXPORT_SERVICE_KEY,exportService()).put(IMPORT_SERVICE_KEY,importService()).put(AUTHORIZATION_STATE,jobAuthorization().state().toString()).put(ENCRYPTED_SESSION_KEY,jobAuthorization().sessionSecretKey());###builder###ImmutableMap.<String,Object>builder().put(DATA_TYPE_KEY,transferDataType()).put(EXPORT_SERVICE_KEY,exportService()).put(IMPORT_SERVICE_KEY,importService()).put(AUTHORIZATION_STATE,jobAuthorization().state().toString())###137:5:143:80
d5c4479d817d5b363af8d07ee757fe99f8713cc8###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/videos/GoogleVideosImporter.java###/GoogleVideosImporter.java###org.datatransferproject.datatransfer.google.videos.GoogleVideosImporter###buildMediaItem:VideoObject String ###newMediaItem=NewMediaItemFactory.createNewMediaItem(uploadToken,inputVideo.getDescription());###videoDescription###inputVideo.getDescription()###320:7:321:92
4d971d4e29a0e62233768869b6f0921cf205baa0###/google_data-transfer-project/src/main/java/org/dataportabilityproject/serviceProviders/google/piccasa/GooglePhotosService.java###/GooglePhotosService.java###org.dataportabilityproject.serviceProviders.google.piccasa.GooglePhotosService###importItem:PhotoAlbum ###MediaStreamSourcestreamSource=newMediaStreamSource(getImageAsStream(photo.getFetchableUrl()),photo.getMediaType());###mediaType###photo.getMediaType()###108:13:109:43
1f5577a9fe5200344a3ba6c0b030fc45f397ba9e###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/photos/GooglePhotosImporter.java###/GooglePhotosImporter.java###org.datatransferproject.datatransfer.google.photos.GooglePhotosImporter###importItem:UUID IdempotentImportExecutor TokensAndUrlAuthData PhotosContainerResource ###if(data.getPhotos()!=null&&data.getPhotos().size()>0)###photos###data.getPhotos()###126:5:137:6
f85d2d56179735a7a29a591c054cda616ce7dd14###/google_data-transfer-project/portability-transfer/src/main/java/org/dataportabilityproject/transfer/retry/RetryingCallable.java###/RetryingCallable.java###org.dataportabilityproject.transfer.retry.RetryingCallable###call:###longnextAttemptIntervalMillis=retryStrategyLibrary.checkoutRetryStrategy(e).getRemainingIntervalMillis(attempts,elapsedMillis);###strategy###retryStrategyLibrary.checkoutRetryStrategy(e)###65:9:66:66
3c6485c16566e06c0131158ce76caab1d1bd70be###/google_data-transfer-project/portability-core/src/main/java/org/dataportabilityproject/serviceProviders/google/contacts/GoogleContactsService.java###/GoogleContactsService.java###org.dataportabilityproject.serviceProviders.google.contacts.GoogleContactsService###export:ExportInformation ###ListConnectionsResponseresponse=peopleService.people().connections().list(SELF_RESOURCE).execute();###connectionsList###peopleService.people().connections().list(SELF_RESOURCE)###170:5:171:40
26ad01d9bb45c6725339799c2a03e1f3d4b03b9e###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/videos/GoogleVideosImporter.java###/GoogleVideosImporter.java###org.datatransferproject.datatransfer.google.videos.GoogleVideosImporter###importItem:UUID IdempotentImportExecutor TokensAndUrlAuthData VideosContainerResource ###if(data.getVideos()!=null&&data.getVideos().size()>0)###videos###data.getVideos()###128:5:137:6
c848923be3c227d79e765e5d235ccbfea346f07e###/google_data-transfer-project/portability-core/src/main/java/org/dataportabilityproject/serviceProviders/google/contacts/GoogleContactsService.java###/GoogleContactsService.java###org.dataportabilityproject.serviceProviders.google.contacts.GoogleContactsService###export:ExportInformation ###returnnewContactsModelWrapper(vCards,newContinuationInformation(null,newPage));###newContinuationInformation###newContinuationInformation(null,newPage)###115:5:115:89
44527113fc48cb393af9e2fac0ff750059a657f8###/google_data-transfer-project/portability-api/src/main/java/org/datatransferproject/api/action/transfer/CreateTransferJobAction.java###/CreateTransferJobAction.java###org.datatransferproject.api.action.transfer.CreateTransferJobAction###createJob:String String String String String ###returnPortabilityJob.builder().setTransferDataType(dataType).setExportService(exportService).setImportService(importService).setAndValidateJobAuthorization(jobAuthorization).build();###builder###PortabilityJob.builder().setTransferDataType(dataType).setExportService(exportService).setImportService(importService).setAndValidateJobAuthorization(jobAuthorization)###179:5:184:18
e183cebe4723e84096d856004ce07885f363288c###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/photos/GooglePhotosInterface.java###/GooglePhotosInterface.java###org.datatransferproject.datatransfer.google.photos.GooglePhotosInterface###handleHttpResponseException:SupplierWithIO<HttpRequest> HttpResponseException ###if(e.getStatusCode()==401)###statusCode###e.getStatusCode()###228:5:247:6
597c317336cdb5e343ad6147e88c89099ab537af###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-smugmug/src/main/java/org/datatransferproject/transfer/smugmug/photos/SmugMugPhotosImporter.java###/SmugMugPhotosImporter.java###org.datatransferproject.transfer.smugmug.photos.SmugMugPhotosImporter###getAlbumCount:UUID IdempotentImportExecutor PhotoModel ###albumCount=jobStore.findData(jobId,overflowAlbumUri,SmugMugPhotoTempData.class);###overflowAlbumCount###jobStore.findData(jobId,overflowAlbumUri,SmugMugPhotoTempData.class)###215:9:218:39
ef736fedd88a553d6505d8e21aeb20423d5ab66a###/google_data-transfer-project/portability-api/src/main/java/org/datatransferproject/api/action/transfer/StartTransferJobAction.java###/StartTransferJobAction.java###org.datatransferproject.api.action.transfer.StartTransferJobAction###handle:StartTransferJob ###job=updateJobWithCredentials(jobId,job,startTransferJob.getEncryptedAuthData());###authData###startTransferJob.getEncryptedAuthData()###45:5:45:89
ffda466d31deb2b865a065630882d02b3873f5d8###/google_data-transfer-project/extensions/cloud/portability-cloud-google/src/main/java/org/datatransferproject/cloud/google/GoogleJobStore.java###/GoogleJobStore.java###org.datatransferproject.cloud.google.GoogleJobStore###findData:UUID String Class<T> ###returnobjectMapper.readValue(entity.getString(type.getName()),type);###serializedEntity###entity.getString(type.getName())###331:7:331:77
f113abae39dfd468ece62eb4d8f7551f84b98376###/google_data-transfer-project/portability-worker/src/main/java/org/dataportabilityproject/worker/JobPollingService.java###/JobPollingService.java###org.dataportabilityproject.worker.JobPollingService###pollUntilJobIsReady:###logger.debug("PolledlookupAssignedWithAuthDataJob,noauthdatafound,id:{}",jobMetadata.getJobId());###jobId###jobMetadata.getJobId()###111:7:111:112
a06c4aadd366adfb6c2a557322c2cdca249982e7###/google_data-transfer-project/libraries/auth/src/main/java/org/datatransferproject/auth/OAuth2DataGenerator.java###/OAuth2DataGenerator.java###org.datatransferproject.auth.OAuth2DataGenerator###createFlow:###AuthorizationCodeFlow.BuilderauthCodeFlowBuilder=newAuthorizationCodeFlow.Builder(BearerToken.authorizationHeaderAccessMethod(),httpTransport,newJacksonFactory(),newGenericUrl(config.getTokenUrl()),newClientParametersAuthentication(clientId,clientSecret),clientId,config.getAuthUrl()).setScopes(scopes);###authCodeFlowBuilder###newAuthorizationCodeFlow.Builder(BearerToken.authorizationHeaderAccessMethod(),httpTransport,newJacksonFactory(),newGenericUrl(config.getTokenUrl()),newClientParametersAuthentication(clientId,clientSecret),clientId,config.getAuthUrl())###112:5:121:28
334310b4c06faab124eeb358d0ff397701913503###/google_data-transfer-project/portability-core/src/main/java/org/dataportabilityproject/serviceProviders/google/contacts/GoogleContactsService.java###/GoogleContactsService.java###org.dataportabilityproject.serviceProviders.google.contacts.GoogleContactsService###export:ExportInformation ###returnnewContactsModelWrapper(vCards,null);###newContinuationInformation###null###166:5:166:51
7e0bdda134a86b462186d1d820c42ce0a578c24f###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-backblaze/src/test/java/org/datatransferproject/datatransfer/backblaze/videos/BackblazeVideosImporterTest.java###/BackblazeVideosImporterTest.java###org.datatransferproject.datatransfer.backblaze.videos.BackblazeVideosImporterTest###testImportVideo:###sut.importItem(UUID.randomUUID(),executor,authData,data);###jobId###UUID.randomUUID()###125:9:125:69
742433e2f9b0b65fc86e8d7b30b1e427756ce708###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-microsoft/src/main/java/org/datatransferproject/transfer/microsoft/photos/MicrosoftPhotosImporter.java###/MicrosoftPhotosImporter.java###org.datatransferproject.transfer.microsoft.photos.MicrosoftPhotosImporter###importSinglePhoto:PhotoModel UUID IdempotentImportExecutor ###uploadRequestBuilder.header("Content-Range",String.format("bytes%d-%d/%d",chunk.getStart(),chunk.getEnd(),totalFileSize));###contentRange###String.format("bytes%d-%d/%d",chunk.getStart(),chunk.getEnd(),totalFileSize)###287:7:287:134
aba59a6595c87d31d549a63553a9b7cc6211424f###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/photos/GooglePhotosExporter.java###/GooglePhotosExporter.java###org.datatransferproject.datatransfer.google.photos.GooglePhotosExporter###exportAlbums:TokensAndUrlAuthData Optional<PaginationData> ###albums.add(newPhotoAlbum(googleAlbum.getId(),googleAlbum.getTitle(),null));###photoAlbum###newPhotoAlbum(googleAlbum.getId(),googleAlbum.getTitle(),null)###156:9:160:24
1f9855a3fffce3634c3b72a9e78ab55d02be5c18###/google_data-transfer-project/extensions/data-transfer/portability-data-transfer-google/src/main/java/org/datatransferproject/datatransfer/google/videos/GoogleVideosImporter.java###/GoogleVideosImporter.java###org.datatransferproject.datatransfer.google.videos.GoogleVideosImporter###uploadMediaItem:MediaObject PhotosLibraryClient ###thrownewUploadErrorException("Uploadwasterminatedbecauseoferror",error.getCause());###cause###error.getCause()###294:11:295:75
