293ba8aa4a4c3a7b7910e448b59d9d5025c17bfc###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/yarn/HeronExecutorTask.java###/HeronExecutorTask.java###com.twitter.heron.scheduler.yarn.HeronExecutorTask###call:byte[] ###LOG.log(Level.INFO,"workingdir:{0}",workingDirectory.getAbsolutePath());###cwdPath###workingDirectory.getAbsolutePath()###115:5:115:81
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/schedulers/tests/java/com/twitter/heron/scheduler/aurora/AuroraSchedulerTest.java###/AuroraSchedulerTest.java###com.twitter.heron.scheduler.aurora.AuroraSchedulerTest###testOnSchedule:###scheduler.initialize(Mockito.mock(Config.class),Mockito.mock(Config.class));###runtime###Mockito.mock(Config.class)###76:5:76:82
c0c70d96452625ebf4b916557086c7f84ac94386###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/yarn/HeronMasterDriver.java###/HeronMasterDriver.java###com.twitter.heron.scheduler.yarn.HeronMasterDriver###scheduleHeronWorkers:PackingPlan ###launchContainerForExecutor(entry.getKey(),getCpuForExecutor(reqResource),mem);###cores###getCpuForExecutor(reqResource)###164:9:164:89
90a615d349557048b1d84176cd50fe67ecbb013b###/apache_incubator-heron/heron/scheduler-core/src/java/com/twitter/heron/scheduler/UpdateTopologyManager.java###/UpdateTopologyManager.java###com.twitter.heron.scheduler.UpdateTopologyManager###updateTopology:PackingPlans.PackingPlan PackingPlans.PackingPlan SchedulerStateManagerAdaptor ###scalableScheduler.get().addContainers(containerDelta.getContainersToAdd());###containersToAdd###containerDelta.getContainersToAdd()###158:7:158:82
ac6ad4c8444ea87404f206292291dd3e617f5c2b###/apache_incubator-heron/heron/newscheduler/src/java/com/twitter/heron/scheduler/ClusterDefaults.java###/ClusterDefaults.java###com.twitter.heron.scheduler.ClusterDefaults###getDefaultResources:###ContextresContext=Context.newBuilder().put(Keys.Config.STMGR_RAM,Long.valueOf(Defaults.Config.STMGR_RAM)).put(Keys.Config.INSTANCE_CPU,Long.valueOf(Defaults.Config.INSTANCE_CPU)).put(Keys.Config.INSTANCE_RAM,Long.valueOf(Defaults.Config.INSTANCE_RAM)).put(Keys.Config.INSTANCE_DISK,Long.valueOf(Defaults.Config.INSTANCE_DISK)).build();###cb###Context.newBuilder().put(Keys.Config.STMGR_RAM,Long.valueOf(Defaults.Config.STMGR_RAM)).put(Keys.Config.INSTANCE_CPU,Long.valueOf(Defaults.Config.INSTANCE_CPU)).put(Keys.Config.INSTANCE_RAM,Long.valueOf(Defaults.Config.INSTANCE_RAM)).put(Keys.Config.INSTANCE_DISK,Long.valueOf(Defaults.Config.INSTANCE_DISK))###37:6:42:19
150c4a4b4d000572c4a18fd09ae4e911e68040d8###/apache_incubator-heron/heron/tools/apiserver/src/java/com/twitter/heron/apiserver/Runtime.java###/Runtime.java###com.twitter.heron.apiserver.Runtime###main:String[] ###Logging.setVerbose(isVerbose(cmd));###verbose###isVerbose(cmd)###257:5:257:40
70a77114d1c59efb893a71f4b2178fa2ab3d9483###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/yarn/HeronMasterDriver.java###/HeronMasterDriver.java###com.twitter.heron.scheduler.yarn.HeronMasterDriver###scheduleHeronWorkers:Set<ContainerPlan> ###thrownewContainerAllocationException("Receivedduplicateallocationrequestfor"+containerPlan.getId());###id###containerPlan.getId()###181:9:182:38
b0289bf4f0eaf2aae529af080d3d1b79d57680c5###/apache_incubator-heron/heron/uploaders/src/java/com/twitter/heron/uploader/http/HttpUploader.java###/HttpUploader.java###com.twitter.heron.uploader.http.HttpUploader###initialize:Config ###this.topologyPackageLocation=Context.topologyPackageFile(config);###topologyPackageFile###Context.topologyPackageFile(config)###55:5:55:72
f6f215e6411f50a5304ddc2d175fbee418b6d832###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/yarn/HeronMasterDriver.java###/HeronMasterDriver.java###com.twitter.heron.scheduler.yarn.HeronMasterDriver###scheduleHeronWorkers:Set<ContainerPlan> ###thrownewContainerAllocationException("Receivedduplicateallocationrequestfor"+containerPlan.getId());###id###containerPlan.getId()###170:9:171:38
6d81d8cebe5b6d9811e3828433693de1a1e01754###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testAckAndFail.task.new Runnable###run:###Assert.assertEquals(5,failCount.intValue());###failsExpected###5###276:11:276:56
cc4b2d7d016e138999ab5476e178e76eac922b78###/apache_incubator-heron/heron/healthmgr/tests/java/com/twitter/heron/healthmgr/sensors/ExecuteCountSensorTest.java###/ExecuteCountSensorTest.java###com.twitter.heron.healthmgr.sensors.ExecuteCountSensorTest###providesBoltExecutionCountMetrics:###assertEquals(123,componentMetrics.get("bolt-1").getMetrics("container_1_bolt-1_1").getMetricValueSum(METRIC_EXE_COUNT.text()).intValue());###metric###METRIC_EXE_COUNT.text()###62:5:64:65
60bf9429a3c2a68397802806795841d9c262a02e###/apache_incubator-heron/heron/downloaders/src/java/com/twitter/heron/downloader/Registry.java###/Registry.java###com.twitter.heron.downloader.Registry###getDownloader:URI ###finalClass<?extendsDownloader>downloaderClass=DOWNLOADERS.get(uri.getScheme().toLowerCase());###scheme###uri.getScheme().toLowerCase()###42:5:43:56
69ead0b9bdf40546ff51b22902c46799d07e172a###/apache_incubator-heron/heron/packing/tests/java/com/twitter/heron/packing/binpacking/FirstFitDecreasingPackingTest.java###/FirstFitDecreasingPackingTest.java###com.twitter.heron.packing.binpacking.FirstFitDecreasingPackingTest###testDefaultContainerSizeWithPadding:###topologyConfig.setContainerPaddingPercentage(50);###padding###50###142:5:142:54
bb1b9298d579782aaf49a96d93c1b6e6eb7df0fd###/apache_incubator-heron/heron/metricscachemgr/src/java/com/twitter/heron/metricscachemgr/SimpleMetricsQueryClient.java###/SimpleMetricsQueryClient.java###com.twitter.heron.metricscachemgr.SimpleMetricsQueryClient###onResponse:StatusCode Object Message ###System.out.println("responsecontent"+(TopologyMaster.MetricResponse)response);###resp###(TopologyMaster.MetricResponse)response###98:9:98:92
400aa2e8645ac29607e1bfc88aa3bce46d408ff0###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/aurora/AuroraController.java###/AuroraController.java###com.twitter.heron.scheduler.aurora.AuroraController###runProcess:List<String> ###return0==ShellUtils.runProcess(isVerbose,auroraCmd.toArray(newString[auroraCmd.size()]),newStringBuilder(),newStringBuilder());###stdout###newStringBuilder()###118:5:120:51
8888b5972f3ca4098c733634dbb7c35b0769a2d7###/apache_incubator-heron/heron/downloaders/src/java/com/twitter/heron/downloader/Registry.java###/Registry.java###com.twitter.heron.downloader.Registry###getDownloader:URI ###finalClass<?extendsDownloader>downloaderClass=DOWNLOADERS.get(uri.getScheme().toLowerCase());###scheme###uri.getScheme().toLowerCase()###41:5:42:56
5a439dfc6f5a36dbe9533ae94b6405c903f6cf66###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/common/ShellUtils.java###/ShellUtils.java###com.twitter.heron.spi.common.ShellUtils###runSyncProcess:boolean boolean String[] StringBuilder StringBuilder File ###stderr=newStringBuilder();###pStdErr###stderr###84:9:84:38
15af8a57ae85739cf51a1ebcac7d10c5a632c9e6###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/packing/PackingPlan.java###/PackingPlan.java###com.twitter.heron.spi.packing.PackingPlan###getComponentRamDistribution:###ramMap.put(instancePlan.getComponentName(),instancePlan.getResource().getRam());###newRam###instancePlan.getResource().getRam()###130:9:130:90
2d860429b9b31d145d4f12b066b6338c6703004e###/apache_incubator-heron/heron/api/tests/java/com/twitter/heron/api/windowing/WindowManagerTest.java###/WindowManagerTest.java###com.twitter.heron.api.windowing.WindowManagerTest###testExpireThreshold:###windowManager.setEvictionPolicy(newCountEvictionPolicy<Integer>(5));###countEvictionPolicy###newCountEvictionPolicy<Integer>(5)###147:5:147:74
57310fe58a808ee9cf88b91121d9d8822698bee1###/apache_incubator-heron/heron/instance/src/java/com/twitter/heron/instance/HeronInstance.java###/HeronInstance.java###com.twitter.heron.instance.HeronInstance###main:String[] ###LOG.info("\nStartinginstance"+instanceId+"fortopology"+topologyName+"andtopologyId"+topologyId+"forcomponent"+componentName+"withtaskId"+taskId+"andcomponentIndex"+componentIndex+"andstmgrId"+streamId+"andstmgrPort"+streamPort+"andmetricsManagerPort"+metricsPort);###logMsg###"\nStartinginstance"+instanceId+"fortopology"+topologyName+"andtopologyId"+topologyId+"forcomponent"+componentName+"withtaskId"+taskId+"andcomponentIndex"+componentIndex+"andstmgrId"+streamId+"andstmgrPort"+streamPort+"andmetricsManagerPort"+metricsPort###288:5:292:53
7c9a0399fe908d38b9e3a1a686f95985b480983a###/apache_incubator-heron/heron/instance/src/java/com/twitter/heron/instance/Slave.java###/Slave.java###com.twitter.heron.instance.Slave###handleControlMessage:###LOG.info("TopologystateremainsthesameinSlave:"+helper.getTopologyState());###oldTopologyState###helper.getTopologyState()###111:17:111:100
60bf9429a3c2a68397802806795841d9c262a02e###/apache_incubator-heron/heron/examples/src/java/com/twitter/heron/examples/ExclamationTopology.java###/ExclamationTopology.java###com.twitter.heron.examples.ExclamationTopology###main:String[] ###builder.setSpout("word",newTestWordSpout(Duration.ofMillis(50)),parallelism);###spouts###parallelism###48:5:48:85
d5fb38ec0fd9038ab4e8385325867d5c614e349b###/apache_incubator-heron/heron/metricscachemgr/tests/java/com/twitter/heron/metricscachemgr/metricscache/CacheCoreTest.java###/CacheCoreTest.java###com.twitter.heron.metricscachemgr.metricscache.CacheCoreTest###testTreeIndex1:###assertMetricValue(list,Arrays.asList(newMetricTimeRangeValue(now-90*1000,now-90*1000,"0.1"),newMetricTimeRangeValue(now-80*1000,now-80*1000,"0.2")));###expected###Arrays.asList(newMetricTimeRangeValue(now-90*1000,now-90*1000,"0.1"),newMetricTimeRangeValue(now-80*1000,now-80*1000,"0.2"))###566:5:570:7
d5fb38ec0fd9038ab4e8385325867d5c614e349b###/apache_incubator-heron/heron/metricscachemgr/tests/java/com/twitter/heron/metricscachemgr/metricscache/CacheCoreTest.java###/CacheCoreTest.java###com.twitter.heron.metricscachemgr.metricscache.CacheCoreTest###testTreeIndex2:###assertMetricValue(list,Arrays.asList(newMetricTimeRangeValue(now-90*1000,now-90*1000,"0.1"),newMetricTimeRangeValue(now-80*1000,now-80*1000,"0.2"),newMetricTimeRangeValue(now-60*1000,now-60*1000,"0.3"),newMetricTimeRangeValue(now-50*1000,now-50*1000,"0.4")));###expected###Arrays.asList(newMetricTimeRangeValue(now-90*1000,now-90*1000,"0.1"),newMetricTimeRangeValue(now-80*1000,now-80*1000,"0.2"),newMetricTimeRangeValue(now-60*1000,now-60*1000,"0.3"),newMetricTimeRangeValue(now-50*1000,now-50*1000,"0.4"))###594:5:600:7
807022583fa38f693653bbb89ecca0d08c44261e###/apache_incubator-heron/heron/scheduler/src/java/com/twitter/heron/scheduler/util/RoundRobinPacking.java###/RoundRobinPacking.java###com.twitter.heron.scheduler.util.RoundRobinPacking###getDefaultInstanceRam:Map<String,List<String>> ###longcontainerRamRequested=Long.parseLong(TopologyUtility.getConfigWithDefault(topologyConfig,Config.TOPOLOGY_CONTAINER_RAM_REQUESTED,"-1"));###containerRam###TopologyUtility.getConfigWithDefault(topologyConfig,Config.TOPOLOGY_CONTAINER_RAM_REQUESTED,"-1")###88:5:89:73
91408c8f286ab60d8104626ab29dee25d0c079c6###/apache_incubator-heron/heron/newscheduler/src/java/com/twitter/heron/scheduler/SchedulerMain.java###/SchedulerMain.java###com.twitter.heron.scheduler.SchedulerMain###main:String[] ###SchedulerMainschedulerMain=newSchedulerMain(cmd.getOptionValue("cluster"),cmd.getOptionValue("role"),cmd.getOptionValue("environment"),cmd.getOptionValue("topology_name"),cmd.getOptionValue("topology_jar"),Integer.parseInt(cmd.getOptionValue("http_port")));###topologyName###cmd.getOptionValue("topology_name")###192:5:197:60
d6c408117a68bc47f40878ed5101d524936926f8###/apache_incubator-heron/heron/newscheduler/src/java/com/twitter/heron/scheduler/RuntimeManagerRunner.java###/RuntimeManagerRunner.java###com.twitter.heron.scheduler.RuntimeManagerRunner###call:###result=activateTopologyHandler(Context.topologyName(config));###topologyName###Context.topologyName(config)###62:9:62:72
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testLookForTimeouts.task.new Runnable###run:###Assert.assertEquals(10,failCount.intValue());###tuplesExpected###10###342:9:342:55
ed197f67775e3c669f3836b0958545d604a330ee###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/common/ClusterDefaults.java###/ClusterDefaults.java###com.twitter.heron.spi.common.ClusterDefaults###getDefaultHome:###Config.Buildercb=Config.newBuilder().put(Keys.HERON_HOME,Defaults.HERON_HOME);###cb###Config.newBuilder()###17:5:17:87
dc4c733afc92bec8c68e7e11a9050433346327ef###/apache_incubator-heron/heron/packing/tests/java/org/apache/heron/packing/PackingTestHelper.java###/PackingTestHelper.java###org.apache.heron.packing.PackingTestHelper###generateTestPackingPlan:String PackingPlan Pair<Integer,String>[] Pair<Integer,String>[] int ###builder.setDefaultInstanceResource(newResource(1,ByteAmount.fromMegabytes(192),ByteAmount.fromMegabytes(1)));###defaultInstanceResource###newResource(1,ByteAmount.fromMegabytes(192),ByteAmount.fromMegabytes(1))###84:5:85:86
ac6ad4c8444ea87404f206292291dd3e617f5c2b###/apache_incubator-heron/heron/newscheduler/src/java/com/twitter/heron/scheduler/ClusterDefaults.java###/ClusterDefaults.java###com.twitter.heron.scheduler.ClusterDefaults###getDefaultBinaries:###ContextbinContext=Context.newBuilder().put(Keys.Config.EXECUTOR_BINARY,Defaults.Config.EXECUTOR_BINARY).put(Keys.Config.STMGR_BINARY,Defaults.Config.STMGR_BINARY).put(Keys.Config.TMASTER_BINARY,Defaults.Config.TMASTER_BINARY).put(Keys.Config.SHELL_BINARY,Defaults.Config.SHELL_BINARY).build();###cb###Context.newBuilder().put(Keys.Config.EXECUTOR_BINARY,Defaults.Config.EXECUTOR_BINARY).put(Keys.Config.STMGR_BINARY,Defaults.Config.STMGR_BINARY).put(Keys.Config.TMASTER_BINARY,Defaults.Config.TMASTER_BINARY).put(Keys.Config.SHELL_BINARY,Defaults.Config.SHELL_BINARY)###20:6:25:19
2b0aa288a2dc5c0c60b79ba0b9b90c3f3e7fd1ad###/apache_incubator-heron/heron/api/src/java/com/twitter/heron/api/Config.java###/Config.java###com.twitter.heron.api.Config###setComponentRam:Map<String,Object> String ByteAmount ###StringoldEntry=(String)conf.get(Config.TOPOLOGY_COMPONENT_RAMMAP);###key###Config.TOPOLOGY_COMPONENT_RAMMAP###495:7:495:77
6d81d8cebe5b6d9811e3828433693de1a1e01754###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testAckAndFail.task.new Runnable###run:###Assert.assertEquals(5,ackCount.intValue());###acksExpected###5###275:11:275:55
382d4eb68dd07c0cb6cd44dced407deaa839f5ca###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/grouping/CustomGroupingTest.java###/CustomGroupingTest.java###com.twitter.heron.grouping.CustomGroupingTest.testCustomGrouping.task.new Runnable###run:###if(tupleReceived==10)###expectedTuplesValidated###10###156:11:161:12
590588e8ee37d67e90dce35b9bb8014c11a97f40###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/local/LocalScheduler.java###/LocalScheduler.java###com.twitter.heron.scheduler.local.LocalScheduler###sendToTMaster:String ###if(connection.getResponseCode()==HttpURLConnection.HTTP_OK)###responseCode###connection.getResponseCode()###333:7:336:8
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/schedulers/tests/java/com/twitter/heron/scheduler/aurora/AuroraSchedulerTest.java###/AuroraSchedulerTest.java###com.twitter.heron.scheduler.aurora.AuroraSchedulerTest###testOnSchedule:###scheduler.initialize(Mockito.mock(Config.class),Mockito.mock(Config.class));###mConfig###Mockito.mock(Config.class)###76:5:76:82
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/statemgrs/src/java/com/twitter/heron/statemgr/zookeeper/curator/CuratorStateManager.java###/CuratorStateManager.java###com.twitter.heron.statemgr.zookeeper.curator.CuratorStateManager###deleteNode:String ###client.delete().withVersion(-1).forPath(path);###deleteBuilder###client.delete()###215:7:215:53
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/aurora/AuroraController.java###/AuroraController.java###com.twitter.heron.scheduler.aurora.AuroraController###runProcess:List<String> ###return0==ShellUtils.runProcess(isVerbose,auroraCmd.toArray(newString[auroraCmd.size()]),newStringBuilder(),newStringBuilder());###stderr###newStringBuilder()###118:5:120:51
a3ab089a478f51672a67eb6fbaf0dd0f96e68397###/apache_incubator-heron/heron/scheduler/src/java/com/twitter/heron/scheduler/aurora/AuroraConfigLoader.java###/AuroraConfigLoader.java###com.twitter.heron.scheduler.aurora.AuroraConfigLoader###applyConfigOverride:String ###properties.setProperty(Constants.DC,clusterParts[0]);###dc###clusterParts[0]###120:5:120:59
f30c1e1b64e10ee36af7e7bb3fc3dd2fb7094d2d###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/utils/ShellUtils.java###/ShellUtils.java###com.twitter.heron.spi.utils.ShellUtils###runSyncProcess:boolean boolean String[] StringBuilder StringBuilder File Map<String,String> ###LOG.log(Level.FINE,"\tSTDOUT:{0}",pStdOut.toString());###stdoutString###pStdOut.toString()###104:7:104:64
ed197f67775e3c669f3836b0958545d604a330ee###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/local/LocalLauncher.java###/LocalLauncher.java###com.twitter.heron.scheduler.local.LocalLauncher###topologyConfigs:###Config.Builderbuilder=Config.newBuilder().put(Keys.TOPOLOGY_ID,topology.getId()).put(Keys.TOPOLOGY_NAME,topology.getName()).put(Keys.TOPOLOGY_DEFINITION_FILE,Context.topologyDefinitionFile(config)).put(Keys.TOPOLOGY_PACKAGE_URI,Context.topologyPackageUri(config)).put(Keys.TOPOLOGY_JAR_FILE,Context.topologyJarFile(config)).put(Keys.TOPOLOGY_PACKAGE_TYPE,Context.topologyPackageType(config));###pkgType###Context.topologyPackageType(config)###72:5:78:79
3d1478c4dbf91931fb08cd8f8ce72ac39bbc95c5###/apache_incubator-heron/heron/spi/tests/java/com/twitter/heron/spi/packing/PackingPlanTest.java###/PackingPlanTest.java###com.twitter.heron.spi.packing.PackingPlanTest###testPackingToString:###StringpackingStr=generatePacking(packing).getInstanceDistribution();###packingPlan###generatePacking(packing)###60:5:60:76
b7a24866c9c4d43f1e2f3773145ae5df13679294###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/aurora/AuroraScheduler.java###/AuroraScheduler.java###com.twitter.heron.scheduler.aurora.AuroraScheduler###createAuroraProperties:Resource ###auroraProperties.put(AuroraField.TOPOLOGY_ARGUMENTS,String.join("",topologyArgs));###args###String.join("",topologyArgs)###220:5:220:90
6d81d8cebe5b6d9811e3828433693de1a1e01754###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testDoImmediateAcks.task.new Runnable###run:###Assert.assertEquals(10,ackCount.intValue());###tuplesExpected###10###211:11:211:56
9f05f47227aa87d0014621519e2d9c89f667a065###/apache_incubator-heron/heron/packing/src/java/org/apache/heron/packing/roundrobin/RoundRobinPacking.java###/RoundRobinPacking.java###org.apache.heron.packing.roundrobin.RoundRobinPacking###packInternal:int Map<String,Integer> ###Resourceresource=newResource(Math.max(containerCpu,containerResourceHint.getCpu()),containerRam,containerResourceHint.getDisk());###containerDisk###containerResourceHint.getDisk()###222:7:223:58
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testAckAndFail.task.new Runnable###run:###Assert.assertEquals(5,ackCount.intValue());###acksExpected###5###395:11:395:55
4cf976a1829beb04fda78fb28e6fe8303634ae73###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/utils/ShellUtils.java###/ShellUtils.java###com.twitter.heron.spi.utils.ShellUtils###runSyncProcess:boolean boolean String[] StringBuilder StringBuilder File Map<String,String> ###LOG.log(Level.SEVERE,"\tSTDERR:{0}",pStdErr.toString());###stderrString###pStdErr.toString()###107:7:107:66
1fd6d7fbdaf11398801409da223ff4b4c8309e96###/apache_incubator-heron/heron/instance/src/java/com/twitter/heron/instance/Slave.java###/Slave.java###com.twitter.heron.instance.Slave###handleControlMessage:###LOG.info("TopologystateremainsthesameinSlave:"+helper.getTopologyState());###oldTopologyState###helper.getTopologyState()###112:17:112:100
5a439dfc6f5a36dbe9533ae94b6405c903f6cf66###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/common/ShellUtils.java###/ShellUtils.java###com.twitter.heron.spi.common.ShellUtils###runSyncProcess:boolean boolean String[] StringBuilder StringBuilder File ###stdout=newStringBuilder();###pStdOut###stdout###81:9:81:38
ac6ad4c8444ea87404f206292291dd3e617f5c2b###/apache_incubator-heron/heron/newscheduler/src/java/com/twitter/heron/scheduler/ClusterDefaults.java###/ClusterDefaults.java###com.twitter.heron.scheduler.ClusterDefaults###getDefaults:###Contextcontext=Context.newBuilder().putAll(getDefaultBinaries()).putAll(getDefaultJars()).putAll(getDefaultResources()).build();###cb###Context.newBuilder().putAll(getDefaultBinaries()).putAll(getDefaultJars()).putAll(getDefaultResources())###47:6:51:19
a2c1c2b5ac7c8e4afab56f912962aeccb6ba7569###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/utils/TMasterUtils.java###/TMasterUtils.java###com.twitter.heron.spi.utils.TMasterUtils###transitionTopologyState:String TMasterCommand SchedulerStateManagerAdaptor TopologyAPI.TopologyState TopologyAPI.TopologyState NetworkUtils.TunnelConfig ###TMasterUtils.sendToTMaster(topologyStateControlCommand.name().toLowerCase(),topologyName,statemgr,tunnelConfig);###command###topologyStateControlCommand.name().toLowerCase()###150:5:151:97
9f05f47227aa87d0014621519e2d9c89f667a065###/apache_incubator-heron/heron/packing/src/java/org/apache/heron/packing/roundrobin/RoundRobinPacking.java###/RoundRobinPacking.java###org.apache.heron.packing.roundrobin.RoundRobinPacking###calculateInstancesResourceMapInContainer:Map<Integer,List<InstanceId>> Map<String,T> T T T T T String ###remainingRes=(T)containerResHint.minus(usedRes);###containerRes###containerResHint###334:13:334:64
849e884f47c4fd5e4aafc3c3cc081982acfed01c###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/yarn/HeronMasterDriver.java###/HeronMasterDriver.java###com.twitter.heron.scheduler.yarn.HeronMasterDriver###scheduleHeronWorkers:PackingPlan ###launchContainerForExecutor(entry.getKey(),getCpuForExecutor(reqResource),mem);###cores###getCpuForExecutor(reqResource)###162:9:162:89
d5fb38ec0fd9038ab4e8385325867d5c614e349b###/apache_incubator-heron/heron/metricscachemgr/tests/java/com/twitter/heron/metricscachemgr/metricscache/CacheCoreTest.java###/CacheCoreTest.java###com.twitter.heron.metricscachemgr.metricscache.CacheCoreTest###testTreeIndexAll:###assertMetricValue(list,Arrays.asList(newMetricTimeRangeValue(now-90*1000,now-90*1000,"0.1"),newMetricTimeRangeValue(now-80*1000,now-80*1000,"0.2"),newMetricTimeRangeValue(now-60*1000,now-60*1000,"0.3"),newMetricTimeRangeValue(now-50*1000,now-50*1000,"0.4"),newMetricTimeRangeValue(now-30*1000,now-30*1000,"0.5"),newMetricTimeRangeValue(now-20*1000,now-20*1000,"0.6"),newMetricTimeRangeValue(now,now,"0.7")));###expected###Arrays.asList(newMetricTimeRangeValue(now-90*1000,now-90*1000,"0.1"),newMetricTimeRangeValue(now-80*1000,now-80*1000,"0.2"),newMetricTimeRangeValue(now-60*1000,now-60*1000,"0.3"),newMetricTimeRangeValue(now-50*1000,now-50*1000,"0.4"),newMetricTimeRangeValue(now-30*1000,now-30*1000,"0.5"),newMetricTimeRangeValue(now-20*1000,now-20*1000,"0.6"),newMetricTimeRangeValue(now,now,"0.7"))###624:5:633:7
58e5ba2857be1fc0ad379ad5d93feb6a8fdfeb51###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/utils/PackingTestUtils.java###/PackingTestUtils.java###com.twitter.heron.spi.utils.PackingTestUtils###testContainerPlan:int Integer[] ###instancePlans.add(testInstancePlan(componentName,instanceIndex));###instance###testInstancePlan(componentName,instanceIndex)###80:7:80:73
70d5839eef21e9ac1ae82bc2b5b64390eb2a240e###/apache_incubator-heron/heron/schedulers/tests/java/com/twitter/heron/scheduler/aurora/AuroraSchedulerTest.java###/AuroraSchedulerTest.java###com.twitter.heron.scheduler.aurora.AuroraSchedulerTest###testOnSchedule:###scheduler.initialize(Mockito.mock(Config.class),runtime);###mConfig###Mockito.mock(Config.class)###93:5:93:63
c066c7626d38dd31ec984a95be7dabcee32ec422###/apache_incubator-heron/heron/packing/src/java/org/apache/heron/packing/builder/PackingPlanBuilder.java###/PackingPlanBuilder.java###org.apache.heron.packing.builder.PackingPlanBuilder###addInstance:Integer String ###addToContainer(containers.get(containerId),newPackingPlan.InstancePlan(instanceId,instanceResource),this.componentIndexes,this.taskIds);###instancePlan###newPackingPlan.InstancePlan(instanceId,instanceResource)###124:7:126:48
936cebfa10ec566da0b32197d45ac0a97151eac8###/apache_incubator-heron/heron/common/src/java/com/twitter/heron/common/network/IncomingPacket.java###/IncomingPacket.java###com.twitter.heron.common.network.IncomingPacket###readFromChannel:SocketChannel ###data=ByteBuffer.allocate(header.getInt());###size###header.getInt()###72:7:72:51
1f5b57b905e7a8ac56c14895c55b07667ceeb358###/apache_incubator-heron/heron/examples/src/java/com/twitter/heron/examples/AckingTopology.java###/AckingTopology.java###com.twitter.heron.examples.AckingTopology###main:String[] ###builder.setSpout("word",newAckingTestWordSpout(),2);###spouts###2###49:5:49:60
d9176f096cb562a6318804f0088658ae7bfe52f6###/apache_incubator-heron/heron/healthmgr/src/java/com/twitter/heron/healthmgr/sensors/BackPressureSensor.java###/BackPressureSensor.java###com.twitter.heron.healthmgr.sensors.BackPressureSensor###get:###doubleaverageBp=stmgrInstanceResult.getMetricValueSum(metric)/duration.getSeconds();###valueSum###stmgrInstanceResult.getMetricValueSum(metric)###89:9:89:98
af7063f4c6b695a1c0b407a37c1023e7c359bdf4###/apache_incubator-heron/heron/scheduler/src/java/com/twitter/heron/scheduler/local/LocalScheduler.java###/LocalScheduler.java###com.twitter.heron.scheduler.local.LocalScheduler###communicateTMaster:String ###if(connection.getResponseCode()==HttpURLConnection.HTTP_OK)###responseCode###connection.getResponseCode()###251:7:254:8
0ae3f3a094f71c3bfdb93fc8f517c3ddf49c6c6a###/apache_incubator-heron/heron/metricsmgr/src/java/com/twitter/heron/metricsmgr/sink/tmaster/TMasterSink.java###/TMasterSink.java###com.twitter.heron.metricsmgr.sink.tmaster.TMasterSink.TMasterClientService###startNewMasterClient:###LOG.severe(String.format("StartingTMasterClientforthe%dtime.",startedAttempts.incrementAndGet()));###attempts###startedAttempts.incrementAndGet()###364:7:365:47
456a655fa734da9a75b7deb65cbe2070cc860235###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/aurora/AuroraUtils.java###/AuroraUtils.java###com.twitter.heron.scheduler.aurora.AuroraUtils###createAuroraJob:String String String String String Map<String,String> ###auroraCmd.add(String.format("%s/%s/%s/%s",cluster,role,env,jobName));###jobSpec###String.format("%s/%s/%s/%s",cluster,role,env,jobName)###24:5:28:19
b972d96efe66f0d972940cfd34eaa23c252fef51###/apache_incubator-heron/heron/packing/src/java/com/twitter/heron/packing/PackingPlanBuilder.java###/PackingPlanBuilder.java###com.twitter.heron.packing.PackingPlanBuilder###removeInstance:Integer String ###Optional<PackingPlan.InstancePlan>instancePlan=containers.get(containerId).removeAnyInstanceOfComponent(componentName);###container###containers.get(containerId)###110:5:111:81
c34e7c76bb2c1148f19622a501ed755c6fd199b8###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/yarn/HeronMasterDriver.java###/HeronMasterDriver.java###com.twitter.heron.scheduler.yarn.HeronMasterDriver###scheduleHeronWorkers:PackingPlan ###launchContainerForExecutor(entry.getKey(),getCpuForExecutor(reqResource),mem);###cores###getCpuForExecutor(reqResource)###164:9:164:89
05f8cfd88b56645518a760cbd16b48290d6f61be###/apache_incubator-heron/heron/common/src/java/com/twitter/heron/common/utils/logging/LoggingHelper.java###/LoggingHelper.java###com.twitter.heron.common.utils.logging.LoggingHelper###loggerInit:Level boolean ###Logger.getLogger("").setLevel(level);###rootLogger###Logger.getLogger("")###21:5:21:42
400aa2e8645ac29607e1bfc88aa3bce46d408ff0###/apache_incubator-heron/heron/statemgrs/src/java/com/twitter/heron/statemgr/zookeeper/curator/CuratorStateManager.java###/CuratorStateManager.java###com.twitter.heron.statemgr.zookeeper.curator.CuratorStateManager###deleteNode:String ###client.delete().withVersion(-1).forPath(path);###deleteBuilder###client.delete()###258:7:258:53
e41f40456404b6d25bb33f76622b9211f3df7cc4###/apache_incubator-heron/heron/scheduler/src/java/com/twitter/heron/scheduler/aurora/AuroraLauncher.java###/AuroraLauncher.java###com.twitter.heron.scheduler.aurora.AuroraLauncher###launchTopology:PackingPlan ###return0==ShellUtility.runProcess(true,auroraCmd.toArray(newString[auroraCmd.size()]),newStringBuilder(),newStringBuilder());###cmdline###auroraCmd.toArray(newString[auroraCmd.size()])###202:5:204:51
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testAckAndFail.task.new Runnable###run:###Assert.assertEquals(5,failCount.intValue());###failsExpected###5###396:11:396:56
6d81d8cebe5b6d9811e3828433693de1a1e01754###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/bolt/BoltInstanceTest.java###/BoltInstanceTest.java###com.twitter.heron.instance.bolt.BoltInstanceTest###testReadTupleAndExecute:###Assert.assertEquals(10,tupleExecutedCount.intValue());###expectedTuples###10###142:5:142:60
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/bolt/BoltInstanceTest.java###/BoltInstanceTest.java###com.twitter.heron.instance.bolt.BoltInstanceTest###testReadTupleAndExecute:###Assert.assertEquals(10,tupleExecutedCount.intValue());###expectedTuples###10###204:5:204:60
dce01cb69b310f9b5b41e11eb6df1d5a03744e26###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testDoImmediateAcks.task.new Runnable###run:###Assert.assertEquals(10,ackCount.intValue());###tuplesExpected###10###307:11:307:56
4d7f0c41909e8839f4d93414bf1c49847ca668ec###/apache_incubator-heron/heron/healthmgr/src/java/com/twitter/heron/healthmgr/sensors/BackPressureSensor.java###/BackPressureSensor.java###com.twitter.heron.healthmgr.sensors.BackPressureSensor###get:###doubleaverageBp=stmgrInstanceResult.getMetricValueSum(metric)/duration.getSeconds();###valueSum###stmgrInstanceResult.getMetricValueSum(metric)###81:9:81:98
c066c7626d38dd31ec984a95be7dabcee32ec422###/apache_incubator-heron/heron/packing/src/java/org/apache/heron/packing/builder/PackingPlanBuilder.java###/PackingPlanBuilder.java###org.apache.heron.packing.builder.PackingPlanBuilder###addInstance:Integer String ###addToContainer(containers.get(containerId),newPackingPlan.InstancePlan(instanceId,instanceResource),this.componentIndexes,this.taskIds);###container###containers.get(containerId)###124:7:126:48
1f5b57b905e7a8ac56c14895c55b07667ceeb358###/apache_incubator-heron/heron/examples/src/java/com/twitter/heron/examples/MultiStageAckingTopology.java###/MultiStageAckingTopology.java###com.twitter.heron.examples.MultiStageAckingTopology###main:String[] ###builder.setSpout("word",newAckingTestWordSpout(),2);###parallelism###2###49:5:49:60
5c32f4dedd5b8ebd3daebb5d2f69732c070d4c7f###/apache_incubator-heron/heron/instance/src/java/org/apache/heron/instance/OutgoingTupleCollection.java###/OutgoingTupleCollection.java###org.apache.heron.instance.OutgoingTupleCollection###sendOutState:State<Serializable,Serializable> String ###CheckpointManager.InstanceStateCheckpointinstanceState=CheckpointManager.InstanceStateCheckpoint.newBuilder().setCheckpointId(checkpointId).setState(ByteString.copyFrom(serializedState)).build();###instanceStateBuilder###CheckpointManager.InstanceStateCheckpoint.newBuilder()###120:7:124:24
c8ff3d67ddb3f7d4805311de151228553931756a###/apache_incubator-heron/heron/io/dlog/src/java/org/apache/heron/dlog/Util.java###/Util.java###org.apache.heron.dlog.Util###openNamespace:URI ###returnNamespaceBuilder.newBuilder().uri(uri).clientId("dlog-util").conf(newDistributedLogConfiguration()).build();###distributedLogConfiguration###newDistributedLogConfiguration()###129:5:133:18
8cea23e3e355c8f25ff143b0f70db6c302b84652###/apache_incubator-heron/heron/schedulers/src/java/com/twitter/heron/scheduler/yarn/HeronExecutorTask.java###/HeronExecutorTask.java###com.twitter.heron.scheduler.yarn.HeronExecutorTask###call:byte[] ###finalProcessregularExecutor=ShellUtils.runASyncProcess(true,executorCmd,newFile("."));###workingDirectory###newFile(".")###112:5:112:98
f30c1e1b64e10ee36af7e7bb3fc3dd2fb7094d2d###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/utils/ShellUtils.java###/ShellUtils.java###com.twitter.heron.spi.utils.ShellUtils###runSyncProcess:boolean boolean String[] StringBuilder StringBuilder File Map<String,String> ###LOG.log(Level.SEVERE,"\tSTDERR:{0}",pStdErr.toString());###stderrString###pStdErr.toString()###107:7:107:66
f30c1e1b64e10ee36af7e7bb3fc3dd2fb7094d2d###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/utils/ShellUtils.java###/ShellUtils.java###com.twitter.heron.spi.utils.ShellUtils###runSyncProcess:boolean boolean String[] StringBuilder StringBuilder File Map<String,String> ###Processprocess=getProcessBuilder(isInheritIO,cmdline,workingDirectory,envs).start();###pb###getProcessBuilder(isInheritIO,cmdline,workingDirectory,envs)###92:7:92:97
1f5b57b905e7a8ac56c14895c55b07667ceeb358###/apache_incubator-heron/heron/examples/src/java/com/twitter/heron/examples/ExclamationTopology.java###/ExclamationTopology.java###com.twitter.heron.examples.ExclamationTopology###main:String[] ###builder.setSpout("word",newTestWordSpout(Duration.ofMillis(50)),parallelism);###spouts###parallelism###49:5:49:85
ac6ad4c8444ea87404f206292291dd3e617f5c2b###/apache_incubator-heron/heron/newscheduler/src/java/com/twitter/heron/scheduler/ClusterDefaults.java###/ClusterDefaults.java###com.twitter.heron.scheduler.ClusterDefaults###getDefaultJars:###ContextjarContext=Context.newBuilder().put(Keys.Config.SCHEDULER_JAR,Defaults.Config.SCHEDULER_JAR).build();###cb###Context.newBuilder().put(Keys.Config.SCHEDULER_JAR,Defaults.Config.SCHEDULER_JAR)###30:6:32:19
9f8b0b04b2c9bd767b74c57451759aebbd28400e###/apache_incubator-heron/heron/packing/src/java/com/twitter/heron/packing/roundrobin/RoundRobinPacking.java###/RoundRobinPacking.java###com.twitter.heron.packing.roundrobin.RoundRobinPacking###fillInResource:Map<String,List<String>> ###PackingPlan.Resourceresource=newPackingPlan.Resource(instanceCpuDefault,instanceRam,instanceDisk);###instanceCpu###instanceCpuDefault###209:9:210:85
0ae3f3a094f71c3bfdb93fc8f517c3ddf49c6c6a###/apache_incubator-heron/heron/metricsmgr/src/java/com/twitter/heron/metricsmgr/sink/metricscache/MetricsCacheSink.java###/MetricsCacheSink.java###com.twitter.heron.metricsmgr.sink.metricscache.MetricsCacheSink.MetricsCacheClientService###startNewMasterClient:###LOG.severe(String.format("StartingmetricsCacheClientforthe%dtime.",startedAttempts.incrementAndGet()));###attempts###startedAttempts.incrementAndGet()###371:7:372:47
57310fe58a808ee9cf88b91121d9d8822698bee1###/apache_incubator-heron/heron/instance/src/java/com/twitter/heron/instance/HeronInstance.java###/HeronInstance.java###com.twitter.heron.instance.HeronInstance###main:String[] ###PhysicalPlans.InstanceInfoinstanceInfo=PhysicalPlans.InstanceInfo.newBuilder().setTaskId(taskId).setComponentIndex(componentIndex).setComponentName(componentName).build();###instanceInfoBuilder###PhysicalPlans.InstanceInfo.newBuilder().setTaskId(taskId).setComponentIndex(componentIndex).setComponentName(componentName)###269:5:270:101
8f212f8f5e3a66c6c3c15e82cb2273a78e0618e7###/apache_incubator-heron/heron/localmode/src/java/com/twitter/heron/localmode/grouping/FieldsGrouping.java###/FieldsGrouping.java###com.twitter.heron.localmode.grouping.FieldsGrouping###FieldsGrouping:TopologyAPI.InputStream TopologyAPI.StreamSchema List<Integer> ###if(schema.getKeys(i).getKey().equals(inputStream.getGroupingFields().getKeys(j).getKey()))###keysEqual###schema.getKeys(i).getKey().equals(inputStream.getGroupingFields().getKeys(j).getKey())###33:9:36:10
1c27c39fd5aa6e469ba525277130e7d817c68468###/apache_incubator-heron/heron/spi/src/java/com/twitter/heron/spi/utils/NetworkUtils.java###/NetworkUtils.java###com.twitter.heron.spi.utils.NetworkUtils###sendHttpPostRequest:HttpURLConnection byte[] ###connection.getOutputStream().write(data);###os###connection.getOutputStream()###153:7:153:48
1123f731cb4a399ef4717e1c07dcbd22ccbab37d###/apache_incubator-heron/integration-test/src/java/com/twitter/heron/integration_test/core/TestTopologyBuilder.java###/TestTopologyBuilder.java###com.twitter.heron.integration_test.core.TestTopologyBuilder###setSpout:String IRichSpout Number int ###wrappedSpout=newMultiPhaseTestSpout(spout,maxExecutionCount,2,newHttpGetCondition(stateLocation+"_"+stateUpdateToken),stateLocation);###topologyUpdateUrl###stateLocation+"_"+stateUpdateToken###75:7:76:88
557c9804af0c23952b3df7e29715f01e338884f8###/apache_incubator-heron/heron/instance/src/java/com/twitter/heron/instance/bolt/BoltInstance.java###/BoltInstance.java###com.twitter.heron.instance.bolt.BoltInstance###readTuplesAndExecute:Communicator<HeronTuples.HeronTupleSet> ###if(System.nanoTime()-startOfCycle-instanceExecuteBatchTime>0)###currentTime###startOfCycle###222:7:224:8
6d81d8cebe5b6d9811e3828433693de1a1e01754###/apache_incubator-heron/heron/instance/tests/java/com/twitter/heron/instance/spout/SpoutInstanceTest.java###/SpoutInstanceTest.java###com.twitter.heron.instance.spout.SpoutInstanceTest.testLookForTimeouts.task.new Runnable###run:###Assert.assertEquals(10,failCount.intValue());###tuplesExpected###10###239:9:239:55
