5f61fed2b80336b9e7d6827a6593c39cc8babb03###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/FillArrayDataPayloadOp.java###/FillArrayDataPayloadOp.java###org.cf.smalivm.opcode.FillArrayDataPayloadOp###create:Instruction int ###returnnewFillArrayDataPayloadOp(address,opName,instr.getElementWidth(),instr.getArrayElements());###arrayElements###instr.getArrayElements()###58:9:58:111
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/TestMethodReflector.java###/TestMethodReflector.java###org.cf.smalivm.TestMethodReflector###testCastsIntegerToBooleanWithTrue:###TIntObjectMap<Object>initial=VMTester.buildRegisterState(1,true);###value###true###27:9:27:78
8d1d1f1c1c3d34769d41f5918d63bc8013ad2bfd###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/strategy/PeepholeStrategy.java###/PeepholeStrategy.java###org.cf.simplify.strategy.PeepholeStrategy###peepMethodInvoke:###mbgraph.replaceInstruction(address,replacement);###insertAddress###address###69:13:69:62
23d44f8dc29a5d3bb96802192d2518801643857e###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/strategy/DeadRemovalStrategy.java###/DeadRemovalStrategy.java###org.cf.simplify.strategy.DeadRemovalStrategy###getHandlerCodeAddresses:MethodBackedGraph ###result.add(handler.getHandlerCodeAddress());###address###handler.getHandlerCodeAddress()###274:17:274:61
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/TestMethodInheritence.java###/TestMethodInheritence.java###org.cf.smalivm.TestMethodInheritence.ChildClass###testInvokingImplemenetedAbstractMethodWorks:###Stringvalue=(String)graph.getTerminatingRegisterConsensus(MethodState.ReturnRegister);###item###graph.getTerminatingRegisterConsensus(MethodState.ReturnRegister)###38:13:38:103
60602288ec3c58e7bd7a03058a3a3fb9adf4644a###/CalebFenton_simplify/exec/MethodExecutionContext.java###/MethodExecutionContext.java###simplify.exec.MethodExecutionContext###clone:###for(rs:registers.get(register))###stores###registers.get(register)###60:13:62:14
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestAPutOp.java###/TestAPutOp.java###org.cf.smalivm.opcode.TestAPutOp###testArrayPutShortFromInt:###TIntObjectMap<Object>initial=VMTester.buildRegisterState(0,newshort[1],1,0,2,0x42);###value###0x42###110:9:110:101
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/TestMethodReflector.java###/TestMethodReflector.java###org.cf.smalivm.TestMethodReflector###testCastsIntegerToByte:###TIntObjectMap<Object>initial=VMTester.buildRegisterState(0,6);###value###6###51:9:51:75
8ae4dc5de1bc5af4390d5a55936bf5f8cf33f502###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/smali/SmaliFileFactory.java###/SmaliFileFactory.java###org.cf.smalivm.smali.SmaliFileFactory###getSmaliFiles:File[] ###log.warn("'{}'hasanearlierdefinition;blockingout",smaliFile.getClassName());###className###smaliFile.getClassName()###44:21:44:104
9a146926ccb8e06617b8bb2bd400f4b652e84a4f###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestNewArrayOp.java###/TestNewArrayOp.java###org.cf.smalivm.opcode.TestNewArrayOp###TestNewIntegerArrayArray:###TIntObjectMap<HeapItem>initial=VMTester.buildRegisterState(0,3,"I");###length###3###52:9:52:82
8fc0b86c1c661c9cd8f37df29c54f8cfac58ab1c###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionGraph.java###/ExecutionGraph.java###org.cf.smalivm.context.ExecutionGraph###buildAddressToLocation:MutableMethodImplementation ###for(instruction:implementation.getInstructions())###instructions###implementation.getInstructions()###119:9:123:10
ea74bbb104f13da32f815eaef55a6bfde5a0e944###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/emulate/java_lang_Class_getMethod.java###/java_lang_Class_getMethod.java###org.cf.smalivm.emulate.java_lang_Class_getMethod###execute:VirtualMachine MethodState ###methodValue=getLocalMethod(vm,(LocalClass)classValue,methodName,parameterTypes);###localClass###(LocalClass)classValue###35:13:35:99
11994d25f56cb52950d3442134764e3c12372ff9###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/OpCreator.java###/OpCreator.java###org.cf.smalivm.opcode.OpCreator###create:MethodLocation ###Opcodeopcode=location.getInstruction().getOpcode();###instruction###location.getInstruction()###345:9:345:63
1e96150ca4b7bd1f6ce79937ee630a3083760c19###/CalebFenton_simplify/src/refactor/vm/MethodExecutor.java###/MethodExecutor.java###refactor.vm.MethodExecutor###execute:String ###executeStack.push(graph.getRootNode());###rootNode###graph.getRootNode()###29:9:29:48
9b0c17ae4a701b7ec6ac55bd3375783e51b62c7b###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/ReturnOp.java###/ReturnOp.java###org.cf.smalivm.opcode.ReturnOp###execute:MethodState ###mState.assignReturnRegister(mState.readRegister(register));###value###mState.readRegister(register)###38:13:38:72
3029cff90fc88f206451d051695ad2250a78133c###/CalebFenton_simplify/src/simplify/optimize/DeadRemover.java###/DeadRemover.java###simplify.optimize.DeadRemover###getDeadAssignmentAddresses:###TIntListassigned=graph.getNodePile(address).get(0).getContext().getRegistersAssigned();###pile###graph.getNodePile(address)###128:13:128:103
43d2a2a70c08ddc362513c192464a06e1f66fe9a###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/emulate/java_lang_Class_getMethod.java###/java_lang_Class_getMethod.java###org.cf.smalivm.emulate.java_lang_Class_getMethod###getLocalMethod:VirtualMachine LocalClass String Class<?>[] ###Set<String>methodDescriptors=vm.getClassManager().getMethodDescriptors(localClass.getName());###className###localClass.getName()###52:9:52:105
d5cace85107782dcb7dfa991854c58eeb9a3d91c###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/VirtualMachine.java###/VirtualMachine.java###org.cf.smalivm.VirtualMachine###buildMethodDescriptorToTryCatchList:List<BuilderClassDef> ###result.put(methodDescriptor,method.getImplementation().getTryBlocks());###implementation###method.getImplementation()###83:17:83:89
43d2a2a70c08ddc362513c192464a06e1f66fe9a###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getMethod.java###/Test_java_lang_Class_getMethod.java###org.cf.smalivm.emulate.Test_java_lang_Class_getMethod.TestNonLocalClass###testGetNonExistantMethodReturnsUnknownValue:###MethodStatemState=getMethodState(vm,CLASS,"yoDawgThisMethodWillNeverExist",null);###methodName###"yoDawgThisMethodWillNeverExist"###110:13:110:100
483499825d1b95a9054343bd59431f4044e85693###/CalebFenton_simplify/test/simplify/vm/ops/TestArrayOps.java###/TestArrayOps.java###simplify.vm.ops.TestArrayOps###TestNewArrayMultiDimensionalLocal:###registerState.put(0,newUninitializedInstance[2][][]);###expected###newUninitializedInstance[2][][]###74:9:74:64
9a4134283aa85232067a8a34e22a0698069dd8c2###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/emulate/java_lang_Class_getMethod.java###/java_lang_Class_getMethod.java###org.cf.smalivm.emulate.java_lang_Class_getMethod###getLocalMethod:VirtualMachine LocalClass String Class<?>[] ###Set<String>methodDescriptors=vm.getClassManager().getMethodDescriptors(localClass.getName());###className###localClass.getName()###51:9:51:105
03c8ec7701fd560bc3c9d920007e300cbef34578###/CalebFenton_simplify/exec/InstructionExecutor.java###/InstructionExecutor.java###simplify.exec.InstructionExecutor###execute:List<BuilderClassDef> InstructionNode ###if(instruction.getOpcode().canContinue()&&(childOffsets.size()==0))###op###instruction.getOpcode()###486:9:488:10
9f48f1ac2b6764ba485a68a0bd92d45b633e8515###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/FilledNewArrayOp.java###/FilledNewArrayOp.java###org.cf.smalivm.opcode.FilledNewArrayOp###execute:MethodState ###if(item.getValue()instanceofNumber)###value###item.getValue()###80:13:93:14
9c0b8cf5ef10fb32373b88e973fbdbb81e8064cb###/CalebFenton_simplify/src/simplify/vm/VirtualMachine.java###/VirtualMachine.java###simplify.vm.VirtualMachine###execute:String ###MethodContextctx=methodDescriptorToInstructionGraph.get(methodDescriptor).getRootContext();###graph###methodDescriptorToInstructionGraph.get(methodDescriptor)###100:9:100:103
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestInvokeOp.java###/TestInvokeOp.java###org.cf.smalivm.opcode.TestInvokeOp.TestInvokeReflectedMethod###testInvokeStringBuilderAppendWithLong:###StringBuildersb=newStringBuilder().append(0x1234L);###value###0x1234L###42:13:42:68
9a146926ccb8e06617b8bb2bd400f4b652e84a4f###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestNewArrayOp.java###/TestNewArrayOp.java###org.cf.smalivm.opcode.TestNewArrayOp###TewNewLocalClassArray:###TIntObjectMap<HeapItem>initial=VMTester.buildRegisterState(0,1,"I");###length###1###17:9:17:82
5ddee90dfd2ab0034b08d90935525e62dc386bf6###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/strategy/DeadRemovalStrategy.java###/DeadRemovalStrategy.java###org.cf.simplify.strategy.DeadRemovalStrategy###getAddressesNotInCatchBlocks:TIntObjectMap<BuilderInstruction> List<BuilderTryBlock> ###for(address:addressToInstruction.keys())###addresses###addressToInstruction.keys()###74:9:87:10
02e91afa9a2b41dac944b8b77dc700c5798aacba###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/UnaryMathOp.java###/UnaryMathOp.java###org.cf.smalivm.opcode.UnaryMathOp###getResultTypeName:String ###returnnull;###resultType###null###31:9:31:21
4508d32d3b9e01b771cafc59ff0abe14545cb099###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getMethod.java###/Test_java_lang_Class_getMethod.java###org.cf.smalivm.emulate.Test_java_lang_Class_getMethod.TestLocalClass###testGetExistantMethodWithNoParameterTypesReturnsExpectedLocalMethod:###HeapItemexpected=newHeapItem(newLocalMethod(CLASS_NAME+"->someString()Ljava/lang/String;"),METHOD_TYPE);###expectedValue###newLocalMethod(CLASS_NAME+"->someString()Ljava/lang/String;")###50:13:51:42
d473e8a161a1c20eb35fc42685e5ff6e1b2b30ca###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/strategy/DeadRemovalStrategy.java###/DeadRemovalStrategy.java###org.cf.simplify.strategy.DeadRemovalStrategy###perform:###manipulator.removeInstructions(Ints.asList(removeSet.toArray()));###deadAddresses###Ints.asList(removeSet.toArray())###203:9:203:74
584f0e1e65f916ca0d45081fbdab45fadb08a924###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/Optimizer.java###/Optimizer.java###org.cf.simplify.Optimizer###Optimizer:ExecutionGraph BuilderMethod VirtualMachine DexBuilder ###performRepeatedlyStrategies.add(newDeadRemovalStrategy(mbgraph));###strategy###newDeadRemovalStrategy(mbgraph)###49:9:49:75
340101384e56f040237dc2194a2233f1aa6ca8e0###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/java_lang_Class_forName_Test.java###/java_lang_Class_forName_Test.java###org.cf.smalivm.emulate.java_lang_Class_forName_Test###testStrongSideEffectsClassNameReturnsClassAndHasStrongSideEffects:###assertEquals(SideEffect.Level.STRONG,method.getSideEffectLevel());###level###SideEffect.Level.STRONG###121:9:121:76
94120acee8bd5447f1d829b95f9ba005e5cdd58f###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/VirtualMachine.java###/VirtualMachine.java###org.cf.smalivm.VirtualMachine###getRootExecutionContext:String ###intregisterCount=method.getImplementation().getRegisterCount();###impl###method.getImplementation()###336:9:336:75
e3c84bb45b83e4d0b62773408e2fab90993a5585###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionGraph.java###/ExecutionGraph.java###org.cf.smalivm.context.ExecutionGraph###getRoot:###returnaddressToNodePile.get(0).get(0);###pile###addressToNodePile.get(0)###219:9:219:48
02311ab705ec4ceeddea93f366dea2794ecb6384###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestAPutOp.java###/TestAPutOp.java###org.cf.smalivm.opcode.TestAPutOp###testArrayPutWide:###TIntObjectMap<Object>initial=VMTester.buildRegisterState(0,newlong[1],1,0,2,10000000000L);###value###10000000000L###126:9:126:108
63565e4ec6d82fed7801bc069fe7070fa488314d###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/MethodExecutor.java###/MethodExecutor.java###org.cf.smalivm.MethodExecutor###execute:ExecutionGraph ###log.info("Executing"+methodDescriptor+",depth="+currentNode.getCallDepth());###callDepth###currentNode.getCallDepth()###35:13:35:97
e5e6cfb9fcfad6dc9145bdaa7f8de076d4db454f###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/VirtualMachine.java###/VirtualMachine.java###org.cf.smalivm.VirtualMachine###buildClassNameToClassContext:List<BuilderClassDef> ###result.put(className,newClassContext(classDef.getFields().size()));###cctx###newClassContext(classDef.getFields().size())###233:13:233:82
9a4134283aa85232067a8a34e22a0698069dd8c2###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getMethod.java###/Test_java_lang_Class_getMethod.java###org.cf.smalivm.emulate.Test_java_lang_Class_getMethod.TestLocalClass###testGetNonExistantMethodReturnsUnknownValue:###MethodStatemState=getMethodState(vm,CLASS,"yoDawgThisMethodWillNeverExist",null);###methodName###"yoDawgThisMethodWillNeverExist"###68:13:68:100
b58ed02a634ae16c93a76018f4faa3124741218c###/CalebFenton_simplify/src/optimize/DeadRemover.java###/DeadRemover.java###optimize.DeadRemover###areAssignmentsRead:int ContextGraph ###List<RegisterStore>registerStores=node.getContext().getRegisterToStore().getValues();###mctx###node.getContext()###163:13:163:101
877f3755a0bb9c68ed0195dfe92f6ff02834799c###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/InvokeOp.java###/InvokeOp.java###org.cf.smalivm.opcode.InvokeOp###assignCalleeMethodArguments:MethodState MethodState ###HeapItemparameterItem=newHeapItem(item.getValue(),type);###value###item.getValue()###209:13:209:74
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionGraph.java###/ExecutionGraph.java###org.cf.smalivm.context.ExecutionGraph###getFieldConsensus:TIntList String ###returngetFieldConsensus(addressList,parts[0],parts[1]);###className###parts[0]###129:9:129:67
9a4134283aa85232067a8a34e22a0698069dd8c2###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestAPutOp.java###/TestAPutOp.java###org.cf.smalivm.opcode.TestAPutOp###testArrayPutWide:###TIntObjectMap<Object>initial=VMTester.buildRegisterState(0,newlong[1],1,0,2,10000000000L);###value###10000000000L###109:9:109:108
9a4134283aa85232067a8a34e22a0698069dd8c2###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/Main.java###/Main.java###org.cf.simplify.Main###main:String[] ###for(className:classManager.getNonFrameworkClassNames())###classNames###classManager.getNonFrameworkClassNames()###39:9:64:10
f85b37cb7942a6c12722e6793e3950b484d48920###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/dex/ClassBuilder.java###/ClassBuilder.java###org.cf.smalivm.dex.ClassBuilder###visitMethod:ClassDef Method MethodVisitor ###if(method.getName().equals("<init>"))###methodName###method.getName()###148:16:152:10
28ee1a4f759f6ae5da50132421266e452f46a63c###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/dex/SmaliFile.java###/SmaliFile.java###org.cf.smalivm.dex.SmaliFile###getClassName:File ###Stringline=Files.lines(myPath).filter(s->s.startsWith(".class")).findFirst().get();###lines###Files.lines(myPath)###39:13:39:102
a2e7a948d48500bc78e79ec3b111f340016cfcac###/CalebFenton_simplify/simplify/src/test/java/org/cf/simplify/TestMethodBackedGraph.java###/TestMethodBackedGraph.java###org.cf.simplify.TestMethodBackedGraph###testInsertInstructionModifiesStateCorrectly:###mbgraph.insertInstruction(0,newBuilderInstruction10x(Opcode.NOP));###addition###newBuilderInstruction10x(Opcode.NOP)###142:9:142:77
a4fbc48d27b9091c314a1e5b48ad00c6b6c123e1###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/Main.java###/Main.java###org.cf.simplify.Main###main:String[] ###for(className:classManager.getNonFrameworkClassNames())###classNames###classManager.getNonFrameworkClassNames()###44:9:69:10
5f61fed2b80336b9e7d6827a6593c39cc8babb03###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/FillArrayDataPayloadOp.java###/FillArrayDataPayloadOp.java###org.cf.smalivm.opcode.FillArrayDataPayloadOp###create:Instruction int ###returnnewFillArrayDataPayloadOp(address,opName,instr.getElementWidth(),instr.getArrayElements());###elementWidth###instr.getElementWidth()###58:9:58:111
4ca45a34d853eded391cfee80568a73ec268249a###/CalebFenton_simplify/src/simplify/vm/ops/SwitchPayloadOp.java###/SwitchPayloadOp.java###simplify.vm.ops.SwitchPayloadOp###create:Instruction int ###returnnewSwitchPayloadOp(address,opName,switchType,instr.getSwitchElements());###switchElements###instr.getSwitchElements()###44:9:44:92
0e99677615cd788d4ab9f3a2d4447e7dafd5d298###/CalebFenton_simplify/exec/RegisterStore.java###/RegisterStore.java###simplify.exec.RegisterStore###clone:###RegisterStoremyClone=newRegisterStore(getType(),valueClone,newHashSet<Integer>(getUsed()),newHashSet<Integer>(getReferenced()));###newReferenced###newHashSet<Integer>(getReferenced())###30:9:31:43
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionGraph.java###/ExecutionGraph.java###org.cf.smalivm.context.ExecutionGraph###getFieldConsensus:TIntList String ###returngetFieldConsensus(addressList,parts[0],parts[1]);###fieldNameAndType###parts[1]###129:9:129:67
c7d0220536925da70dd990c22dcb7465239bd9b5###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionGraph.java###/ExecutionGraph.java###org.cf.smalivm.context.ExecutionGraph###getConnectedTerminatingAddresses:###for(inti=0;i<terminatingAddresses.size();i++)###maxSize###terminatingAddresses.size()###166:9:171:10
9a98d921c5c2e7ce6fb43a4056ac825896d2d093###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/InvokeOp.java###/InvokeOp.java###org.cf.smalivm.opcode.InvokeOp###assignCalleeMethodArguments:MethodState MethodState ###type=parameterTypes.get(i);###parameterType###parameterTypes.get(i)###189:17:189:46
0e99677615cd788d4ab9f3a2d4447e7dafd5d298###/CalebFenton_simplify/exec/RegisterStore.java###/RegisterStore.java###simplify.exec.RegisterStore###clone:###RegisterStoremyClone=newRegisterStore(getType(),valueClone,newHashSet<Integer>(getUsed()),newHashSet<Integer>(getReferenced()));###newUsed###newHashSet<Integer>(getUsed())###30:9:31:43
5f61fed2b80336b9e7d6827a6593c39cc8babb03###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/MethodBackedGraph.java###/MethodBackedGraph.java###org.cf.simplify.MethodBackedGraph###insertInstruction:int BuilderInstruction ###address=instruction.getLocation().getCodeAddress();###newAddress###instruction.getLocation().getCodeAddress()###361:9:361:62
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/TestMethodReflector.java###/TestMethodReflector.java###org.cf.smalivm.TestMethodReflector###testCastsIntegerToShort:###TIntObjectMap<Object>initial=VMTester.buildRegisterState(0,5);###value###5###43:9:43:75
ec6363cbfb2a9297c52913e6ff8259e17db9276f###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/dex/ClassBuilder.java###/ClassBuilder.java###org.cf.smalivm.dex.ClassBuilder###visitEnumMethods:ClassDef Iterable<? extends Field> ClassWriter ###mv.visitFieldInsn(Opcodes.PUTSTATIC,name,"$VALUES","["+classDef.getType());###valuesFieldName###"$VALUES"###296:9:296:89
7f8c16154990ee454db59b24d4382f2c363dd4b4###/CalebFenton_simplify/src/optimize/NoopRemover.java###/NoopRemover.java###optimize.NoopRemover###perform:###returnfalse;###madeChanges###false###19:9:19:22
9a98d921c5c2e7ce6fb43a4056ac825896d2d093###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/InvokeOp.java###/InvokeOp.java###org.cf.smalivm.opcode.InvokeOp###assignCalleeMethodArguments:MethodState MethodState ###calleeState.assignParameter(parameterRegister,newHeapItem(item.getValue(),type));###parameterItem###newHeapItem(item.getValue(),type)###192:13:192:97
43d2a2a70c08ddc362513c192464a06e1f66fe9a###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/SmaliClassManager.java###/SmaliClassManager.java###org.cf.smalivm.SmaliClassManager###loadClassIfNecessary:String ###classDef=Dexifier.dexifySmaliFile(smaliFile.getPath(),smaliFile.open(),frameworkDexBuilder);###is###smaliFile.open()###310:17:310:113
080460a7079c3c2b56fb5bff8063976e877370fd###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionContext.java###/ExecutionContext.java###org.cf.smalivm.context.ExecutionContext###staticallyInitializeClassIfNecessary:String ###cState=newClassState(peekClassState(currentClassName),initContext);###callerClassState###peekClassState(currentClassName)###143:21:143:92
a2e7a948d48500bc78e79ec3b111f340016cfcac###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/strategy/ConstantPropigationStrategy.java###/ConstantPropigationStrategy.java###org.cf.simplify.strategy.ConstantPropigationStrategy###perform:###if(original.getOpcode().name().startsWith("RETURN"))###isReturn###original.getOpcode().name().startsWith("RETURN")###51:17:55:18
567860bb4fb5890e3523bb8f95c8120788d51761###/CalebFenton_simplify/simplify/src/test/java/org/cf/simplify/strategy/UnreflectionStrategyTest.java###/UnreflectionStrategyTest.java###org.cf.simplify.strategy.UnreflectionStrategyTest###testRegisterCount:ExecutionGraphManipulator String int ###BuilderMethodmethod=manipulator.getVM().getClassManager().getMethod(CLASS_NAME,methodSignature);###classManager###manipulator.getVM().getClassManager()###391:9:391:109
d39a4c6c436946dab43880d7a1475a1c9e505338###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/InstanceOfOp.java###/InstanceOfOp.java###org.cf.smalivm.opcode.InstanceOfOp###execute:ExecutionNode MethodState ###isInstance=vm.getClassManager().isInstance(type,className);###classManager###vm.getClassManager()###53:13:53:75
a2e7a948d48500bc78e79ec3b111f340016cfcac###/CalebFenton_simplify/simplify/src/test/java/org/cf/simplify/TestMethodBackedGraph.java###/TestMethodBackedGraph.java###org.cf.simplify.TestMethodBackedGraph###testReplaceInstructionModifiesStateCorrectly:###mbgraph.replaceInstruction(0,newBuilderInstruction21s(Opcode.CONST_16,0,0));###replacement###newBuilderInstruction21s(Opcode.CONST_16,0,0)###179:9:179:89
22dd851617f96abe80d36c9b0eab8f5488af5460###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/strategy/DeadRemovalStrategy.java###/DeadRemovalStrategy.java###org.cf.simplify.strategy.DeadRemovalStrategy###isAnyRegisterUsed:int int[] MethodBackedGraph ExecutionNode TIntSet ###MethodStatemState=node.getContext().getMethodState();###currentNode###node###89:9:89:65
9a146926ccb8e06617b8bb2bd400f4b652e84a4f###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestNewArrayOp.java###/TestNewArrayOp.java###org.cf.smalivm.opcode.TestNewArrayOp###TestNewIntegerArray:###TIntObjectMap<HeapItem>initial=VMTester.buildRegisterState(0,1,"I");###length###1###35:9:35:82
24e61d72a75b267eaf4725c7694e060efe887362###/CalebFenton_simplify/exec/instruction/NewInstanceInstruction.java###/NewInstanceInstruction.java###simplify.exec.instruction.NewInstanceInstruction###execute:MethodExecutionContext Instruction21c int ###ectx.addRegister(instruction.getRegisterA(),type,newUnknownValue(),index);###value###newUnknownValue()###15:9:15:87
3d4b978aab5759c49dd16e558e780dd378943dbf###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestFilledNewArray.java###/TestFilledNewArray.java###org.cf.smalivm.opcode.TestFilledNewArray###testFilledNewArrayOp:###TIntObjectMap<Object>expected=VMTester.buildRegisterState(MethodState.ResultRegister,newint[]{2,3,5});###elements###newint[]{2,3,5}###17:2:17:114
7f1ea7e0103bd6c7ebb385f5851a39797a45cd2d###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/InvokeOp.java###/InvokeOp.java###org.cf.smalivm.opcode.InvokeOp###execute:ExecutionContext ###if(!isStatic&&!classManager.methodHasImplementation(methodDescriptor))###targetMethod###methodDescriptor###125:13:132:14
469d36e1720a379d719f98fb2c904ff791b01941###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ContextGraph.java###/ContextGraph.java###org.cf.smalivm.context.ContextGraph###getStrongestSideEffectType:###SideEffect.Typetype=node.getOpHandler().sideEffectType();###op###node.getOpHandler()###195:13:195:73
43d2a2a70c08ddc362513c192464a06e1f66fe9a###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getMethod.java###/Test_java_lang_Class_getMethod.java###org.cf.smalivm.emulate.Test_java_lang_Class_getMethod.TestLocalClass###testGetNonExistantMethodReturnsUnknownValue:###MethodStatemState=getMethodState(vm,CLASS,"yoDawgThisMethodWillNeverExist",null);###methodName###"yoDawgThisMethodWillNeverExist"###69:13:69:100
b58ed02a634ae16c93a76018f4faa3124741218c###/CalebFenton_simplify/src/simplify/MethodReflector.java###/MethodReflector.java###simplify.MethodReflector###reflect:MethodContext ###mctx.setReturnRegister(newRegisterStore(returnType,result));###returnRegister###newRegisterStore(returnType,result)###126:21:126:83
c2ca436f3e6e88fdd88057cca7a605ecbcec43f1###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/ConstantBuilder.java###/ConstantBuilder.java###org.cf.simplify.ConstantBuilder###buildConstant:int ExecutionGraphManipulator ###BuilderInstructionconstant=buildConstant(item.getValue(),item.getUnboxedType(),register,dexBuilder);###value###item.getValue()###197:9:197:115
9a146926ccb8e06617b8bb2bd400f4b652e84a4f###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestNewArrayOp.java###/TestNewArrayOp.java###org.cf.smalivm.opcode.TestNewArrayOp###TestNewLocalClassArrayArray:###TIntObjectMap<HeapItem>initial=VMTester.buildRegisterState(0,5,"I");###length###5###26:9:26:82
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/VMTester.java###/VMTester.java###org.cf.smalivm.VMTester###buildClassNameToFieldValue:String Object[] ###fieldReferenceToValue.put((String)params[i],params[i+1]);###fieldNameAndType###(String)params[i]###39:13:39:74
9a146926ccb8e06617b8bb2bd400f4b652e84a4f###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestNewArrayOp.java###/TestNewArrayOp.java###org.cf.smalivm.opcode.TestNewArrayOp###TestNewIntegerArrayUnkonwnDimension:###TIntObjectMap<HeapItem>initial=VMTester.buildRegisterState(0,newUnknownValue(),"I");###length###newUnknownValue()###60:9:60:99
53d5c24b61c8522df0323be4effd5378f7633d38###/CalebFenton_simplify/src/main/java/simplify/vm/VirtualMachine.java###/VirtualMachine.java###simplify.vm.VirtualMachine###getInstructionGraph:String ###ContextGraphresult=newContextGraph(methodDescriptorToInstructionGraph.get(methodDescriptor));###graph###methodDescriptorToInstructionGraph.get(methodDescriptor)###148:9:148:106
7259f828b05987bcbcfb017bdbaaed9b56266e3a###/CalebFenton_simplify/src/main/java/simplifier/optimize/DeadRemover.java###/DeadRemover.java###simplifier.optimize.DeadRemover###getDeadAssignmentAddresses:TIntList ###TIntListassigned=pile.get(0).getContext().getRegistersAssigned();###mctx###pile.get(0).getContext()###119:13:119:81
d473e8a161a1c20eb35fc42685e5ff6e1b2b30ca###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/smali/SmaliClassLoader.java###/SmaliClassLoader.java###org.cf.smalivm.smali.SmaliClassLoader###loadClass:String ###ClassDefclassDef=classManager.getClass(ClassNameUtils.binaryToInternal(name));###internalName###ClassNameUtils.binaryToInternal(name)###94:9:94:90
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/TestMethodInheritence.java###/TestMethodInheritence.java###org.cf.smalivm.TestMethodInheritence.ChildClass###testInvokingParentMethodWorks:###Stringvalue=(String)graph.getTerminatingRegisterConsensus(MethodState.ReturnRegister);###item###graph.getTerminatingRegisterConsensus(MethodState.ReturnRegister)###47:13:47:103
2cd9180c02785c24687437b177b21f8f4921fd03###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionGraph.java###/ExecutionGraph.java###org.cf.smalivm.context.ExecutionGraph###getFieldItems:int String String ###ClassStatecState=node.getContext().peekClassState(className);###ectx###node.getContext()###174:13:174:77
e5e6cfb9fcfad6dc9145bdaa7f8de076d4db454f###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ContextGraph.java###/ContextGraph.java###org.cf.smalivm.context.ContextGraph###getRegisterValues:int int ###Objectvalue=node.getMethodContext().peekRegister(register);###mctx###node.getMethodContext()###176:13:176:75
2cd9180c02785c24687437b177b21f8f4921fd03###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ExecutionContext.java###/ExecutionContext.java###org.cf.smalivm.context.ExecutionContext###toString:###for(className:getInitializedClasses())###initializedClasses###getInitializedClasses()###211:13:214:14
556089da9eec76ae12828377e1d6e8c4a74fe362###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/ClassManager.java###/ClassManager.java###org.cf.smalivm.ClassManager###dexifyClassIfNecessary:String ###classDef=Dexifier.dexifySmaliFile(smaliFile.getPath(),is,isFramework?frameworkDexBuilder:dexBuilder);###builder###isFramework?frameworkDexBuilder:dexBuilder###376:13:377:119
625c815376777aab465b8b67c18fd95d042e50c8###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/opcode/TestNewArrayOp.java###/TestNewArrayOp.java###org.cf.smalivm.opcode.TestNewArrayOp###testNewArrayPrimitive:###TIntObjectMap<Object>initial=VMTester.buildRegisterState(0,1);###dimension###1###34:9:34:75
0951cdcc4d41eaa66a6b67fa373e592189cff7ae###/CalebFenton_simplify/src/refactor/exec/InstructionGraph.java###/InstructionGraph.java###refactor.exec.InstructionGraph###buildOffsetToIndicies:List<BuilderInstruction> ###intindex=instruction.getLocation().getIndex();###location###instruction.getLocation()###38:13:38:62
340101384e56f040237dc2194a2233f1aa6ca8e0###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/SGetOp.java###/SGetOp.java###org.cf.smalivm.opcode.SGetOp###execute:ExecutionNode ExecutionContext ###HeapItemitem=vm.getStaticFieldAccessor().getField(ectx,fieldDescriptor);###accessor###vm.getStaticFieldAccessor()###31:9:31:85
d2d63d9ebeb3dcdb0806865f0e7b899b7dc9c3b1###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/VirtualMachine.java###/VirtualMachine.java###org.cf.smalivm.VirtualMachine###buildTemplateExecutionContext:List<BuilderClassDef> ###ClassStatecState=newClassState(result,className,classDef.getFields().size());###fields###classDef.getFields()###236:13:236:96
76159fa57b6111e101c722b1557ad370e0bbea4b###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/MethodBackedGraph.java###/MethodBackedGraph.java###org.cf.simplify.MethodBackedGraph###replaceInstruction:int List<BuilderInstruction> ###MethodLocationlocation=getLocation(insertAddress);###address###insertAddress###206:9:206:62
7f1ea7e0103bd6c7ebb385f5851a39797a45cd2d###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/ConstOp.java###/ConstOp.java###org.cf.smalivm.opcode.ConstOp###getConst:###result=ClassUtils.getClass(SmaliClassUtils.smaliClassToJava(className));###javaClassName###SmaliClassUtils.smaliClassToJava(className)###145:17:145:91
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/TestMethodReflector.java###/TestMethodReflector.java###org.cf.smalivm.TestMethodReflector###testCastsIntegerToCharacter:###TIntObjectMap<Object>expected=VMTester.buildRegisterState(0,newCharacter('a'));###value###'a'###20:9:20:93
24e61d72a75b267eaf4725c7694e060efe887362###/CalebFenton_simplify/exec/MethodExecutionContext.java###/MethodExecutionContext.java###simplify.exec.MethodExecutionContext###clone:###myClone.registers.put(i,rs.clone());###rsClone###rs.clone()###65:13:65:50
a2e7a948d48500bc78e79ec3b111f340016cfcac###/CalebFenton_simplify/simplify/src/main/java/org/cf/simplify/MethodBackedGraph.java###/MethodBackedGraph.java###org.cf.simplify.MethodBackedGraph###tryMigrateLabels:int ###intinstructionCount=implementation.getInstructions().size();###instructions###implementation.getInstructions()###387:9:387:72
3a564d3b5ca56dd6388e1d07b20d6e6afce4dce1###/CalebFenton_simplify/src/simplify/vm/ContextGraph.java###/ContextGraph.java###simplify.vm.ContextGraph###buildTerminatingAddresses:List<BuilderInstruction> ###if(instruction.getOpcode().canContinue()||(instruction.getOpcode()==Opcode.ARRAY_PAYLOAD))###op###instruction.getOpcode()###58:13:60:14
4508d32d3b9e01b771cafc59ff0abe14545cb099###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getMethod.java###/Test_java_lang_Class_getMethod.java###org.cf.smalivm.emulate.Test_java_lang_Class_getMethod.TestNonLocalClass###testGetExistantMethodWithOneParameterTypesReturnsExpectedLocalMethod:###HeapItemexpected=newHeapItem(System.class.getMethod("getProperty",newClass<?>[]{String.class}),METHOD_TYPE);###expectedValue###System.class.getMethod("getProperty",newClass<?>[]{String.class})###109:13:110:42
c7d0220536925da70dd990c22dcb7465239bd9b5###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/VirtualMachine.java###/VirtualMachine.java###org.cf.smalivm.VirtualMachine###collapseMultiverse:String ExecutionGraph ExecutionContext int[] ###if(!callerContext.isClassInitialized(className))###isInitializedInCaller###callerContext.isClassInitialized(className)###233:35:243:14
2fd802fb6519f5e38baac26ca36807a334dd6e6a###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getPackage.java###/Test_java_lang_Class_getPackage.java###org.cf.smalivm.emulate.Test_java_lang_Class_getPackage###getMethodState:Object ###MethodStatemState=newMethodState(ectx,1);###registerCount###1###21:9:21:55
0df5c08cd77fcdbd382981abdc7872a18f09ea19###/CalebFenton_simplify/smalivm/src/main/java/org/cf/util/FrameworkCacheBuilder.java###/FrameworkCacheBuilder.java###org.cf.util.FrameworkCacheBuilder###buildFrameworkCache:String ###resFiles.addAll(FileUtils.listFiles(newFile(url.toURI()),newString[]{"smali"},true));###file###newFile(url.toURI())###29:13:29:105
60602288ec3c58e7bd7a03058a3a3fb9adf4644a###/CalebFenton_simplify/MethodSimplifier.java###/MethodSimplifier.java###simplify.MethodSimplifier###simplify:DexBuilder BuilderMethod LinkedListMultimap<Integer,InstructionNode> ###returnfalse;###changed###false###44:9:44:22
9a4134283aa85232067a8a34e22a0698069dd8c2###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/emulate/java_lang_Class_getMethod.java###/java_lang_Class_getMethod.java###org.cf.smalivm.emulate.java_lang_Class_getMethod###execute:VirtualMachine MethodState ###methodValue=getLocalMethod(vm,(LocalClass)classValue,methodName,parameterTypes);###localClass###(LocalClass)classValue###35:13:35:99
9a4134283aa85232067a8a34e22a0698069dd8c2###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getMethod.java###/Test_java_lang_Class_getMethod.java###org.cf.smalivm.emulate.Test_java_lang_Class_getMethod.TestNonLocalClass###testGetNonExistantMethodReturnsUnknownValue:###MethodStatemState=getMethodState(vm,CLASS,"yoDawgThisMethodWillNeverExist",null);###methodName###"yoDawgThisMethodWillNeverExist"###109:13:109:100
361a9dceb8f9d7356785ab67b3b370a358efd525###/CalebFenton_simplify/test/simplify/vm/ops/TestAPutOp.java###/TestAPutOp.java###simplify.vm.ops.TestAPutOp###TestArrayPutByte:###SparseArray<Object>initial=VMTester.buildRegisterState(0,newbyte[1],1,0,2,0xf);###b###0xf###38:9:38:97
556089da9eec76ae12828377e1d6e8c4a74fe362###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/ClassManager.java###/ClassManager.java###org.cf.smalivm.ClassManager###ClassManager:File DexBuilder ###classNameToSmaliFile.put(smaliFile.getClassName(),smaliFile);###className###smaliFile.getClassName()###58:13:58:75
c6fb57c016893664ef31b229704ef92e4fc16f3a###/CalebFenton_simplify/exec/MethodExecutor.java###/MethodExecutor.java###simplify.exec.MethodExecutor###execute:BuilderMethod ###returnexecute(method,newExecutionContext());###ectx###newExecutionContext()###36:9:36:56
d39a4c6c436946dab43880d7a1475a1c9e505338###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/CheckCastOp.java###/CheckCastOp.java###org.cf.smalivm.opcode.CheckCastOp###execute:ExecutionNode MethodState ###isInstance=vm.getClassManager().isInstance(type,className);###classManager###vm.getClassManager()###51:13:51:75
0cd680fc1bd58704036b665bd85701ba2a2e0022###/CalebFenton_simplify/src/simplify/vm/ContextGraph.java###/ContextGraph.java###simplify.vm.ContextGraph###getOpHandler:int ###returnaddressToNodePile.get(address).get(0).getHandler();###pile###addressToNodePile.get(address)###169:9:169:67
c2ecf38d1a8fe09c717076903c6b6f94934b334c###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/opcode/SwitchPayloadOp.java###/SwitchPayloadOp.java###org.cf.smalivm.opcode.SwitchPayloadOp###toString:###for(key:targetKeyToOffset.keys())###keys###targetKeyToOffset.keys()###70:9:73:10
d69dade1d5aab1fad127598bd734b66a738faa80###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/context/ContextGraph.java###/ContextGraph.java###org.cf.smalivm.context.ContextGraph###getRegisterConsensus:TIntList int ###returnnewUnknownValue(SmaliClassUtils.javaClassToSmali(TypeUtil.getValueType(value)));###type###SmaliClassUtils.javaClassToSmali(TypeUtil.getValueType(value))###167:21:167:109
35ca7685ffaa126245aa0262cb3c4ab2bbfe1850###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/TestMethodInheritence.java###/TestMethodInheritence.java###org.cf.smalivm.TestMethodInheritence.ChildClass###testInvokingAbstractMethodThroughParentReferenceWorks:###Stringvalue=(String)graph.getTerminatingRegisterConsensus(MethodState.ReturnRegister);###item###graph.getTerminatingRegisterConsensus(MethodState.ReturnRegister)###29:13:29:103
4508d32d3b9e01b771cafc59ff0abe14545cb099###/CalebFenton_simplify/smalivm/src/test/java/org/cf/smalivm/emulate/Test_java_lang_Class_getMethod.java###/Test_java_lang_Class_getMethod.java###org.cf.smalivm.emulate.Test_java_lang_Class_getMethod.TestLocalClass###testGetExistantMethodWithOneParameterTypesReturnsExpectedLocalMethod:###HeapItemexpected=newHeapItem(newLocalMethod(CLASS_NAME+"->takesParameter(I)V"),METHOD_TYPE);###expectedValue###newLocalMethod(CLASS_NAME+"->takesParameter(I)V")###61:13:61:113
2dedd70ee512bd1decb24049a4ec911598180041###/CalebFenton_simplify/smalivm/src/main/java/org/cf/smalivm/MethodReflector.java###/MethodReflector.java###org.cf.smalivm.MethodReflector###invoke:MethodState ###returnValue=MethodUtils.invokeMethod(targetItem.getValue(),method.getName(),args,parameterTypes);###value###targetItem.getValue()###114:17:114:119
