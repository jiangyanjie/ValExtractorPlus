789a39593b69a9957163d54e18c988649cf99ce9###/voldemort_voldemort/src/java/voldemort/tools/ReadOnlyHostSwapCLI.java###/ReadOnlyHostSwapCLI.java###voldemort.tools.ReadOnlyHostSwapCLI###main:String[] ###for(storeDef:adminClient.metadataMgmtOps.getRemoteStoreDefList().getValue())###storeDefs###adminClient.metadataMgmtOps.getRemoteStoreDefList().getValue()###127:9:187:10
346c2e53c811b26f21a66c908c295970831b1a6b###/voldemort_voldemort/src/java/voldemort/store/routed/action/PerformParallelPutRequests.java###/PerformParallelPutRequests.java###voldemort.store.routed.action.PerformParallelPutRequests.execute.callback.new NonblockingStoreCallback###requestComplete:Object long ###responses.put(node.getId(),newResponse<ByteArray,Object>(node,key,result,requestTime));###response###newResponse<ByteArray,Object>(node,key,result,requestTime)###104:21:107:95
a23595662b473a10e7160ee492fad231c99d7cab###/voldemort_voldemort/src/java/voldemort/utils/pool/KeyedResourcePool.java###/KeyedResourcePool.java###voldemort.utils.pool.KeyedResourcePool###close:###if(isOpen.compareAndSet(true,false))###wasOpen###isOpen.compareAndSet(true,false)###222:9:230:10
f2e82d408c1294144931a37bef70ac4f7982f2f3###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/FetchPartitionFileStreamRequestHandler.java###/FetchPartitionFileStreamRequestHandler.java###voldemort.server.protocol.admin.FetchPartitionFileStreamRequestHandler###FetchPartitionFileStreamRequestHandler:VAdminProto.FetchPartitionFilesRequest MetadataStore VoldemortConfig StoreRepository StreamStats ###booleanisReadOnly=metadataStore.getStoreDef(request.getStore()).getType().compareTo(ReadOnlyStorageConfiguration.TYPE_NAME)==0;###storeDef###metadataStore.getStoreDef(request.getStore())###49:9:51:99
f2e82d408c1294144931a37bef70ac4f7982f2f3###/voldemort_voldemort/src/java/voldemort/utils/RebalanceUtils.java###/RebalanceUtils.java###voldemort.utils.RebalanceUtils###getStore:List<StoreDefinition> String ###returnstoreDef;###def###storeDef###439:17:439:33
7637af8b05e7ace0a9dabd7de64c9e2ff8eeaafa###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/AvroStoreBuilderMapper.java###/AvroStoreBuilderMapper.java###voldemort.store.readonly.mr.AvroStoreBuilderMapper###map:GenericData.Record AvroCollector<Pair<ByteBuffer,ByteBuffer>> Reporter ###byte[]valBytes=valueSerializer.toBytes(record.get(valField));###valRecord###record.get(valField)###116:9:116:73
2d6f68b09c3bdc23dcf3ae1f91c9285fbd668820###/voldemort_voldemort/src/java/voldemort/store/readonly/ExternalSorter.java###/ExternalSorter.java###voldemort.store.readonly.ExternalSorter.ExternalSorterIterator###ExternalSorterIterator:List<File> int ###DataInputStreaminputStream=newDataInputStream(newBufferedInputStream(newFileInputStream(f),readBufferSize));###is###newBufferedInputStream(newFileInputStream(f),readBufferSize)###244:21:245:112
168cb69f3732ac7164f2e66ae8f1ac7239e62323###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler.handleFetchROStore.submitOperation.new AsyncOperation###operate:###fetchDir=fileFetcher.fetch(fetchUrl,store.getStoreDirPath()+File.separator+"version-"+Long.toString(pushVersion));###destinationDir###store.getStoreDirPath()+File.separator+"version-"+Long.toString(pushVersion)###1114:29:1116:98
cff89fcebb57f430d409a8bbd84e3368a2f3377f###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###main:String[] ###Filelocation=fetcher.fetch(url,System.getProperty("java.io.tmpdir")+File.separator+start,hadoopPath);###destDir###System.getProperty("java.io.tmpdir")+File.separator+start###788:9:789:65
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testGetAllWithFailingStore:###subStores.put(Iterables.get(cluster.getNodes(),0).getId(),newInMemoryStorageEngine<ByteArray,byte[]>("test"));###id1###Iterables.get(cluster.getNodes(),0).getId()###468:9:469:77
366cd06a26f4e893422fbed077d4f0d31d935a4c###/voldemort_voldemort/src/java/voldemort/client/SystemStore.java###/SystemStore.java###voldemort.client.SystemStore###getValueSysStore:K ###returnnull;###value###null###82:9:82:21
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/contrib/hadoop-store-builder/test/voldemort/store/readonly/mr/HadoopStoreBuilderTest.java###/HadoopStoreBuilderTest.java###voldemort.store.readonly.mr.HadoopStoreBuilderTest###testHadoopBuild:###Store<Object,Object,Object>store=SerializingStore.wrap(newReadOnlyStorageEngine(storeName,searchStrategy,newRoutingStrategyFactory().updateRoutingStrategy(def,cluster),0,storeDir,1),serializer,serializer,serializer);###engine###newReadOnlyStorageEngine(storeName,searchStrategy,newRoutingStrategyFactory().updateRoutingStrategy(def,cluster),0,storeDir,1)###268:9:277:81
3bdcb92fd33174b97c702854a9febfe22dd08940###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readwrite/mr/AbstractRWHadoopStoreBuilderMapper.java###/AbstractRWHadoopStoreBuilderMapper.java###voldemort.store.readwrite.mr.AbstractRWHadoopStoreBuilderMapper###map:K V OutputCollector<BytesWritable,BytesWritable> Reporter ###byte[]valBytes=valueSerializer.toBytes(makeValue(key,value));###valueObject###makeValue(key,value)###82:9:82:74
045adf6060dbe9062c40cb6bf9cb046c30c713d9###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/HadoopStoreBuilder.java###/HadoopStoreBuilder.java###voldemort.store.readonly.mr.HadoopStoreBuilder###build:###metadata.add(ReadOnlyStorageMetadata.CHECKSUM,newString(Hex.encodeHex(checkSumGenerator.getCheckSum())));###checkSum###newString(Hex.encodeHex(checkSumGenerator.getCheckSum()))###339:25:340:98
79755595cf1dbc30b2c62f12fc29a08714810fd4###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient.ReadOnlySpecificOperations###disableStoreVersion:Integer String Long String ###VAdminProto.DisableStoreVersionResponse.Builderresponse=rpcOps.sendAndReceive(nodeId,adminRequest,VAdminProto.DisableStoreVersionResponse.newBuilder());###responseBuilder###VAdminProto.DisableStoreVersionResponse.newBuilder()###4159:13:4161:148
2f72ffb48f1158034da408413c40563cab6b3aec###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###fetch:String String AsyncOperationStatus String long MetadataStore ###thrownewVoldemortException("ErrorthrownwhiletryingtogetdatafromHadoopfilesystem:",e);###errorMessage###"ErrorthrownwhiletryingtogetdatafromHadoopfilesystem:"###202:13:202:112
8e39e5548333e43baf5b8020fe403f0b215c4e5b###/voldemort_voldemort/src/java/voldemort/tools/RebalanceControllerCLI.java###/RebalanceControllerCLI.java###voldemort.tools.RebalanceControllerCLI###main:String[] ###rebalanceController.rebalance(newRebalancePlan(currentCluster,currentStoreDefs,finalCluster,finalStoreDefs,batchSize,outputDir));###rebalancePlan###newRebalancePlan(currentCluster,currentStoreDefs,finalCluster,finalStoreDefs,batchSize,outputDir)###186:9:191:69
bbd9c660f0c00e0ab4d8194765c30a4445c73765###/voldemort_voldemort/src/java/voldemort/store/routed/action/PerformParallelGetAllRequests.java###/PerformParallelGetAllRequests.java###voldemort.store.routed.action.PerformParallelGetAllRequests.execute.callback.new NonblockingStoreCallback###requestComplete:Object long ###responses.put(node.getId(),newResponse<Iterable<ByteArray>,Object>(node,keys,result,requestTime));###response###newResponse<Iterable<ByteArray>,Object>(node,keys,result,requestTime)###86:21:90:91
d5c744219ef575e70a2871145cff8f172d1ee873###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleDeletePartitionEntries:VAdminProto.DeletePartitionEntriesRequest ###if(storageEngine.delete(entry.getFirst(),entry.getSecond().getVersion()))###key###entry.getFirst()###375:21:376:41
818d96b64ccd0b53b89698f544c60784aa9e301e###/voldemort_voldemort/src/java/voldemort/store/rebalancing/RedirectingStore.java###/RedirectingStore.java###voldemort.store.rebalancing.RedirectingStore###getProxyNode:StoreRoutingPlan StoreDefinition byte[] ###StoreRoutingPlanoldRoutingPlan=newStoreRoutingPlan(sourceCluster,storeDef);###sourceStoreDef###storeDef###462:9:462:89
5e84a611f419327fe8c89d5ee066c81ecacc67ad###/voldemort_voldemort/src/java/voldemort/store/readonly/chunk/ChunkedFileSet.java###/ChunkedFileSet.java###voldemort.store.readonly.chunk.ChunkedFileSet###initVersion0:###Fileindex=newFile(baseDir,Integer.toString(chunkId)+".index");###fileName###Integer.toString(chunkId)###161:13:161:82
e2af55614a2f1fb79176e2bd7d1e5baad4fd4d6a###/voldemort_voldemort/src/java/voldemort/store/slop/HintedHandoffStrategyFactory.java###/HintedHandoffStrategyFactory.java###voldemort.store.slop.HintedHandoffStrategyFactory###updateHintedHandoffStrategy:StoreDefinition Cluster ###returnnewConsistentHandoffStrategy(cluster,storeDef.getHintPrefListSize());###hintPrefListSize###storeDef.getHintPrefListSize()###18:13:18:91
83b58d70beefe9c68c553f7433a107bab4f6f3d5###/voldemort_voldemort/test/unit/voldemort/client/rebalance/AbstractRebalanceTest.java###/AbstractRebalanceTest.java###voldemort.client.rebalance.AbstractRebalanceTest.testProxyGetDuringRebalancing.execute.new Runnable###run:###RebalanceControllerrebalanceClient=newRebalanceController(getBootstrapUrl(updatedCluster,0),newRebalanceClientConfig());###rebalanceClientConfig###newRebalanceClientConfig()###391:21:393:112
0c7bcf8428af2576892260bcd9530c3debd2ed2a###/voldemort_voldemort/src/java/voldemort/server/scheduler/SlopPusherJob.java###/SlopPusherJob.java###voldemort.server.scheduler.SlopPusherJob###run:###StorageEngine<ByteArray,Slop,byte[]>slopStore=storeRepo.getSlopStore();###slopStorageEngine###storeRepo.getSlopStore()###75:13:75:89
f7303dfa61d8c5fbbaeee29a56ed3ec2d64b8e6e###/voldemort_voldemort/contrib/hadoop-store-builder/test/voldemort/store/readonly/mr/HadoopStoreBuilderTest.java###/HadoopStoreBuilderTest.java###voldemort.store.readonly.mr.HadoopStoreBuilderTest###testHadoopBuild:###List<Versioned<Object>>found=store.get(entry.getKey(),null);###key###entry.getKey()###305:13:305:77
4964e7de5e5760477fc9169a4e7cd91700dd6b57###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/RESTClient.java###/RESTClient.java###voldemort.restclient.RESTClient###get:K Versioned<V> ###returnthis.clientStore.get(key,null).get(0);###resultList###this.clientStore.get(key,null)###134:9:134:55
6c07e5d657389ccaea458978975df3e0380a1b44###/voldemort_voldemort/src/java/voldemort/store/routed/action/AbstractAction.java###/AbstractAction.java###voldemort.store.routed.action.AbstractAction###handleResponseError:Exception Node long Pipeline FailureDetector ###logger.warn("Errorin"+pipeline.getOperation().getSimpleName()+"onnode"+node.getId()+"("+node.getHost()+")",e);###errorMessage###"Errorin"+pipeline.getOperation().getSimpleName()+"onnode"+node.getId()+"("+node.getHost()+")"###71:17:72:78
3e19e5613aa77cfdb751696dd6a5a488cfa20034###/voldemort_voldemort/test/integration/voldemort/performance/StorageEnginePerformanceTest.java###/StorageEnginePerformanceTest.java###voldemort.performance.StorageEnginePerformanceTest.main.writeTest.new CachedPerformanceTest.new PerformanceTest###doOperation:int ###store.put(Integer.toString(index),Versioned.value(value));###key###Integer.toString(index)###117:17:117:76
83b58d70beefe9c68c553f7433a107bab4f6f3d5###/voldemort_voldemort/test/unit/voldemort/client/rebalance/AbstractRebalanceTest.java###/AbstractRebalanceTest.java###voldemort.client.rebalance.AbstractRebalanceTest.testServerSideRouting.execute.new Runnable###run:###RebalanceControllerrebalanceClient=newRebalanceController(getBootstrapUrl(updatedCluster,0),newRebalanceClientConfig());###rebalanceClientConfig###newRebalanceClientConfig()###627:21:629:112
7637af8b05e7ace0a9dabd7de64c9e2ff8eeaafa###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/AvroStoreBuilderMapper.java###/AvroStoreBuilderMapper.java###voldemort.store.readonly.mr.AvroStoreBuilderMapper###map:GenericData.Record AvroCollector<Pair<ByteBuffer,ByteBuffer>> Reporter ###byte[]keyBytes=keySerializer.toBytes(record.get(keyField));###keyRecord###record.get(keyField)###115:9:115:71
33ea45406ec6282102635da46aca2fb85d53fb2d###/voldemort_voldemort/test/unit/voldemort/coordinator/CoordinatorRestAPITest.java###/CoordinatorRestAPITest.java###voldemort.coordinator.CoordinatorRestAPITest###doDelete:String ###if(conn.getResponseCode()!=204)###expectedResponseCode###204###184:13:190:14
9702607f6213cf072715080ff7e08eccb4fad3cc###/voldemort_voldemort/src/java/voldemort/server/rebalance/RebalanceAsyncOperation.java###/RebalanceAsyncOperation.java###voldemort.server.rebalance.RebalanceAsyncOperation###rebalanceStore:String AdminClient RebalancePartitionsInfo ###intasyncId=adminClient.migratePartitions(stealInfo.getDonorId(),metadataStore.getNodeId(),storeName,stealInfo.getPartitionList(),null);###partitionList###stealInfo.getPartitionList()###173:9:177:59
d5c744219ef575e70a2871145cff8f172d1ee873###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler.handleFetchAndUpdate.submitOperation.new AsyncOperation###operate:###storageEngine.put(entry.getFirst(),entry.getSecond());###key###entry.getFirst()###301:61:302:98
f83442d4e47b3518e9499168633bd19baca7a047###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutor.java###/ClientRequestExecutor.java###voldemort.store.socket.clientrequest.ClientRequestExecutor###reportException:IOException ###clientRequest.reportException(e);###local###clientRequest###267:9:267:42
c551a9fc0ddf86634aff5559f33614c73348e143###/voldemort_voldemort/src/java/voldemort/store/routed/action/PerformHintedHandoff.java###/PerformHintedHandoff.java###voldemort.store.routed.action.PerformHintedHandoff###execute:Pipeline ###for(failedNode:pipelineData.getFailedNodes())###failedNodes###pipelineData.getFailedNodes()###66:9:139:10
fdb696d9e428f486db2bbf81b891ea89023533ef###/voldemort_voldemort/test/common/voldemort/ServerTestUtils.java###/ServerTestUtils.java###voldemort.ServerTestUtils###startVoldemortServer:SocketStoreFactory VoldemortConfig Cluster ###thrownewBindException(ve.getMessage());###lastVE###ve###1028:17:1028:58
1f0db5f73a2b0cd4bcedc5e9077f201f038abfe3###/voldemort_voldemort/src/java/voldemort/store/nonblockingstore/ThreadPoolBasedNonblockingStoreImpl.java###/ThreadPoolBasedNonblockingStoreImpl.java###voldemort.store.nonblockingstore.ThreadPoolBasedNonblockingStoreImpl.submit.submit.new Runnable###run:###callback.requestComplete(result,(System.nanoTime()-start)/Time.NS_PER_MS);###diff###System.nanoTime()-start###115:25:116:76
92b80c0488d839692ac5c9aa43545413cebbae78###/voldemort_voldemort/src/java/voldemort/utils/KeyVersionSamplerCLI.java###/KeyVersionSamplerCLI.java###voldemort.utils.KeyVersionSamplerCLI###KeyVersionSamplerCLI:String String String int ###this.storeNameToKeyStringsMap.put(storeDefinition.getName(),newStringBuilder());###storeName###storeDefinition.getName()###83:13:83:95
141b9ac216a5129be187a48d6a43c6fed5588bb5###/voldemort_voldemort/src/java/voldemort/server/rebalance/Rebalancer.java###/Rebalancer.java###voldemort.server.rebalance.Rebalancer###acquireRebalancingPermit:int ###if(rebalancePermitMap.get(donorNodeId).compareAndSet(false,true))###rebalancePermit###rebalancePermitMap.get(donorNodeId)###56:13:58:14
f0e215874197ac8b35f4ee1f1557f39b008df7ca###/voldemort_voldemort/src/java/voldemort/server/protocol/hadoop/RestHadoopFetcher.java###/RestHadoopFetcher.java###voldemort.server.protocol.hadoop.RestHadoopFetcher###main:String[] ###RestHadoopFetcherfetcher=newRestHadoopFetcher(null,maxBytesPerSec,VoldemortConfig.REPORTING_INTERVAL_BYTES,VoldemortConfig.DEFAULT_BUFFER_SIZE,0,keytabLocation,kerberosUser,realm,kdc);###REPORTING_INTERVAL_BYTES###VoldemortConfig.REPORTING_INTERVAL_BYTES###573:9:581:64
5f7757a13757f0f2e65479667d9e7d013f8d9990###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysAscii:Iterator<ByteArray> File StoreDefinition ###writer=newBufferedWriter(newFileWriter(outputFile));###fileWriter###newFileWriter(outputFile)###1013:13:1013:69
f28fcc0a8902155c0f972b0c72b18cbec6abeca3###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###executeDeletePartitions:Integer AdminClient List<Integer> ###storeNames.add(storeDefinition.getName());###stores###storeNames###128:13:128:55
807ca49fe44460bfc1ba8a37a9924f15512717ff###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient.MetadataManagementOperations###updateRemoteStoreDefList:List<StoreDefinition> Collection<Integer> ###VectorClockoldClock=(VectorClock)metadataMgmtOps.getRemoteStoreDefList(nodeId).getVersion();###remoteStoreDefList###metadataMgmtOps.getRemoteStoreDefList(nodeId)###1668:17:1669:83
fc89e8b3e4d49f5df5a2c4000721853272d4feca###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/R2Store.java###/R2Store.java###voldemort.restclient.R2Store###put:ByteArray Versioned<byte[]> byte[] ###StringserializedVC=CoordinatorUtils.getSerializedVectorClock((VectorClock)value.getVersion());###vc###(VectorClock)value.getVersion()###209:13:209:111
1f0db5f73a2b0cd4bcedc5e9077f201f038abfe3###/voldemort_voldemort/src/java/voldemort/store/routed/action/PerformParallelGetAllRequests.java###/PerformParallelGetAllRequests.java###voldemort.store.routed.action.PerformParallelGetAllRequests.execute.callback.new NonblockingStoreCallback###requestComplete:Object long ###responses.put(node.getId(),newResponse<Iterable<ByteArray>,Object>(node,keys,result,requestTime));###response###newResponse<Iterable<ByteArray>,Object>(node,keys,result,requestTime)###88:21:92:91
f5e8f5a327f3c90af6975e63c7820fe2c2b764be###/voldemort_voldemort/src/java/voldemort/utils/KeySamplerCLI.java###/KeySamplerCLI.java###voldemort.utils.KeySamplerCLI###main:String[] ###options=getParser().parse(args);###parser###getParser()###337:13:337:47
89d2a2e711ec7a42ef0f6be6b97e1a79135dad81###/voldemort_voldemort/src/java/voldemort/utils/ConsistencyCheck.java###/ConsistencyCheck.java###voldemort.utils.ConsistencyCheck###doConsistencyCheck:String Integer String boolean ###cleanIneligibleKeys(keyVersionNodeSetMap,storeDefinition.getRequiredWrites());###requiredWrites###storeDefinition.getRequiredWrites()###354:9:354:88
e3b6f01e5426bb1e49268f2e9f8df16dba9c6194###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleFetchAndUpdate:VAdminProto.InitiateFetchAndUpdateRequest ###finalbooleanisReadOnlyStore=metadataStore.getStoreDef(storeName).getType().compareTo(ReadOnlyStorageConfiguration.TYPE_NAME)==0;###storeDef###metadataStore.getStoreDef(storeName)###708:9:710:110
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleFetchAndUpdate:VAdminProto.InitiateFetchAndUpdateRequest ###finalbooleanisReadOnlyStore=metadataStore.getStoreDef(storeName).getType().compareTo(ReadOnlyStorageConfiguration.TYPE_NAME)==0;###storeDef###metadataStore.getStoreDef(storeName)###659:9:661:110
8b961a7f6e70c02cc6edb8a7ac05ba9db79bc066###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient###getReplicaToPartitionMap:int String List<Integer> ###StoreDefinitiondef=RebalanceUtils.getStoreDefinitionWithName(getRemoteStoreDefList(nodeId).getValue(),storeName);###allStoreDefs###getRemoteStoreDefList(nodeId).getValue()###1031:9:1032:84
90c0b5ff8c07ad75a5bce790a2392a944644b41d###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###main:String[] ###FileStatusstatus=p.getFileSystem(config).getFileStatus(p);###path###p###472:9:472:70
975459c1b308f46bac4f7022b0b043861003a33d###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleDisableStoreVersion:VAdminProto.DisableStoreVersionRequest ###response.setDisableSuccess(true).setDisablePersistenceSuccess(false).setInfo("Thestore'"+storeName+"'version"+version+"wasdisabled"+"butthechangecouldnotbepersistedandwillthusremainineffectonly"+"untilthenextserverrestart.ThisislikelycausedbytheIOsubsystem"+"becomingread-only.");###message###"Thestore'"+storeName+"'version"+version+"wasdisabled"+"butthechangecouldnotbepersistedandwillthusremainineffectonly"+"untilthenextserverrestart.ThisislikelycausedbytheIOsubsystem"+"becomingread-only."###1969:13:1974:53
33ea45406ec6282102635da46aca2fb85d53fb2d###/voldemort_voldemort/test/unit/voldemort/coordinator/CoordinatorRestAPITest.java###/CoordinatorRestAPITest.java###voldemort.coordinator.CoordinatorRestAPITest###doPut:String String VectorClock ###if(conn.getResponseCode()!=201)###expectedResponseCode###201###155:13:159:14
2e4df163874b99a3158ebbae0df7c369fcf8bd48###/voldemort_voldemort/src/java/voldemort/store/views/ViewStorageEngine.java###/ViewStorageEngine.java###voldemort.store.views.ViewStorageEngine###put:ByteArray Versioned<byte[]> byte[] ###target.put(key,Versioned.value(valueFromViewSchema(key,value.getValue(),transforms),value.getVersion()),null);###result###Versioned.value(valueFromViewSchema(key,value.getValue(),transforms),value.getVersion())###97:9:98:68
3bdcb92fd33174b97c702854a9febfe22dd08940###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readwrite/mr/AbstractRWHadoopStoreBuilderMapper.java###/AbstractRWHadoopStoreBuilderMapper.java###voldemort.store.readwrite.mr.AbstractRWHadoopStoreBuilderMapper###map:K V OutputCollector<BytesWritable,BytesWritable> Reporter ###byte[]keyBytes=keySerializer.toBytes(makeKey(key,value));###keyObject###makeKey(key,value)###81:9:81:70
975459c1b308f46bac4f7022b0b043861003a33d###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleDisableStoreVersion:VAdminProto.DisableStoreVersionRequest ###response.setDisableSuccess(false).setInfo("Thestore'"+storeName+"'doesnotsupportdisablingversions!");###message###"Thestore'"+storeName+"'doesnotsupportdisablingversions!"###1976:13:1977:100
4c49cf6c24817b8a042455ec57806ac73ad0df87###/voldemort_voldemort/src/java/voldemort/server/storage/StorageService.java###/StorageService.java###voldemort.server.storage.StorageService###startInner:###scheduler.schedule("repair",newRepairJob(storeRepository,metadata,repairPermits),nextRun,voldemortConfig.getRepairFrequencyMs());###job###newRepairJob(storeRepository,metadata,repairPermits)###239:17:242:76
83b58d70beefe9c68c553f7433a107bab4f6f3d5###/voldemort_voldemort/test/unit/voldemort/client/rebalance/AbstractRebalanceTest.java###/AbstractRebalanceTest.java###voldemort.client.rebalance.AbstractRebalanceTest.testProxyGetWithMultipleDonors.execute.new Runnable###run:###RebalanceControllerrebalanceClient=newRebalanceController(getBootstrapUrl(updatedCluster,0),newRebalanceClientConfig());###rebalanceClientConfig###newRebalanceClientConfig()###511:21:513:112
202f4963f0fca1f6081f0ea8638f620d74cffa12###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/FetchMasterEntriesStreamRequestHandler.java###/FetchMasterEntriesStreamRequestHandler.java###voldemort.server.protocol.admin.FetchMasterEntriesStreamRequestHandler###handleRequest:DataInputStream DataOutputStream ###for(value:storageEngine.get(key,null))###values###storageEngine.get(key,null)###62:13:78:14
1f0db5f73a2b0cd4bcedc5e9077f201f038abfe3###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutor.java###/ClientRequestExecutor.java###voldemort.store.socket.clientrequest.ClientRequestExecutor###completeClientRequest:###clientRequest.complete();###local###clientRequest###215:9:215:34
f87fb2b685861929cbec38ac18e8275a6ad7da2d###/voldemort_voldemort/test/common/voldemort/VoldemortTestConstants.java###/VoldemortTestConstants.java###voldemort.VoldemortTestConstants###readString:String ###returnIOUtils.toString(VoldemortTestConstants.class.getResourceAsStream(filename));###inputStream###VoldemortTestConstants.class.getResourceAsStream(filename)###147:13:147:97
f5e8f5a327f3c90af6975e63c7820fe2c2b764be###/voldemort_voldemort/src/java/voldemort/utils/KeyVersionSamplerCLI.java###/KeyVersionSamplerCLI.java###voldemort.utils.KeyVersionSamplerCLI###main:String[] ###options=getParser().parse(args);###parser###getParser()###279:13:279:47
1ae1a836fee25c0c8ff43a198649087ed17ff2e6###/voldemort_voldemort/src/java/voldemort/server/scheduler/SlopPusherJob.java###/SlopPusherJob.java###voldemort.server.scheduler.SlopPusherJob###run:###Nodenode=cluster.getNodeById(slop.getNodeId());###nodeId###slop.getNodeId()###92:21:92:71
8b7b4cce5349f7bda1ea3ac1adc83362488747ae###/voldemort_voldemort/test/integration/voldemort/performance/benchmark/Benchmark.java###/Benchmark.java###voldemort.performance.benchmark.Benchmark###runTests:boolean ###threads.add(newClientThread(db,runBenchmark,this.workLoad,localOpsCounts/this.numThreads,this.perThreadThroughputPerMs,this.verbose,plugin));###opsPerThread###localOpsCounts/this.numThreads###458:13:464:51
c9d9db9ad796a6b50f348dcdb1c28cbff4fff931###/voldemort_voldemort/src/java/voldemort/utils/pool/KeyedResourcePool.java###/KeyedResourcePool.java###voldemort.utils.pool.KeyedResourcePool###checkout:K ###resource=resourcePool.blockingGet(timeRemainingNs);###waitNs###timeRemainingNs###140:21:140:74
d3a06b5ba8e2a38423a02d10d9d34a8e1f0920ae###/voldemort_voldemort/src/java/voldemort/store/StoreDefinition.java###/StoreDefinition.java###voldemort.store.StoreDefinition###checkParameterLegality:###sumZoneReplicationFactor+=zoneReplicationFactor.get(zoneId);###currentZoneRepFactor###zoneReplicationFactor.get(zoneId)###147:17:147:79
a1c0724abec4d5affdbce31e8a036938e48ee55f###/voldemort_voldemort/src/java/voldemort/utils/RebalanceClusterUtils.java###/RebalanceClusterUtils.java###voldemort.utils.RebalanceClusterUtils###summarizeBalance:Cluster Map<Integer,Integer> String ###builder.append("\tAvg:"+aggCount/nodeIdToPartitionCount.size()+"\n");###avgVal###aggCount/nodeIdToPartitionCount.size()###208:9:208:85
9e3828a3bca2c0918d24ec4ca604eeb2f76e3163###/voldemort_voldemort/src/java/voldemort/server/storage/StorageService.java###/StorageService.java###voldemort.server.storage.StorageService###startInner:###scheduler.schedule("repair",newRepairJob(storeRepository,metadata,repairPermits),nextRun,voldemortConfig.getRepairFrequencyMs());###job###newRepairJob(storeRepository,metadata,repairPermits)###238:17:241:76
98643ea18481ebfbb0fe1a7575ae6157f84f939e###/voldemort_voldemort/src/java/voldemort/server/niosocket/AsyncRequestHandler.java###/AsyncRequestHandler.java###voldemort.server.niosocket.AsyncRequestHandler###read:SelectionKey ###streamRequestHandler=requestHandler.handleRequest(newDataInputStream(inputStream),newDataOutputStream(outputStream));###dataOutputStream###newDataOutputStream(outputStream)###130:9:131:97
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testPutWithOneNodeDownAndOneNodeSlow:###subStores.put(Iterables.get(cluster.getNodes(),0).getId(),newFailingStore<ByteArray,byte[]>("test"));###id1###Iterables.get(cluster.getNodes(),0).getId()###615:9:616:68
59459b29e05b47fc297e63e46dc4e1e2980ce62a###/voldemort_voldemort/test/integration/voldemort/performance/RemoteTest.java###/RemoteTest.java###voldemort.performance.RemoteTest###main:String[] ###StoreClientFactoryfactory=newSocketStoreClientFactory(newClientConfig().setMaxThreads(numThreads).setMaxTotalConnections(numThreads).setMaxConnectionsPerNode(numThreads).setBootstrapUrls(url).setConnectionTimeout(60,TimeUnit.SECONDS).setSocketTimeout(60,TimeUnit.SECONDS).setSocketBufferSize(4*1024));###clientConfig###newClientConfig().setMaxThreads(numThreads).setMaxTotalConnections(numThreads).setMaxConnectionsPerNode(numThreads).setBootstrapUrls(url).setConnectionTimeout(60,TimeUnit.SECONDS).setSocketTimeout(60,TimeUnit.SECONDS).setSocketBufferSize(4*1024)###135:9:143:117
2601ab713f842107e0d50c85231920f4ce75c142###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/FetchEntriesStreamRequestHandler.java###/FetchEntriesStreamRequestHandler.java###voldemort.server.protocol.admin.FetchEntriesStreamRequestHandler###handleRequest:DataInputStream DataOutputStream ###for(value:storageEngine.get(key,null))###values###storageEngine.get(key,null)###53:13:70:14
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testGetAllWithMorePreferredReadsThanNodes:###subStores.put(Iterables.get(cluster.getNodes(),0).getId(),newInMemoryStorageEngine<ByteArray,byte[]>("test"));###id1###Iterables.get(cluster.getNodes(),0).getId()###521:9:522:77
a033aba19d97a5824c101d2741078b7417af2999###/voldemort_voldemort/src/java/voldemort/tools/admin/command/AdminCommandMeta.java###/AdminCommandMeta.java###voldemort.tools.admin.command.AdminCommandMeta.SubCommandMetaCheckVersion###doMetaCheckVersion:AdminClient ###printProperties(entry.getKey());###props###entry.getKey()###1294:21:1294:53
6d8c05d9c81717556249d2fe3f85a52875f1cafe###/voldemort_voldemort/src/java/voldemort/xml/ClusterMapper.java###/ClusterMapper.java###voldemort.xml.ClusterMapper###readZone:Element ###proximityList.add(Integer.parseInt(node.trim()));###proximityZoneId###Integer.parseInt(node.trim())###137:17:137:66
6d87bea768388d4c871212bf7245ef614e34a408###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/HadoopStoreBuilder.java###/HadoopStoreBuilder.java###voldemort.store.readonly.mr.HadoopStoreBuilder###build:###metadata.add(ReadOnlyStorageMetadata.CHECKSUM,newString(Hex.encodeHex(checkSumGenerator.getCheckSum())));###checkSum###newString(Hex.encodeHex(checkSumGenerator.getCheckSum()))###345:25:346:98
ebbc44f3c4e051ce321f4b4ff052eb78b9aa7b8e###/voldemort_voldemort/src/java/voldemort/store/rocksdb/PartitionPrefixedRocksDbStorageEngine.java###/PartitionPrefixedRocksDbStorageEngine.java###voldemort.store.rocksdb.PartitionPrefixedRocksDbStorageEngine.RocksdbKeysIterator###next:###returncache;###result###cache###197:13:197:26
33ea45406ec6282102635da46aca2fb85d53fb2d###/voldemort_voldemort/test/unit/voldemort/coordinator/CoordinatorRestAPITest.java###/CoordinatorRestAPITest.java###voldemort.coordinator.CoordinatorRestAPITest###doGet:String ###if(conn.getResponseCode()!=200)###expectedResponseCode###200###221:13:225:14
a40932db83b8ae44292c5c3944acc44608b1465f###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutor.java###/ClientRequestExecutor.java###voldemort.store.socket.clientrequest.ClientRequestExecutor###completeClientRequest:###clientRequest.complete();###local###clientRequest###256:9:256:34
b891756800aae1b3f3ecdeac78e824f2c30059c8###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysBinary:Iterator<ByteArray> File ###dos=newDataOutputStream(newBufferedOutputStream(newFileOutputStream(outputFile)));###outputStream###newFileOutputStream(outputFile)###1048:13:1048:100
5f7757a13757f0f2e65479667d9e7d013f8d9990###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysBinary:Iterator<ByteArray> File ###dos=newDataOutputStream(newBufferedOutputStream(newFileOutputStream(outputFile)));###outputStream###newFileOutputStream(outputFile)###1052:13:1052:100
b825316b72832248199dd00f966ff1f0468318b8###/voldemort_voldemort/src/java/voldemort/store/readonly/chunk/ChunkedFileSet.java###/ChunkedFileSet.java###voldemort.store.readonly.chunk.ChunkedFileSet###readValue:byte[] int int ###ByteBuffersizeBuffer=ByteBuffer.allocate(ByteUtils.SIZE_OF_SHORT+(2*ByteUtils.SIZE_OF_INT));###headerSize###ByteUtils.SIZE_OF_SHORT+(2*ByteUtils.SIZE_OF_INT)###461:21:462:96
d8bec73252a19eaf91b621cb6bc31c3a2eb486bc###/voldemort_voldemort/test/unit/voldemort/scheduled/SlopPusherTest.java###/SlopPusherTest.java###voldemort.scheduled.SlopPusherTest###setUp:###pusher=newSlopPusherJob(repo,makeCluster(3),newNoopFailureDetector(),10*1000*1000);###cluster###makeCluster(3)###62:9:65:54
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testPutWithOneNodeDownAndOneNodeSlow:###subStores.put(Iterables.get(cluster.getNodes(),2).getId(),newInMemoryStorageEngine<ByteArray,byte[]>("test"));###id3###Iterables.get(cluster.getNodes(),2).getId()###613:9:614:77
90c2757f03bd059cc5e340dbd469d96c32354be9###/voldemort_voldemort/src/java/voldemort/server/rebalance/async/DonorBasedRebalancePusherSlave.java###/DonorBasedRebalancePusherSlave.java###voldemort.server.rebalance.async.DonorBasedRebalancePusherSlave.ResumableIterator###hasNext:###returnfalse;###hasNext###false###156:17:156:30
e65b0e03226ce93bf6dd4622192b449f6e46f1d8###/voldemort_voldemort/test/unit/voldemort/scheduled/DataCleanupJobTest.java###/DataCleanupJobTest.java###voldemort.scheduled.DataCleanupJobTest###testCleanupFrequency:###scheduler.schedule("cleanup-freq-test",cleanupJob,now,5*Time.MS_PER_SECOND);###cleanUpJobName###"cleanup-freq-test"###133:13:133:94
e90b885c2b7b2374d9b03eac114ef64338d941f1###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/azkaban/VoldemortBuildAndPushJob.java###/VoldemortBuildAndPushJob.java###voldemort.store.readonly.mr.azkaban.VoldemortBuildAndPushJob###run:###log.error("Gotexceptionswhilepushingto"+Joiner.on(",").join(exceptions.keySet())+"=>"+Joiner.on(",").join(exceptions.values()));###errorMessage###"Gotexceptionswhilepushingto"+Joiner.on(",").join(exceptions.keySet())+"=>"+Joiner.on(",").join(exceptions.values())###336:13:337:76
dbdf05c48bc3883d2c979b932688c013777c6163###/voldemort_voldemort/contrib/hadoop-store-builder/test/voldemort/store/readwrite/mr/HadoopRWStoreBuilderTest.java###/HadoopRWStoreBuilderTest.java###voldemort.store.readwrite.mr.HadoopRWStoreBuilderTest###setUp:###server=ServerTestUtils.startVoldemortServer(socketStoreFactory,ServerTestUtils.createServerConfig(true,0,tempConfDir.getAbsolutePath(),null,storeXml.getAbsolutePath(),newProperties()),cluster);###props###newProperties()###95:9:102:64
fe5813008b8fb437a278e0a650095441bbc130da###/voldemort_voldemort/src/java/voldemort/server/NodeIdUtils.java###/NodeIdUtils.java###voldemort.server.NodeIdUtils###validateNodeId:Cluster HostMatcher int ###thrownewVoldemortApplicationException("NumberofValidationfailures"+errors.size()+".Details:"+Arrays.toString(errors.toArray()));###errorMessage###"NumberofValidationfailures"+errors.size()+".Details:"+Arrays.toString(errors.toArray())###83:17:85:94
2e6afb2ee0583fba72d76f49d8e04a10b734f7a7###/voldemort_voldemort/src/java/voldemort/server/scheduler/SlopPusherJob.java###/SlopPusherJob.java###voldemort.server.scheduler.SlopPusherJob###run:###Nodenode=cluster.getNodeById(slop.getNodeId());###nodeId###slop.getNodeId()###90:21:90:71
bb3d365d1760b2afe9ce9a15ecd82b251e92eff5###/voldemort_voldemort/src/java/voldemort/server/scheduler/slop/StreamingSlopPusherJob.java###/StreamingSlopPusherJob.java###voldemort.server.scheduler.slop.StreamingSlopPusherJob.SlopConsumer###run:###adminClient.updateSlopEntries(nodeId,newSlopIterator(slopQueue,deleteBatch));###iterator###newSlopIterator(slopQueue,deleteBatch)###240:17:240:97
baaa43e85ebc1eed68b79e41b3a4a6acb0d589d6###/voldemort_voldemort/src/java/voldemort/store/routed/PipelineRoutedStore.java###/PipelineRoutedStore.java###voldemort.store.routed.PipelineRoutedStore###PipelineRoutedStore:Map<Integer,Store<ByteArray,byte[],byte[]>> Map<Integer,NonblockingStore> Map<Integer,Store<ByteArray,Slop,byte[]>> Map<Integer,NonblockingStore> Cluster StoreDefinition FailureDetector boolean TimeoutConfig int boolean int ZoneAffinity ###this.clientZone=cluster.getZones().iterator().next();###availableZones###cluster.getZones()###144:13:144:68
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testGetAllWithFailingStore:###subStores.put(Iterables.get(cluster.getNodes(),1).getId(),newFailingReadsStore<ByteArray,byte[]>("test"));###id2###Iterables.get(cluster.getNodes(),1).getId()###470:9:471:73
f3cd4f9fef530b4f10cbad1b4c884be2b551ee9b###/voldemort_voldemort/src/java/voldemort/utils/Entropy.java###/Entropy.java###voldemort.utils.Entropy###generateEntropy:Cluster List<StoreDefinition> File boolean ###longkeyId=0###numKeysStored###0###212:33:212:47
1ba83a15b026429843fb1a9ef81fcbeba701d379###/voldemort_voldemort/src/java/voldemort/store/routed/action/PerformParallelPutRequests.java###/PerformParallelPutRequests.java###voldemort.store.routed.action.PerformParallelPutRequests.execute.callback.new NonblockingStoreCallback###requestComplete:Object long ###if(response.getValue()instanceofUnreachableStoreException)###responseObject###response.getValue()###140:25:150:26
3841081d1b789795e538783ae85d5b429fc42877###/voldemort_voldemort/src/java/voldemort/utils/pool/KeyedResourcePool.java###/KeyedResourcePool.java###voldemort.utils.pool.KeyedResourcePool###close:###if(isOpen.compareAndSet(true,false))###wasOpen###isOpen.compareAndSet(true,false)###241:9:249:10
f5e8f5a327f3c90af6975e63c7820fe2c2b764be###/voldemort_voldemort/src/java/voldemort/utils/KeySamplerCLI.java###/KeySamplerCLI.java###voldemort.utils.KeySamplerCLI###KeySamplerCLI:String String int int ###this.storeNameToKeyStringsMap.put(storeDefinition.getName(),newStringBuilder());###storeName###storeDefinition.getName()###80:13:80:95
4a76cab2a1cde26b998ab6d0bd6615315910fef0###/voldemort_voldemort/src/java/voldemort/utils/RebalanceUtils.java###/RebalanceUtils.java###voldemort.utils.RebalanceUtils###analyzeBalance:Cluster List<StoreDefinition> ###System.out.println("\t\tMax/Min:"+maxVal*1.0/minVal);###maxMinRatio###maxVal*1.0/minVal###502:9:502:69
0d47e4f402f7eef4c5c322d5606793cc041fcbf3###/voldemort_voldemort/src/java/voldemort/cluster/failuredetector/ThresholdFailureDetector.java###/ThresholdFailureDetector.java###voldemort.cluster.failuredetector.ThresholdFailureDetector###recordSuccess:Node long ###update(node,successDelta,null);###e###null###91:9:91:42
ec2fd872b088ee3479bc24a098b45a96224af095###/voldemort_voldemort/src/java/voldemort/tools/admin/command/AdminCommandMeta.java###/AdminCommandMeta.java###voldemort.tools.admin.command.AdminCommandMeta.SubCommandMetaSet###executeCommand:String[] ###adminClient.metadataMgmtOps.setRemoteOfflineState(nodeId,Boolean.parseBoolean(metaValue));###setOffline###Boolean.parseBoolean(metaValue)###900:25:901:108
17d5b4222334155d967b8b37e4f1fcb5a3a30fe5###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/HadoopStoreBuilder.java###/HadoopStoreBuilder.java###voldemort.store.readonly.mr.HadoopStoreBuilder###build:###StringjsonString=HadoopStoreBuilderUtils.readFileContents(nodePathFs,newPath(nodePath,".metadata"),1024);###metadataPath###newPath(nodePath,".metadata")###319:21:322:88
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###getStore:Cluster int int int int int String VoldemortException ###subStores.put(n.getId(),newFailingStore<ByteArray,byte[]>("test",e));###subStore###newFailingStore<ByteArray,byte[]>("test",e)###152:17:152:90
890ad4201f1b1d220881f6aeafa0f2be7897e205###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleGetMetadata:VAdminProto.GetMetadataRequest ###logger.error("handleGetMetadatafailedforrequest("+request.toString()+")",e);###errorMessage###"handleGetMetadatafailedforrequest("+request.toString()+")"###1508:13:1508:97
7c793f67a7c6466a5e9b99a7ca9b96d2ba93de99###/voldemort_voldemort/test/unit/voldemort/server/gossip/GossiperTest.java###/GossiperTest.java###voldemort.server.gossip.GossiperTest.testGossiper.assertWithBackoff.new Attempt###checkCondition:###assertEquals("server"+nodeId+"hasheard"+"thegossipaboutnumberofnodes",clusterAtServer.getNumberOfNodes(),newCluster.getNumberOfNodes());###newFinalCluster###newCluster###206:25:209:69
b5db5ed5d4a3396adca67e097e6241e8d75d12bf###/voldemort_voldemort/test/unit/voldemort/scheduled/StreamingSlopPusherTest.java###/StreamingSlopPusherTest.java###voldemort.scheduled.StreamingSlopPusherTest###testPushForHostSwap:###newStreamingSlopPusherJob(getVoldemortServer(0).getStoreRepository(),getVoldemortServer(0).getMetadataStore(),newThresholdFailureDetector(newFailureDetectorConfig().setCluster(cluster).setConnectionVerifier(newAdminSlopStreamingVerifier(cluster))),configs[0],newScanPermitWrapper(1)).run();###oldCluster###cluster###522:9:527:68
94be1a5451f7c763e84401ce4eb6a9e58b27b91b###/voldemort_voldemort/src/java/voldemort/common/nio/ByteBufferContainer.java###/ByteBufferContainer.java###voldemort.common.nio.ByteBufferContainer###ByteBufferContainer:int int MutableLong ###updateSizeStats(0,this.buffer.capacity());###oldSize###0###33:9:33:52
4b63eaf8df279603f37947e537b32d1bff64e420###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###fetch:FileSystem Path File CopyStats ###checkSumGenerator.update(fileCheckSumGenerator.getCheckSum());###checkSum###fileCheckSumGenerator.getCheckSum()###205:29:205:91
7df37f1af0c13a7c2113b0de7a71a863742e12c5###/voldemort_voldemort/test/unit/voldemort/store/routed/HintedHandoffTest.java###/HintedHandoffTest.java###voldemort.store.routed.HintedHandoffTest###testHintedHandoff:###slopKeys.add(newByteArray(ByteUtils.cat(opCode,spacer,storeName,spacer,key.get())));###slopKey###newByteArray(ByteUtils.cat(opCode,spacer,storeName,spacer,key.get()))###226:13:226:102
82813970656f31021eedac5ff405f13ddf6a5692###/voldemort_voldemort/src/java/voldemort/xml/StoreDefinitionsMapper.java###/StoreDefinitionsMapper.java###voldemort.xml.StoreDefinitionsMapper###readStore:Element ###retentionPolicyDays=Integer.parseInt(retention.getText());###retentionDays###Integer.parseInt(retention.getText())###228:13:228:73
4e9ec16f8eb1f5373b2a87bfc9d0e803d3bfc4c1###/voldemort_voldemort/src/java/voldemort/rest/server/StorageWorkerThread.java###/StorageWorkerThread.java###voldemort.rest.server.StorageWorkerThread###run:###GetResponseSenderresponseConstructor=newGetResponseSender(messageEvent,requestObject.getKey(),versionedValues,store.getName());###storeName###store.getName()###83:33:86:112
3ac868defb490f071d93d6d05b55a2153e3c1ef2###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/R2Store.java###/R2Store.java###voldemort.restclient.R2Store###R2Store:String String ###finalTransportClienttransportClient=_clientFactory.getClient(newHashMap<String,String>());###properties###newHashMap<String,String>()###97:13:97:109
421ada5e52c4db9330776beb2d3c4e7dbf720e2b###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/disk/HadoopStoreWriter.java###/HadoopStoreWriter.java###voldemort.store.readonly.disk.HadoopStoreWriter###write:BytesWritable Iterator<BytesWritable> Reporter ###this.nodeId=ByteUtils.readInt(valueBytes,offsetTillNow);###currentNodeId###ByteUtils.readInt(valueBytes,offsetTillNow)###217:17:217:76
0c6893c3e7b72f6f5e15b8f1e644e16d1378811f###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient.AdminStoreClient###getSocketStore:int String ###socketStore=clientPool.create(storeName,node.getHost(),node.getSocketPort(),clientConfig.getRequestFormatType(),RequestRoutingType.IGNORE_CHECKS);###newSocketStore###clientPool.create(storeName,node.getHost(),node.getSocketPort(),clientConfig.getRequestFormatType(),RequestRoutingType.IGNORE_CHECKS)###1943:21:1947:87
428f6d11e9536fb4275b5812cbc50652792363c6###/voldemort_voldemort/src/java/voldemort/client/AbstractStoreClientFactory.java###/AbstractStoreClientFactory.java###voldemort.client.AbstractStoreClientFactory###getFailureDetector:###returnfailureDetector;###result###failureDetector###204:9:204:32
f52dceddf7c56e0f8455260cdc01b4033818f7e5###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/admin/CoordinatorAdminClient.java###/CoordinatorAdminClient.java###voldemort.restclient.admin.CoordinatorAdminClient###deleteStoreClientConfig:List<String> String ###System.out.println(entity.asString("UTF-8"));###responseMessage###entity.asString("UTF-8")###234:13:234:58
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/FetchPartitionFileStreamRequestHandler.java###/FetchPartitionFileStreamRequestHandler.java###voldemort.server.protocol.admin.FetchPartitionFileStreamRequestHandler###FetchPartitionFileStreamRequestHandler:VAdminProto.FetchPartitionFilesRequest MetadataStore VoldemortConfig StoreRepository ###booleanisReadOnly=metadataStore.getStoreDef(request.getStore()).getType().compareTo(ReadOnlyStorageConfiguration.TYPE_NAME)==0;###storeDef###metadataStore.getStoreDef(request.getStore())###43:9:45:99
33966e28d4eb5e82e788470daf868f1c5565ad27###/voldemort_voldemort/src/java/voldemort/rest/GetVersionResponseSender.java###/GetVersionResponseSender.java###voldemort.rest.GetVersionResponseSender###sendResponse:StoreStats boolean long ###vectorClocks.add((VectorClock)versionedValue);###vectorClock###(VectorClock)versionedValue###50:13:50:60
2ec72c472b0d957d6f985a0c498fe8f3ff2523df###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###fetch:FileSystem Path File CopyStats ###FilecopyLocation=newFile(dest,status.getPath().getName());###fileName###status.getPath().getName()###418:25:418:88
43f344afba4b01de7147cbce07332a626f2ab0f4###/voldemort_voldemort/src/java/voldemort/utils/ExceptionUtils.java###/ExceptionUtils.java###voldemort.utils.ExceptionUtils###recursiveClassEquals:Throwable Class ###if(throwableToInspect.getClass().equals(throwableClassToLookFor))###classToInspect###throwableToInspect.getClass()###17:9:22:10
c2bd06939d244b7e771d97f7c5fcf76673417463###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/StreamingClient.java###/StreamingClient.java###voldemort.client.protocol.admin.StreamingClient###addStoreToSession:String ###thrownewVoldemortException(e);###initializationException###e###384:17:384:49
d8bec73252a19eaf91b621cb6bc31c3a2eb486bc###/voldemort_voldemort/src/java/voldemort/store/slop/SlopStorageEngine.java###/SlopStorageEngine.java###voldemort.store.slop.SlopStorageEngine###put:ByteArray Versioned<byte[]> byte[] ###addedSinceResetByNode.get(slop.getNodeId()).incrementAndGet();###addedSinceReset###addedSinceResetByNode.get(slop.getNodeId())###132:9:132:71
139a5551fba24ac068840801e705558b6fd56c07###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/HadoopStoreBuilder.java###/HadoopStoreBuilder.java###voldemort.store.readonly.mr.HadoopStoreBuilder###build:###FSDataOutputStreammetadataStream=outputFs.create(newPath(nodePath,".metadata"));###metadataPath###newPath(nodePath,".metadata")###479:17:479:102
de59607d12fea497b8a571d165c38e55374d49b9###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleSetMetadata:VAdminProto.UpdateMetadataRequest ###metadataStore.put(newByteArray(ByteUtils.getBytes(keyString,"UTF-8")),versionedValue,null);###key###newByteArray(ByteUtils.getBytes(keyString,"UTF-8"))###1290:17:1292:41
30bbdd5a306d1b87a8e92cd9254c8a1c132ed2db###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###executeCheckMetadata:AdminClient String ###for(node:adminClient.getAdminClientCluster().getNodes())###allNodes###adminClient.getAdminClientCluster().getNodes()###1177:9:1198:10
179347ab6c7f07db345e055388a0b6afb8e587d3###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AsyncOperationService.java###/AsyncOperationService.java###voldemort.server.protocol.admin.AsyncOperationService###getAsyncOperationList:boolean ###if(!operations.get(key).getStatus().isComplete())###operation###operations.get(key)###148:13:149:34
f2e82d408c1294144931a37bef70ac4f7982f2f3###/voldemort_voldemort/src/java/voldemort/server/rebalance/Rebalancer.java###/Rebalancer.java###voldemort.server.rebalance.Rebalancer###releaseRebalancingPermit:int ###if(!rebalancePermits.remove(nodeId))###removed###rebalancePermits.remove(nodeId)###88:9:90:92
92c5016872b26213e64352994a73b7bc4b48d025###/voldemort_voldemort/test/integration/voldemort/performance/benchmark/Benchmark.java###/Benchmark.java###voldemort.performance.benchmark.Benchmark###initializeStore:Props ###store=SerializingStore.wrap(conf.getStore(DUMMY_DB),serializer,newStringSerializer(),newIdentitySerializer());###engine###conf.getStore(DUMMY_DB)###364:13:367:69
4b25fa4a9288730ac96a36626ffd0b7d064cf5a2###/voldemort_voldemort/test/unit/voldemort/client/ClientTrafficVerifier.java###/ClientTrafficVerifier.java###voldemort.client.ClientTrafficVerifier###run:###kvUpdateCount.put(k,kvUpdateCount.get(k)+1);###newCount###kvUpdateCount.get(k)+1###102:25:102:72
a23595662b473a10e7160ee492fad231c99d7cab###/voldemort_voldemort/test/unit/voldemort/server/gossip/GossiperTest.java###/GossiperTest.java###voldemort.server.gossip.GossiperTest.testGossiper.assertWithBackoff.new Attempt###checkCondition:###assertEquals("server"+nodeId+"hasheard"+"thegossipaboutnumberofnodes",clusterAtServer.getNumberOfNodes(),newCluster.getNumberOfNodes());###newFinalCluster###newCluster###194:25:197:69
e6b24c6ea1114cbbe2512cefe7eb8cbe5d372d8d###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/HadoopStoreBuilder.java###/HadoopStoreBuilder.java###voldemort.store.readonly.mr.HadoopStoreBuilder###build:###FSDataOutputStreammetadataStream=outputFs.create(newPath(nodePath,".metadata"));###metadataPath###newPath(nodePath,".metadata")###521:17:521:102
10d57ac1e658e6720fed2deaa714e35e336aef9c###/voldemort_voldemort/src/java/voldemort/cluster/Cluster.java###/Cluster.java###voldemort.cluster.Cluster###Cluster:String List<Node> List<Zone> ###zonesById.put(Zone.DEFAULT_ZONE_ID,newZone());###defaultZone###newZone()###77:13:77:61
1b576636aa556536bd2b0ceb501318cb0a515cd0###/voldemort_voldemort/test/unit/voldemort/store/stats/SimpleCounterTest.java###/SimpleCounterTest.java###voldemort.store.stats.SimpleCounterTest###sleepForResetInterval:long ###Thread.sleep(stopTimeMs-System.currentTimeMillis()+1);###sleepDurationMs###stopTimeMs-System.currentTimeMillis()+1###29:13:29:71
f2e82d408c1294144931a37bef70ac4f7982f2f3###/voldemort_voldemort/src/java/voldemort/client/rebalance/RebalanceController.java###/RebalanceController.java###voldemort.client.rebalance.RebalanceController###rebalance:Cluster ###rebalance(currentVersionedCluster.getValue(),targetCluster);###currentCluster###currentVersionedCluster.getValue()###79:9:79:70
0da2072685beb7cb32788831130146d586ae0019###/voldemort_voldemort/src/java/voldemort/xml/ClusterMapper.java###/ClusterMapper.java###voldemort.xml.ClusterMapper###readServer:Element ###partitions.add(Integer.parseInt(aPartition.trim()));###partition###Integer.parseInt(aPartition.trim())###153:17:153:69
9702607f6213cf072715080ff7e08eccb4fad3cc###/voldemort_voldemort/src/java/voldemort/client/rebalance/RebalanceController.java###/RebalanceController.java###voldemort.client.rebalance.RebalanceController###rebalance:Cluster Cluster ###finalRebalanceClusterPlanrebalanceClusterPlan=newRebalanceClusterPlan(currentCluster,targetCluster,RebalanceUtils.getStoreNameList(currentCluster,adminClient),rebalanceConfig.isDeleteAfterRebalancingEnabled());###oldCluster###currentCluster###112:9:116:135
91ab1d80e39ff549427506ceac4f7f8db4bf9f98###/voldemort_voldemort/src/java/voldemort/client/scheduler/AsyncMetadataVersionManager.java###/AsyncMetadataVersionManager.java###voldemort.client.scheduler.AsyncMetadataVersionManager###updateMetadataVersions:###this.currentClusterVersion=fetchNewVersion(CLUSTER_VERSION_KEY,null,versionProps);###newVersion###fetchNewVersion(CLUSTER_VERSION_KEY,null,versionProps)###161:9:161:95
9452711bc4abaa43e30d75c5c2d6cb5416ef7d91###/voldemort_voldemort/test/unit/voldemort/scheduled/SlopPusherDeadSlopTest.java###/SlopPusherDeadSlopTest.java###voldemort.scheduled.SlopPusherDeadSlopTest###testAutoPurge:###List<Versioned<byte[]>>slopEntry=adminClient.storeOps.getNodeKey("test",0,slop.getValue().getKey());###key###slop.getValue().getKey()###139:17:142:100
78e9417e91107a23b29be1d2f9c64c6fbfd1fc81###/voldemort_voldemort/src/java/voldemort/utils/ConsistencyFixWorker.java###/ConsistencyFixWorker.java###voldemort.utils.ConsistencyFixWorker###resolveReadConflicts:List<NodeValue<ByteArray,byte[]>> ###for(nodeKeyValue:readRepairer.getRepairs(nodeValues))###nodeKeyValues###readRepairer.getRepairs(nodeValues)###287:13:292:14
a9a4c22134ea6eefe6e2c3920bc54b8495ad9fef###/voldemort_voldemort/src/java/voldemort/utils/RebalanceUtils.java###/RebalanceUtils.java###voldemort.utils.RebalanceUtils###generateMinCluster:Cluster Cluster List<StoreDefinition> ###if(RebalanceUtils.getCrossZoneMoves(intermediateCluster,newRebalanceClusterPlan(returnCluster,intermediateCluster,storeDefs,true))==0)###crossZoneMoves###RebalanceUtils.getCrossZoneMoves(intermediateCluster,newRebalanceClusterPlan(returnCluster,intermediateCluster,storeDefs,true))###506:21:514:22
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testPutWithOneNodeDownAndOneNodeSlow:###subStores.put(Iterables.get(cluster.getNodes(),1).getId(),newSleepyStore<ByteArray,byte[]>(100,newInMemoryStorageEngine<ByteArray,byte[]>("test")));###id2###Iterables.get(cluster.getNodes(),1).getId()###621:9:623:113
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/integration/voldemort/performance/LocalRoutedStoreLoadTest.java###/LocalRoutedStoreLoadTest.java###voldemort.performance.LocalRoutedStoreLoadTest###getStore:Props Props ###clientMapping.put(node.getId(),conf.getStore("test"+node.getId()));###store###conf.getStore("test"+node.getId())###65:13:65:83
d7d7349de8628cef491848c21a40fee1100c6639###/voldemort_voldemort/src/java/voldemort/store/routed/PipelineRoutedStore.java###/PipelineRoutedStore.java###voldemort.store.routed.PipelineRoutedStore###delete:ByteArray Version long ###pipeline.addEventAction(Event.RESPONSES_RECEIVED,newPerformDeleteHintedHandoff(pipelineData,Event.COMPLETED,key,version,hintedHandoff));###deleteHintedHandoffAction###newPerformDeleteHintedHandoff(pipelineData,Event.COMPLETED,key,version,hintedHandoff)###702:13:707:84
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysBinary:Iterator<ByteArray> File ###dos=newDataOutputStream(newBufferedOutputStream(newFileOutputStream(outputFile)));###outputStream###newFileOutputStream(outputFile)###811:13:811:100
7a2afa425f0f624310de4d06a5d225857528dc2d###/voldemort_voldemort/src/java/voldemort/store/slop/ConsistentHandoffStrategy.java###/ConsistentHandoffStrategy.java###voldemort.store.slop.ConsistentHandoffStrategy###ConsistentHandoffStrategy:Cluster int ###prefList.add(cluster.getNodeById(i));###peer###cluster.getNodeById(i)###57:21:57:58
0af020f162145191b88e31ceb128edeb89bfe5a2###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/azkaban/VoldemortBuildAndPushJob.java###/VoldemortBuildAndPushJob.java###voldemort.store.readonly.mr.azkaban.VoldemortBuildAndPushJob###VoldemortBuildAndPushJob:String Props ###this.executorService=Executors.newFixedThreadPool(numberOfClusters);###requiredNumberOfThreads###numberOfClusters###257:9:257:79
ea2f292134244ea1bed2b3b5775b3fb0d0a1f62b###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysAscii:Iterator<ByteArray> File StoreDefinition ###keysCompressionStrategy=newCompressionStrategyFactory().get(storeDefinition.getKeySerializer().getCompression());###serializerDef###storeDefinition.getKeySerializer()###797:13:798:110
fccc987a79cc63f0f35318d7569f27450fe64cd7###/voldemort_voldemort/src/java/voldemort/store/views/ViewStorageEngine.java###/ViewStorageEngine.java###voldemort.store.views.ViewStorageEngine###put:ByteArray Versioned<byte[]> byte[] ###target.put(key,Versioned.value(valueFromViewSchema(key,value.getValue(),transforms),value.getVersion()),null);###result###Versioned.value(valueFromViewSchema(key,value.getValue(),transforms),value.getVersion())###94:9:95:68
7e0501b5f51800b7ae77197df8e60e0457b4299a###/voldemort_voldemort/src/java/voldemort/VoldemortClientShell.java###/VoldemortClientShell.java###voldemort.VoldemortClientShell###processCommands:StoreClientFactory BufferedReader boolean ###client.put(tightenNumericTypes(jsonReader.read()),tightenNumericTypes(jsonReader.read()),tightenNumericTypes(jsonReader.read()));###value###tightenNumericTypes(jsonReader.read())###107:21:109:72
51b2395476ca3b5557119cb49475aa2e62036e0c###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutor.java###/ClientRequestExecutor.java###voldemort.store.socket.clientrequest.ClientRequestExecutor###checkTimeout:###if(System.nanoTime()<=expiration)###nowNs###System.nanoTime()###81:9:82:25
1a245921ecbead86f7278fd25e9eacb194b30a8b###/voldemort_voldemort/test/unit/voldemort/client/rebalance/AbstractNonZonedRebalanceTest.java###/AbstractNonZonedRebalanceTest.java###voldemort.client.rebalance.AbstractNonZonedRebalanceTest###testRORebalanceWithReplication:###ClusterfinalCluster=UpdateClusterUtils.createUpdatedCluster(currentCluster,2,Lists.newArrayList(2,3));###finalCluster###currentCluster###339:13:341:102
de66f98238f10a473e9dfa1eef81174b61be0a19###/voldemort_voldemort/test/unit/voldemort/client/AdminServiceBasicTest.java###/AdminServiceBasicTest.java###voldemort.client.AdminServiceBasicTest###setUp:###servers=newVoldemortServer[2];###numServers###2###126:9:126:42
366cd06a26f4e893422fbed077d4f0d31d935a4c###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient###getReplicaToPartitionMap:int String List<Integer> ###StoreDefinitiondef=RebalanceUtils.getStoreDefinitionWithName(getRemoteStoreDefList(nodeId).getValue(),storeName);###allStoreDefs###getRemoteStoreDefList(nodeId).getValue()###966:9:967:84
69fcd3f7dbd1fc3e8787a1374a0d74b01e860758###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/benchmark/BuildTestStore.java###/BuildTestStore.java###voldemort.store.readonly.benchmark.BuildTestStore###run:String[] ###config.set("mapred.job.name","test-store-builder");###jobName###"test-store-builder"###71:9:71:61
7be0f6d80a7736aa082916abe1e222a3fad2e079###/voldemort_voldemort/src/java/voldemort/store/venice/VeniceConsumerTask.java###/VeniceConsumerTask.java###voldemort.store.venice.VeniceConsumerTask###readVeniceMessage:String VeniceMessage ###store.deleteFromKafka(voldemortKey,newVectorClock());###clock###newVectorClock()###319:17:319:72
9e0c43b35c2699eb1043bf57430340c83d8ba582###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient.HelperOperations###initSystemStoreClient:String int ###quotaSysStoreClient=systemStoreFactory.createSystemStore(SystemStoreConstants.SystemStoreName.voldsys$_store_quotas.name());###quotaStoreName###SystemStoreConstants.SystemStoreName.voldsys$_store_quotas.name()###358:17:358:143
6f1cf577b021124cd3f377420c69299819ee3c40###/voldemort_voldemort/src/java/voldemort/VoldemortClientShell.java###/VoldemortClientShell.java###voldemort.VoldemortClientShell###processCommands:StoreClientFactory BufferedReader boolean ###printVersioned(client.get(tightenNumericTypes(jsonReader.read())));###key###tightenNumericTypes(jsonReader.read())###147:21:147:88
78e9417e91107a23b29be1d2f9c64c6fbfd1fc81###/voldemort_voldemort/src/java/voldemort/utils/ConsistencyFix.java###/ConsistencyFix.java###voldemort.utils.ConsistencyFix###execute:int String boolean String ###badKeyReaderService.submit(newBadKeyReader(allBadKeysReadLatch,badKeyFileIn,this,consistencyFixWorkers,badKeyQOut));###badKeyReader###newBadKeyReader(allBadKeysReadLatch,badKeyFileIn,this,consistencyFixWorkers,badKeyQOut)###183:13:187:70
8be70f75c968de57feab96c960a4d30471f667e7###/voldemort_voldemort/src/java/voldemort/store/metadata/MetadataStore.java###/MetadataStore.java###voldemort.store.metadata.MetadataStore###convertStringToObject:String Versioned<String> ###valueObject=RebalancePartitionsInfo.listFromString(value.getValue());###valueString###value.getValue()###448:13:448:84
88fcf8d0ea507a22e90db74b1c23f82382806e7c###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutorFactory.java###/ClientRequestExecutorFactory.java###voldemort.store.socket.clientrequest.ClientRequestExecutorFactory.createAsync.callback.new NonblockingStoreCallback###requestComplete:Object long ###pool.reportException(dest,(Exception)result);###e###(Exception)result###177:25:177:72
fe02cd90c6ad7e5b3e7b328f3f1db17801ce8f30###/voldemort_voldemort/src/java/voldemort/utils/Entropy.java###/Entropy.java###voldemort.utils.Entropy###generateEntropy:Cluster List<StoreDefinition> File boolean ###longkeyId=0###numKeysStored###0###211:33:211:47
6f325308d74e34e182c4dc6119a6dce0f2ea59e0###/voldemort_voldemort/src/java/voldemort/client/AbstractStoreClientFactory.java###/AbstractStoreClientFactory.java###voldemort.client.AbstractStoreClientFactory###getRawStore:String InconsistencyResolver<Versioned<V>> ###Store<ByteArray,byte[]>store=routedStoreFactory.create(cluster,storeDef,clientMapping,nonblockingStores,null,repairReads,clientZoneId,getFailureDetector());###slopStores###null###166:9:173:90
17d5b4222334155d967b8b37e4f1fcb5a3a30fe5###/voldemort_voldemort/contrib/hadoop-store-builder/test/voldemort/store/readonly/mr/HadoopStoreBuilderTest.java###/HadoopStoreBuilderTest.java###voldemort.store.readonly.mr.HadoopStoreBuilderTest###testHadoopBuild:###Store<Object,Object,Object>store=SerializingStore.wrap(newReadOnlyStorageEngine(storeName,searchStrategy,newRoutingStrategyFactory().updateRoutingStrategy(def,cluster),0,storeDir,1),serializer,serializer,serializer);###engine###newReadOnlyStorageEngine(storeName,searchStrategy,newRoutingStrategyFactory().updateRoutingStrategy(def,cluster),0,storeDir,1)###267:9:276:81
6d87bea768388d4c871212bf7245ef614e34a408###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mapreduce/HadoopStoreBuilder.java###/HadoopStoreBuilder.java###voldemort.store.readonly.mapreduce.HadoopStoreBuilder###build:###metadata.add(ReadOnlyStorageMetadata.CHECKSUM,newString(Hex.encodeHex(checkSumGenerator.getCheckSum())));###checkSum###newString(Hex.encodeHex(checkSumGenerator.getCheckSum()))###228:25:229:98
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readwrite/mr/HadoopRWStoreBuilderReducer.java###/HadoopRWStoreBuilderReducer.java###voldemort.store.readwrite.mr.HadoopRWStoreBuilderReducer.reduce.iterator.new AbstractIterator<Pair<ByteArray,Versioned<byte[]>>>###computeNext:###intkeyBytesLength=ByteUtils.readInt(keyValueBytes,0);###offsetTillNow###0###72:21:72:78
9702607f6213cf072715080ff7e08eccb4fad3cc###/voldemort_voldemort/src/java/voldemort/client/rebalance/RebalanceController.java###/RebalanceController.java###voldemort.client.rebalance.RebalanceController###rebalance:Cluster Cluster ###finalRebalanceClusterPlanrebalanceClusterPlan=newRebalanceClusterPlan(currentCluster,targetCluster,RebalanceUtils.getStoreNameList(currentCluster,adminClient),rebalanceConfig.isDeleteAfterRebalancingEnabled());###storesList###RebalanceUtils.getStoreNameList(currentCluster,adminClient)###112:9:116:135
b891756800aae1b3f3ecdeac78e824f2c30059c8###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysAscii:Iterator<ByteArray> File StoreDefinition ###writer=newBufferedWriter(newFileWriter(outputFile));###fileWriter###newFileWriter(outputFile)###1009:13:1009:69
2666dca02d64fc6c9dfe3d7a665b8c484f610d82###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutor.java###/ClientRequestExecutor.java###voldemort.store.socket.clientrequest.ClientRequestExecutor###read:SelectionKey ###clientRequest.parseResponse(newDataInputStream(inputStream));###request###clientRequest###214:9:214:71
3dfd81f441893b2227b8399638623bf2bf178867###/voldemort_voldemort/test/unit/voldemort/client/AdminServiceBasicTest.java###/AdminServiceBasicTest.java###voldemort.client.AdminServiceBasicTest###setUp:###servers[0]=ServerTestUtils.startVoldemortServer(socketStoreFactory,ServerTestUtils.createServerConfig(useNio,0,TestUtils.createTempDir().getAbsolutePath(),null,storesXmlfile,newProperties()),cluster);###serverProperties###newProperties()###122:9:130:68
3dc4fe8dbe90f5eea833555b1c7d0fcb4c9ca412###/voldemort_voldemort/src/java/voldemort/store/http/HttpStore.java###/HttpStore.java###voldemort.store.http.HttpStore###executeRequest:HttpPost ByteArrayOutputStream ###thrownewUnreachableStoreException("HTTPrequesttostore"+storeName+"returnedstatuscode"+response+""+response.getStatusLine().getReasonPhrase());###message###response.getStatusLine().getReasonPhrase()###158:17:160:99
f2e82d408c1294144931a37bef70ac4f7982f2f3###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler.handleFetchAndUpdate.submitOperation.new AsyncOperation###operate:###StringdestinationDir=((ReadOnlyStorageEngine)storageEngine).getCurrentDirPath();###readOnlyStorageEngine###((ReadOnlyStorageEngine)storageEngine)###750:29:750:113
f52dceddf7c56e0f8455260cdc01b4033818f7e5###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/admin/CoordinatorAdminClient.java###/CoordinatorAdminClient.java###voldemort.restclient.admin.CoordinatorAdminClient###putStoreClientConfigString:String String ###returnfalse;###success###false###173:17:173:30
30bbdd5a306d1b87a8e92cd9254c8a1c132ed2db###/voldemort_voldemort/src/java/voldemort/tools/admin/command/AdminCommandMeta.java###/AdminCommandMeta.java###voldemort.tools.admin.command.AdminCommandMeta.SubCommandMetaCheck###doMetaCheck:AdminClient List<String> ###for(node:adminClient.getAdminClientCluster().getNodes())###allNodes###adminClient.getAdminClientCluster().getNodes()###254:17:273:18
dbdf05c48bc3883d2c979b932688c013777c6163###/voldemort_voldemort/contrib/hadoop-store-builder/test/voldemort/store/readonly/mr/HadoopStoreBuilderTest.java###/HadoopStoreBuilderTest.java###voldemort.store.readonly.mr.HadoopStoreBuilderTest###testHadoopBuild:###Store<Object,Object,Object>store=SerializingStore.wrap(newReadOnlyStorageEngine(storeName,searchStrategy,newRoutingStrategyFactory().updateRoutingStrategy(def,cluster),0,storeDir,1),serializer,serializer,serializer);###engine###newReadOnlyStorageEngine(storeName,searchStrategy,newRoutingStrategyFactory().updateRoutingStrategy(def,cluster),0,storeDir,1)###264:9:273:81
202f4963f0fca1f6081f0ea8638f620d74cffa12###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/FetchEntriesStreamRequestHandler.java###/FetchEntriesStreamRequestHandler.java###voldemort.server.protocol.admin.FetchEntriesStreamRequestHandler###handleRequest:DataInputStream DataOutputStream ###for(value:storageEngine.get(key,null))###values###storageEngine.get(key,null)###59:13:77:14
0f504c5ea316178bdec2d05aaf4a44d38fadb0ab###/voldemort_voldemort/src/java/voldemort/client/rebalance/MigratePartitions.java###/MigratePartitions.java###voldemort.client.rebalance.MigratePartitions.migrate.submit.new Runnable###run:###AsyncOperationStatusstatus=adminClient.getAsyncRequestStatus(stealerNodeId,nodeIdToRequestId.get(nodeId));###attemptId###nodeIdToRequestId.get(nodeId)###264:41:265:136
5f796e8c6742ea101dc2d530925dc5e1b629f988###/voldemort_voldemort/src/java/voldemort/store/routed/action/GetAllConfigureNodes.java###/GetAllConfigureNodes.java###voldemort.store.routed.action.GetAllConfigureNodes###execute:Pipeline ###nodes.addAll(zoneIdToNode.get(this.clientZone.getId()));###zoneIDNodeList###zoneIdToNode.get(this.clientZone.getId())###120:17:120:73
3d18ef1169c788ce3da22d5445d8219be4182237###/voldemort_voldemort/src/java/voldemort/client/AbstractStoreClientFactory.java###/AbstractStoreClientFactory.java###voldemort.client.AbstractStoreClientFactory###getRawStore:String InconsistencyResolver<Versioned<V>> ###nonblockingStores.put(node.getId(),newThreadPoolBasedNonblockingStoreImpl(threadPool,store));###nonblockingStore###newThreadPoolBasedNonblockingStoreImpl(threadPool,store)###154:13:155:97
2b65a88931724eb18fd08e01642ba9f686872c71###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/azkaban/VoldemortSwapJob.java###/VoldemortSwapJob.java###voldemort.store.readonly.mr.azkaban.VoldemortSwapJob###run:###AdminClientclient=newAdminClient(cluster,newAdminClientConfig().setMaxConnectionsPerNode(cluster.getNumberOfNodes()).setAdminConnectionTimeoutSec(httpTimeoutMs/1000).setMaxBackoffDelayMs(maxBackoffDelayMs),newClientConfig());###adminConfig###newAdminClientConfig().setMaxConnectionsPerNode(cluster.getNumberOfNodes()).setAdminConnectionTimeoutSec(httpTimeoutMs/1000).setMaxBackoffDelayMs(maxBackoffDelayMs)###122:9:126:66
6f1cf577b021124cd3f377420c69299819ee3c40###/voldemort_voldemort/src/java/voldemort/client/protocol/pb/ProtoBuffClientRequestFormat.java###/ProtoBuffClientRequestFormat.java###voldemort.client.protocol.pb.ProtoBuffClientRequestFormat###writeGetRequest:DataOutputStream String ByteArray RequestRoutingType ###ProtoUtils.writeMessage(output,VProto.VoldemortRequest.newBuilder().setType(RequestType.GET).setStore(storeName).setShouldRoute(routingType.equals(RequestRoutingType.ROUTED)).setRequestRouteType(routingType.getRoutingTypeCode()).setGet(VProto.GetRequest.newBuilder().setKey(ByteString.copyFrom(key.get()))).build());###get###VProto.GetRequest.newBuilder()###93:9:101:66
1ee8246b41347dc186cb68068b70967a1357d852###/voldemort_voldemort/test/unit/voldemort/store/readonly/ReadOnlyStorageEngineTestInstance.java###/ReadOnlyStorageEngineTestInstance.java###voldemort.store.readonly.ReadOnlyStorageEngineTestInstance###create:SearchStrategy File int int int SerializerDefinition SerializerDefinition ReadOnlyStorageFormat ###Store<ByteArray,byte[],byte[]>innerStore=newCompressingStore(newReadOnlyStorageEngine("test",strategy,router,i,currNode,1),keyCompressionStrat,valueCompressionStrat);###readOnlyStorageEngine###newReadOnlyStorageEngine("test",strategy,router,i,currNode,1)###154:13:161:103
68ae30836a1dd6435fb03f588d44da94e30fc701###/voldemort_voldemort/src/java/voldemort/server/protocol/vold/VoldemortNativeRequestHandler.java###/VoldemortNativeRequestHandler.java###voldemort.server.protocol.vold.VoldemortNativeRequestHandler###isCompleteRequest:ByteBuffer ###buffer.position(buffer.position()+dataSize);###newPosition###buffer.position()+dataSize###160:21:160:67
421ada5e52c4db9330776beb2d3c4e7dbf720e2b###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/disk/HadoopStoreWriter.java###/HadoopStoreWriter.java###voldemort.store.readonly.disk.HadoopStoreWriter###write:BytesWritable Iterator<BytesWritable> Reporter ###this.partitionId=ByteUtils.readInt(valueBytes,offsetTillNow);###currentPartitionId###ByteUtils.readInt(valueBytes,offsetTillNow)###222:17:222:81
2f72ffb48f1158034da408413c40563cab6b3aec###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient.RPCOperations###waitForCompletion:int int long TimeUnit AsyncOperationStatus ###thrownewVoldemortException("Failedwhilewaitingforasynctask("+description+")at"+nodeName+"tofinish",e);###errorMessage###"Failedwhilewaitingforasynctask("+description+")at"+nodeName+"tofinish"###916:21:918:69
541634ae228149327708a3e32f173abd0eeeb873###/voldemort_voldemort/src/java/voldemort/client/AbstractStoreClientFactory.java###/AbstractStoreClientFactory.java###voldemort.client.AbstractStoreClientFactory###getRawStore:String InconsistencyResolver<Versioned<V>> ###Store<ByteArray,Slop,byte[]>slopStore=SerializingStore.wrap(getStore("slop",node.getHost(),getPort(node),this.requestFormatType),slopKeySerializer,slopValueSerializer,newIdentitySerializer());###rawSlopStore###getStore("slop",node.getHost(),getPort(node),this.requestFormatType)###178:17:184:108
7e0501b5f51800b7ae77197df8e60e0457b4299a###/voldemort_voldemort/src/java/voldemort/VoldemortClientShell.java###/VoldemortClientShell.java###voldemort.VoldemortClientShell###processCommands:StoreClientFactory BufferedReader boolean ###printVersioned(client.get(tightenNumericTypes(jsonReader.read())));###key###tightenNumericTypes(jsonReader.read())###131:21:131:88
c66660f8a1a22af943ebfa021d41ab10743845d7###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleFetchFailure:VAdminProto.HandleFetchFailureRequest ###if(allNodesToBeDisabled.size()>maxNodeFailure)###disabledNodeSize###allNodesToBeDisabled.size()###2046:17:2100:18
f52dceddf7c56e0f8455260cdc01b4033818f7e5###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/admin/CoordinatorAdminClient.java###/CoordinatorAdminClient.java###voldemort.restclient.admin.CoordinatorAdminClient###deleteStoreClientConfig:List<String> String ###returnfalse;###success###false###232:17:232:30
c0fb42374d4f3fc3de077d5dac370da4e68aa824###/voldemort_voldemort/src/java/voldemort/client/rebalance/RebalanceController.java###/RebalanceController.java###voldemort.client.rebalance.RebalanceController###rebalance:Cluster Cluster ###finalRebalanceClusterPlanrebalanceClusterPlan=newRebalanceClusterPlan(currentCluster,targetCluster,storesList,rebalanceConfig.isDeleteAfterRebalancingEnabled());###oldCluster###currentCluster###134:9:137:135
0f504c5ea316178bdec2d05aaf4a44d38fadb0ab###/voldemort_voldemort/src/java/voldemort/client/rebalance/MigratePartitions.java###/MigratePartitions.java###voldemort.client.rebalance.MigratePartitions.migrate.submit.new Runnable###run:###nodeIdToRequestId.put(r.getDonorId(),adminClient.migratePartitions(r.getDonorId(),stealerNodeId,storeName,r.getPartitionList(),null));###attemptId###adminClient.migratePartitions(r.getDonorId(),stealerNodeId,storeName,r.getPartitionList(),null)###250:41:255:100
be12a285a740b92c9b1f0e60aafc225e2f4b7076###/voldemort_voldemort/src/java/voldemort/server/niosocket/AsyncRequestHandler.java###/AsyncRequestHandler.java###voldemort.server.niosocket.AsyncRequestHandler###read:SelectionKey ###streamRequestHandler=requestHandler.handleRequest(newDataInputStream(inputStream),newDataOutputStream(outputStream));###dataInputStream###newDataInputStream(inputStream)###125:9:126:97
90c0b5ff8c07ad75a5bce790a2392a944644b41d###/voldemort_voldemort/src/java/voldemort/cluster/Cluster.java###/Cluster.java###voldemort.cluster.Cluster###Cluster:String List<Node> List<Zone> ###zonesById.put(Zone.DEFAULT_ZONE_ID,newZone());###defaultZone###newZone()###68:13:68:61
c9d9db9ad796a6b50f348dcdb1c28cbff4fff931###/voldemort_voldemort/src/java/voldemort/utils/pool/KeyedResourcePool.java###/KeyedResourcePool.java###voldemort.utils.pool.KeyedResourcePool###checkout:K ###StringerrorMessage=String.format("Timeoutwhilecheckingoutresource(%s).Configuredtime(%d)nsNonBlockingtime(%d)nsBlockingtime(%d)ns",key,resourcePoolConfig.getTimeout(TimeUnit.NANOSECONDS),nonBlockingElapsedNs,blockingElapsedNs);###timeoutNs###resourcePoolConfig.getTimeout(TimeUnit.NANOSECONDS)###146:21:150:76
b7ccb6f2ea9f4a1dc7d0a6f2fc2ff1bef0ebacda###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysAscii:Iterator<ByteArray> File StoreDefinition ###keysCompressionStrategy=newCompressionStrategyFactory().get(storeDefinition.getKeySerializer().getCompression());###serializerDef###storeDefinition.getKeySerializer()###792:13:793:110
e3776977d0642269b7cff300f6d2b121c08ad754###/voldemort_voldemort/test/unit/voldemort/scheduled/BlockingSlopPusherTest.java###/BlockingSlopPusherTest.java###voldemort.scheduled.BlockingSlopPusherTest###setUp:###pusher=newBlockingSlopPusherJob(repo,metadataStore,newNoopFailureDetector(),newVoldemortConfig(newProps()),newSemaphore(1));###props###newProps()###66:9:70:62
1cb553e000e2d6fdaa06dbe6ce30c9baae3a3ce1###/voldemort_voldemort/test/integration/voldemort/store/grandfather/GrandfatherTest.java###/GrandfatherTest.java###voldemort.store.grandfather.GrandfatherTest###test:Cluster Cluster List<StoreDefinition> List<StoreDefinition> ###Assert.assertEquals(storeClients[storeNo-1].get("key"+i,null).getValue(),"value"+i+"_"+2);###value###storeClients[storeNo-1].get("key"+i,null)###827:29:829:98
045adf6060dbe9062c40cb6bf9cb046c30c713d9###/voldemort_voldemort/src/java/voldemort/store/StoreDefinition.java###/StoreDefinition.java###voldemort.store.StoreDefinition###checkParameterLegality:###sumZoneReplicationFactor+=zoneReplicationFactor.get(zoneId);###currentZoneRepFactor###zoneReplicationFactor.get(zoneId)###144:17:144:79
7e0501b5f51800b7ae77197df8e60e0457b4299a###/voldemort_voldemort/src/java/voldemort/VoldemortClientShell.java###/VoldemortClientShell.java###voldemort.VoldemortClientShell###processCommands:StoreClientFactory BufferedReader boolean ###client.put(tightenNumericTypes(jsonReader.read()),tightenNumericTypes(jsonReader.read()),tightenNumericTypes(jsonReader.read()));###key###tightenNumericTypes(jsonReader.read())###107:21:109:72
fccc987a79cc63f0f35318d7569f27450fe64cd7###/voldemort_voldemort/test/integration/voldemort/performance/benchmark/Benchmark.java###/Benchmark.java###voldemort.performance.benchmark.Benchmark###initializeStore:Props ###store=SerializingStore.wrap(conf.getStore(DUMMY_DB),serializer,newStringSerializer(),newIdentitySerializer());###engine###conf.getStore(DUMMY_DB)###377:13:380:69
c08d4f6310b0d60c5cae1d004c485e8f1fed09b8###/voldemort_voldemort/contrib/hadoop-store-builder/test/voldemort/store/readonly/mr/HadoopStoreBuilderCollisionTest.java###/HadoopStoreBuilderCollisionTest.java###voldemort.store.readonly.mr.HadoopStoreBuilderCollisionTest###testCollisionWithParams:int int ###Assert.assertTrue(values.containsKey(serializer.toObject(keyIterator.next().get())));###object###serializer.toObject(keyIterator.next().get())###263:13:263:98
c6f689eb51b8e93393da4026789eb0c4957cb8f2###/voldemort_voldemort/src/java/voldemort/store/readonly/chunk/ChunkedFileSet.java###/ChunkedFileSet.java###voldemort.store.readonly.chunk.ChunkedFileSet###getChunkForKey:byte[] ###returnchunkIdToChunkStart.get(bucket)+ReadOnlyUtils.chunk(ByteUtils.md5(key),chunkIdToNumChunks.get(bucket));###chunkStart###chunkIdToChunkStart.get(bucket)###612:17:613:98
a39af5b4093d8e9b8dd86c622d8f49472cf19386###/voldemort_voldemort/src/java/voldemort/server/storage/StorageService.java###/StorageService.java###voldemort.server.storage.StorageService###getStorageEngine:String String ###((ReadOnlyStorageConfiguration)config).setRoutingStrategy(newRoutingStrategyFactory().updateRoutingStrategy(metadata.getStoreDef(name),metadata.getCluster()));###routingStrategy###newRoutingStrategyFactory().updateRoutingStrategy(metadata.getStoreDef(name),metadata.getCluster())###442:13:443:147
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/src/java/voldemort/VoldemortAdminTool.java###/VoldemortAdminTool.java###voldemort.VoldemortAdminTool###writeKeysAscii:Iterator<ByteArray> File StoreDefinition ###writer=newBufferedWriter(newFileWriter(outputFile));###fileWriter###newFileWriter(outputFile)###778:13:778:69
238e58865f14eb17b13c6780eb55659d60d5e2b3###/voldemort_voldemort/src/java/voldemort/utils/Utils.java###/Utils.java###voldemort.utils.Utils###rm:Iterable<File> ###rm(Arrays.asList(f.listFiles()));###contents###f.listFiles()###118:21:118:54
3dc4fe8dbe90f5eea833555b1c7d0fcb4c9ca412###/voldemort_voldemort/src/java/voldemort/store/readonly/swapper/HttpStoreSwapper.java###/HttpStoreSwapper.java###voldemort.store.readonly.swapper.HttpStoreSwapper.invokeFetch.put.submit.new Callable<String>###call:###Stringresponse=VoldemortIOUtils.toString(httpResponse.getEntity().getContent(),30000);###is###httpResponse.getEntity().getContent()###83:21:85:78
cbd4dbd1a775c0df19b38748f279fa1afa38749d###/voldemort_voldemort/test/unit/voldemort/store/routed/HintedHandoffTest.java###/HintedHandoffTest.java###voldemort.store.routed.HintedHandoffTest###testHintedHandoff:###byte[]expected=keyValues.get(failedKey.getValue()).get();###key###failedKey.getValue()###257:13:257:73
c3b8777e5efb1bd7c52964903d20fd8076fc0de7###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleAsyncOperationList:VAdminProto.AsyncOperationListRequest ###response.addAllRequestIds(asyncService.getAsyncOperationList(showComplete));###asyncIds###asyncService.getAsyncOperationList(showComplete)###477:13:477:89
2d6f68b09c3bdc23dcf3ae1f91c9285fbd668820###/voldemort_voldemort/src/java/voldemort/store/readonly/ExternalSorter.java###/ExternalSorter.java###voldemort.store.readonly.ExternalSorter.sorted.execute.new Runnable###run:###DataOutputStreamoutput=newDataOutputStream(newBufferedOutputStream(newFileOutputStream(tempFile),bufferSize));###os###newBufferedOutputStream(newFileOutputStream(tempFile),bufferSize)###185:25:186:110
d5c744219ef575e70a2871145cff8f172d1ee873###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler.handleFetchAndUpdate.submitOperation.new AsyncOperation###operate:###storageEngine.put(entry.getFirst(),entry.getSecond());###value###entry.getSecond()###301:61:302:98
3661a4cdd3bec68036b563ee9b11885d9a528ba5###/voldemort_voldemort/src/java/voldemort/store/routed/RoutedStore.java###/RoutedStore.java###voldemort.store.routed.RoutedStore###get:ByteArray ###results.addAll(response.getValue());###value###response.getValue()###215:13:215:49
f3cd4f9fef530b4f10cbad1b4c884be2b551ee9b###/voldemort_voldemort/src/java/voldemort/utils/Entropy.java###/Entropy.java###voldemort.utils.Entropy###generateEntropy:Cluster List<StoreDefinition> File boolean ###keys=adminClient.fetchKeys(nodeId,storeDef.getName(),cluster.getNodeById(nodeId).getPartitionIds(),null,false);###partitions###cluster.getNodeById(nodeId).getPartitionIds()###206:29:211:65
51b2395476ca3b5557119cb49475aa2e62036e0c###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutorFactory.java###/ClientRequestExecutorFactory.java###voldemort.store.socket.clientrequest.ClientRequestExecutorFactory###create:SocketDestination ###BlockingClientRequest<String>clientRequest=newBlockingClientRequest<String>(newProtocolNegotiatorClientRequest(dest.getRequestFormatType()),this.getTimeout());###timeoutMs###this.getTimeout()###196:13:197:112
4f097fe2898bdddcb073ead37cc602aef9120bcf###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/SampleRESTClient.java###/SampleRESTClient.java###voldemort.restclient.SampleRESTClient###main:String[] ###System.out.println("Receivedresponse:"+clientStore.get("a"));###versionedValue###clientStore.get("a")###35:9:35:75
421ada5e52c4db9330776beb2d3c4e7dbf720e2b###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mr/AbstractStoreBuilderConfigurable.java###/AbstractStoreBuilderConfigurable.java###voldemort.store.readonly.mr.AbstractStoreBuilderConfigurable###getPartition:byte[] byte[] int ###returnpartitionId%numReduceTasks;###magicNumber###partitionId###126:21:126:57
3d18ef1169c788ce3da22d5445d8219be4182237###/voldemort_voldemort/src/java/voldemort/server/storage/StorageService.java###/StorageService.java###voldemort.server.storage.StorageService###registerNodeStores:StoreDefinition Cluster int ###nonblockingStores.put(node.getId(),newThreadPoolBasedNonblockingStoreImpl(this.clientThreadPool,store));###nonblockingStore###newThreadPoolBasedNonblockingStoreImpl(this.clientThreadPool,store)###294:13:296:83
431d69cb59ff8ce380223c5125877312d17c72ce###/voldemort_voldemort/src/java/voldemort/store/routed/action/GetAllConfigureNodes.java###/GetAllConfigureNodes.java###voldemort.store.routed.action.GetAllConfigureNodes###execute:Pipeline ###nodes=getNodes(key);###originalNodes###getNodes(key)###75:17:75:39
f52dceddf7c56e0f8455260cdc01b4033818f7e5###/voldemort_voldemort/contrib/restclient/src/java/voldemort/restclient/admin/CoordinatorAdminClient.java###/CoordinatorAdminClient.java###voldemort.restclient.admin.CoordinatorAdminClient###putStoreClientConfigString:String String ###System.out.println(entity.asString("UTF-8"));###responseMessage###entity.asString("UTF-8")###175:13:175:58
d5c744219ef575e70a2871145cff8f172d1ee873###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleDeletePartitionEntries:VAdminProto.DeletePartitionEntriesRequest ###throttler.maybeThrottle(entrySize(entry.getFirst(),entry.getSecond()));###value###entry.getSecond()###378:25:378:97
1f0db5f73a2b0cd4bcedc5e9077f201f038abfe3###/voldemort_voldemort/src/java/voldemort/store/nonblockingstore/ThreadPoolBasedNonblockingStoreImpl.java###/ThreadPoolBasedNonblockingStoreImpl.java###voldemort.store.nonblockingstore.ThreadPoolBasedNonblockingStoreImpl.submit.submit.new Runnable###run:###callback.requestComplete(e,(System.nanoTime()-start)/Time.NS_PER_MS);###diff###System.nanoTime()-start###119:25:119:99
a41645d0d10a43547e732d5422c8cb93cb9b9c6a###/voldemort_voldemort/test/unit/voldemort/client/AdminServiceBasicTest.java###/AdminServiceBasicTest.java###voldemort.client.AdminServiceBasicTest###testUpdateClusterMetadata:###VectorClockclock=((VectorClock)client.metadataMgmtOps.getRemoteCluster(0).getVersion()).incremented(0,System.currentTimeMillis());###existingClock###((VectorClock)client.metadataMgmtOps.getRemoteCluster(0).getVersion())###242:13:244:125
cf698ca0f9f2b09ce9f87fa373e47d103eda66ea###/voldemort_voldemort/src/java/voldemort/utils/MetadataVersionStoreUtils.java###/MetadataVersionStoreUtils.java###voldemort.utils.MetadataVersionStoreUtils###getProperties:SystemStoreClient<String,String> ###StringversionList=versionStore.getSysStore(VERSIONS_METADATA_KEY).getValue();###versioned###versionStore.getSysStore(VERSIONS_METADATA_KEY)###49:13:49:93
975459c1b308f46bac4f7022b0b043861003a33d###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleDisableStoreVersion:VAdminProto.DisableStoreVersionRequest ###logger.info("handleDisableStoreVersionreturningresponse:"+response.getInfo());###logMessagePrefix###"handleDisableStoreVersionreturningresponse:"###1986:9:1986:92
2601ab713f842107e0d50c85231920f4ce75c142###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/FetchMasterEntriesStreamRequestHandler.java###/FetchMasterEntriesStreamRequestHandler.java###voldemort.server.protocol.admin.FetchMasterEntriesStreamRequestHandler###handleRequest:DataInputStream DataOutputStream ###for(value:storageEngine.get(key,null))###values###storageEngine.get(key,null)###57:13:72:14
1f0db5f73a2b0cd4bcedc5e9077f201f038abfe3###/voldemort_voldemort/src/java/voldemort/store/routed/action/PerformParallelPutRequests.java###/PerformParallelPutRequests.java###voldemort.store.routed.action.PerformParallelPutRequests.execute.callback.new NonblockingStoreCallback###requestComplete:Object long ###responses.put(node.getId(),newResponse<ByteArray,Object>(node,key,result,requestTime));###response###newResponse<ByteArray,Object>(node,key,result,requestTime)###108:21:111:95
98643ea18481ebfbb0fe1a7575ae6157f84f939e###/voldemort_voldemort/src/java/voldemort/server/niosocket/AsyncRequestHandler.java###/AsyncRequestHandler.java###voldemort.server.niosocket.AsyncRequestHandler###read:SelectionKey ###streamRequestHandler=requestHandler.handleRequest(newDataInputStream(inputStream),newDataOutputStream(outputStream));###dataInputStream###newDataInputStream(inputStream)###130:9:131:97
e2af55614a2f1fb79176e2bd7d1e5baad4fd4d6a###/voldemort_voldemort/src/java/voldemort/store/routed/action/PerformParallelRequests.java###/PerformParallelRequests.java###voldemort.store.routed.action.PerformParallelRequests.execute.callback.new NonblockingStoreCallback###requestComplete:Object long ###responses.put(node.getId(),newResponse<ByteArray,Object>(node,key,result,requestTime));###response###newResponse<ByteArray,Object>(node,key,result,requestTime)###104:21:107:95
220c5f1acd2bfafca40c3e89b5cd0c5f298645fc###/voldemort_voldemort/src/java/voldemort/store/readonly/io/jna/mman.java###/mman.java###voldemort.store.readonly.io.jna.mman###mlock:Pointer long ###if(Delegate.mlock(addr,len)!=0)###res###Delegate.mlock(addr,len)###63:9:69:10
85456c38326453fbf4278f641ba365d7ea4784d9###/voldemort_voldemort/src/java/voldemort/client/AbstractStoreClientFactory.java###/AbstractStoreClientFactory.java###voldemort.client.AbstractStoreClientFactory###getRawStore:String InconsistencyResolver<Versioned<V>> ###Store<ByteArray,Slop,byte[]>slopStore=SerializingStore.wrap(getStore("slop",node.getHost(),getPort(node),this.requestFormatType),slopKeySerializer,slopValueSerializer,newIdentitySerializer());###rawSlopStore###getStore("slop",node.getHost(),getPort(node),this.requestFormatType)###177:17:183:108
28bee82e1faa0eda1ebdca9569f37ed8ffba63bf###/voldemort_voldemort/src/java/voldemort/server/VoldemortConfig.java###/VoldemortConfig.java###voldemort.server.VoldemortConfig###getDynamicDefaults:Props ###dynamicDefaults.put(NODE_ID,getIntEnvVariable(VOLDEMORT_NODE_ID_VAR_NAME));###nodeId###getIntEnvVariable(VOLDEMORT_NODE_ID_VAR_NAME)###742:13:742:89
220c5f1acd2bfafca40c3e89b5cd0c5f298645fc###/voldemort_voldemort/src/java/voldemort/store/readonly/io/jna/mman.java###/mman.java###voldemort.store.readonly.io.jna.mman###mlock:Pointer long ###logger.warn(errno.strerror());###error###errno.strerror()###65:13:65:43
be12a285a740b92c9b1f0e60aafc225e2f4b7076###/voldemort_voldemort/src/java/voldemort/server/niosocket/AsyncRequestHandler.java###/AsyncRequestHandler.java###voldemort.server.niosocket.AsyncRequestHandler###read:SelectionKey ###streamRequestHandler=requestHandler.handleRequest(newDataInputStream(inputStream),newDataOutputStream(outputStream));###dataOutputStream###newDataOutputStream(outputStream)###125:9:126:97
fe02cd90c6ad7e5b3e7b328f3f1db17801ce8f30###/voldemort_voldemort/src/java/voldemort/utils/Entropy.java###/Entropy.java###voldemort.utils.Entropy###generateEntropy:Cluster List<StoreDefinition> File boolean ###keys=adminClient.fetchKeys(nodeId,storeDef.getName(),cluster.getNodeById(nodeId).getPartitionIds(),null,false);###partitions###cluster.getNodeById(nodeId).getPartitionIds()###205:29:210:65
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler.handleFetchAndUpdate.submitOperation.new AsyncOperation###operate:###StringdestinationDir=((ReadOnlyStorageEngine)storageEngine).getCurrentDirPath();###readOnlyStorageEngine###((ReadOnlyStorageEngine)storageEngine)###687:29:687:113
111b7ead682a50a8e75211622144f89dbf109c5e###/voldemort_voldemort/src/java/voldemort/server/protocol/admin/AdminServiceRequestHandler.java###/AdminServiceRequestHandler.java###voldemort.server.protocol.admin.AdminServiceRequestHandler###handleAsyncOperationList:VAdminProto.AsyncOperationListRequest ###response.addAllRequestIds(asyncService.getAsyncOperationList(showComplete));###asyncIds###asyncService.getAsyncOperationList(showComplete)###481:13:481:89
2f32c9ac8939bb3fb285824fb984127e23b01435###/voldemort_voldemort/src/java/voldemort/utils/RebalanceUtils.java###/RebalanceUtils.java###voldemort.utils.RebalanceUtils###getStore:List<StoreDefinition> String ###returnstoreDef;###def###storeDef###438:17:438:33
fe5813008b8fb437a278e0a650095441bbc130da###/voldemort_voldemort/src/java/voldemort/server/NodeIdUtils.java###/NodeIdUtils.java###voldemort.server.NodeIdUtils###findNodeId:Cluster HostMatcher ###thrownewVoldemortApplicationException("Morethanonenodematched"+Arrays.toString(matches.toArray()));###errorMessage###"Morethanonenodematched"+Arrays.toString(matches.toArray())###49:13:50:91
c1400bd88f1c8296be5a80a3be1e005cc7f2a09a###/voldemort_voldemort/src/java/voldemort/store/socket/clientrequest/ClientRequestExecutor.java###/ClientRequestExecutor.java###voldemort.store.socket.clientrequest.ClientRequestExecutor###addClientRequest:ClientRequest<?> long long ###this.expiration=System.nanoTime();###nowNs###System.nanoTime()###112:17:112:53
045adf6060dbe9062c40cb6bf9cb046c30c713d9###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/mapreduce/HadoopStoreBuilder.java###/HadoopStoreBuilder.java###voldemort.store.readonly.mapreduce.HadoopStoreBuilder###build:###metadata.add(ReadOnlyStorageMetadata.CHECKSUM,newString(Hex.encodeHex(checkSumGenerator.getCheckSum())));###checkSum###newString(Hex.encodeHex(checkSumGenerator.getCheckSum()))###222:25:223:98
4e628fe96f88803059dcd39f5014af8f83b351bf###/voldemort_voldemort/src/java/voldemort/store/bdb/BdbStorageConfiguration.java###/BdbStorageConfiguration.java###voldemort.store.bdb.BdbStorageConfiguration###update:StoreDefinition ###Environmentenvironment=environments.get(storeDef.getName());###storeName###storeDef.getName()###310:9:310:72
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testNoReadRepair:###subStores.put(Iterables.get(cluster.getNodes(),i).getId(),statTrackingStore);###id###Iterables.get(cluster.getNodes(),i).getId()###711:13:711:92
c570f4d66ef686e844fe15bcaf650d1a7727994c###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###fetch:FileSystem Path File CopyStats ###checkSumGenerator.update(fileCheckSumGenerator.getCheckSum());###checkSum###fileCheckSumGenerator.getCheckSum()###173:29:173:91
1e422381761913468c053f34ef562823c3df5f9d###/voldemort_voldemort/test/integration/voldemort/performance/RemoteTest.java###/RemoteTest.java###voldemort.performance.RemoteTest###main:String[] ###StoreClientFactoryfactory=newSocketStoreClientFactory(newClientConfig().setMaxThreads(numThreads).setMaxTotalConnections(numThreads).setMaxConnectionsPerNode(numThreads).setBootstrapUrls(url).setConnectionTimeout(60,TimeUnit.SECONDS).setSocketTimeout(60,TimeUnit.SECONDS).setSocketBufferSize(4*1024));###clientConfig###newClientConfig().setMaxThreads(numThreads).setMaxTotalConnections(numThreads).setMaxConnectionsPerNode(numThreads).setBootstrapUrls(url).setConnectionTimeout(60,TimeUnit.SECONDS).setSocketTimeout(60,TimeUnit.SECONDS).setSocketBufferSize(4*1024)###138:9:146:117
e64bcd8f13e5f7440e3d19416d774f7759ecda88###/voldemort_voldemort/test/unit/voldemort/store/bdb/BdbStorageEngineTest.java###/BdbStorageEngineTest.java###voldemort.store.bdb.BdbStorageEngineTest###testNativeBackup:###assertArrayEquals(backupToDir.list(),newString[]{"00000000.jdb","00000001.jdb"});###backedUp###backupToDir.list()###230:13:230:100
68feb27dec7e6940afa61f086fa311adb762a226###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###main:String[] ###FileStatusstatus=p.getFileSystem(newConfiguration()).getFileStatus(p);###config###newConfiguration()###247:9:247:83
789a39593b69a9957163d54e18c988649cf99ce9###/voldemort_voldemort/src/java/voldemort/tools/ReadOnlyHostSwapCLI.java###/ReadOnlyHostSwapCLI.java###voldemort.tools.ReadOnlyHostSwapCLI###main:String[] ###StringfileNameOnDestinationNode=partitionIdReplicaChunk[0].concat(SPLIT_LITERAL).concat(partitionIdReplicaChunk[1]).concat(SPLIT_LITERAL).concat(partitionIdReplicaChunk[2]);###chunkId###partitionIdReplicaChunk[2]###177:25:180:122
9e0c43b35c2699eb1043bf57430340c83d8ba582###/voldemort_voldemort/src/java/voldemort/client/protocol/admin/AdminClient.java###/AdminClient.java###voldemort.client.protocol.admin.AdminClient.HelperOperations###initSystemStoreClient:String int ###metadataVersionSysStoreClient=systemStoreFactory.createSystemStore(SystemStoreConstants.SystemStoreName.voldsys$_metadata_version_persistence.name());###metadataVersionStoreName###SystemStoreConstants.SystemStoreName.voldsys$_metadata_version_persistence.name()###357:17:357:169
7ef135d27254e9db8616c25539675768ec17b660###/voldemort_voldemort/src/java/voldemort/store/slop/HintedHandoff.java###/HintedHandoff.java###voldemort.store.slop.HintedHandoff###sendHintParallel:Node Version Slop ###for(finalnode:handoffStrategy.routeHint(failedNode))###nodes###handoffStrategy.routeHint(failedNode)###106:9:175:10
2f72ffb48f1158034da408413c40563cab6b3aec###/voldemort_voldemort/src/java/voldemort/store/readonly/swapper/DisableStoreOnFailedNodeFailedFetchStrategy.java###/DisableStoreOnFailedNodeFailedFetchStrategy.java###voldemort.store.readonly.swapper.DisableStoreOnFailedNodeFailedFetchStrategy###dealWithIt:String long Map<Node,AdminStoreSwapper.Response> ###if(!entry.getValue().isSuccessful())###response###entry.getValue()###28:13:30:14
f1f485312631454791fc1a36896ddc50b160e836###/voldemort_voldemort/contrib/hadoop-store-builder/src/java/voldemort/store/readonly/fetcher/HdfsFetcher.java###/HdfsFetcher.java###voldemort.store.readonly.fetcher.HdfsFetcher###main:String[] ###Filelocation=fetcher.fetch(url,System.getProperty("java.io.tmpdir")+File.separator+start,hadoopPath);###destDir###System.getProperty("java.io.tmpdir")+File.separator+start###778:9:779:65
622ee42d51ce0eb856c7064b5e813b0e199ac15c###/voldemort_voldemort/src/java/voldemort/client/rebalance/RebalanceClusterPlan.java###/RebalanceClusterPlan.java###voldemort.client.rebalance.RebalanceClusterPlan###RebalanceClusterPlan:Cluster Cluster List<StoreDefinition> boolean boolean ###this.rebalanceTaskQueue.offer(newRebalanceNodePlan(nodeId,Lists.newArrayList(nodeToBatchPlan.get(nodeId)),isStealerBased));###rnp###newRebalanceNodePlan(nodeId,Lists.newArrayList(nodeToBatchPlan.get(nodeId)),isStealerBased)###150:13:152:82
4b748092af13c801a0d8c8b0c24b348d6d265fe2###/voldemort_voldemort/src/java/voldemort/store/readonly/io/MemLock.java###/MemLock.java###voldemort.store.readonly.io.MemLock###close:###mman.munlock(pa,length);###xpa###pa###58:9:58:34
6b04e45910bb84b841575d77e416157d9e174976###/voldemort_voldemort/test/unit/voldemort/store/routed/RoutedStoreTest.java###/RoutedStoreTest.java###voldemort.store.routed.RoutedStoreTest###testPutTimeout:###stores.put(i,newSleepyStore<ByteArray,byte[]>(delay,newInMemoryStorageEngine<ByteArray,byte[]>("test")));###store###newSleepyStore<ByteArray,byte[]>(delay,newInMemoryStorageEngine<ByteArray,byte[]>("test"))###660:13:662:114
219a280a8d469e1db7681b9b999e2b23e59122f7###/voldemort_voldemort/src/java/voldemort/client/protocol/pb/ProtoBuffClientRequestFormat.java###/ProtoBuffClientRequestFormat.java###voldemort.client.protocol.pb.ProtoBuffClientRequestFormat###writeGetRequest:DataOutputStream String ByteArray RequestRoutingType ###ProtoUtils.writeMessage(output,VProto.VoldemortRequest.newBuilder().setType(RequestType.GET).setStore(storeName).setShouldRoute(routingType.equals(RequestRoutingType.ROUTED)).setRequestRouteType(routingType.getRoutingTypeCode()).setGet(VProto.GetRequest.newBuilder().setKey(ByteString.copyFrom(key.get()))).build());###get###VProto.GetRequest.newBuilder()###88:9:96:66
