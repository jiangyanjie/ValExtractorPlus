bd026517a3697187e40cc06e51d38fedb633f801###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/daemon/supervisor/SyncSupervisorEvent.java###/SyncSupervisorEvent.java###com.alibaba.jstorm.daemon.supervisor.SyncSupervisorEvent###downloadLocalStormCode:Map String String ###FileUtils.copyDirectory(newFile(masterCodeDir),newFile(stormroot));###destDir###newFile(stormroot)###241:9:241:79
d56ca398f2c830a7e3ea11853978161db0fb3e98###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/schedule/FollowerRunnable.java###/FollowerRunnable.java###com.alibaba.jstorm.schedule.FollowerRunnable###downloadCodeFromMaster:Assignment String ###FileUtils.moveDirectory(newFile(tmpDir),newFile(localRoot));###destDir###newFile(localRoot)###245:13:245:76
bd026517a3697187e40cc06e51d38fedb633f801###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/task/TaskReceiver.java###/TaskReceiver.java###com.alibaba.jstorm.task.TaskReceiver###TaskReceiver:Task int Map TopologyContext Map<Integer,DisruptorQueue> TaskStatus String ###deserializeTimer=(AsmHistogram)JStormMetrics.registerTaskMetric(MetricUtils.taskMetricName(topologyId,component,taskId,MetricDef.DESERIALIZE_TIME,MetricType.HISTOGRAM),newAsmHistogram());###deserializeTimerHistogram###newAsmHistogram()###84:9:85:119
4e295a0bef7e78f7ff210ae337dc6075dda8d43a###/alibaba_jstorm/jstorm-ui/src/main/java/com/alibaba/jstorm/ui/UIUtils.java###/UIUtils.java###com.alibaba.jstorm.ui.UIUtils###mostRecentError:List<TaskSummary> ###if(current-einfo.get_error_time_secs()<maxErrortime)###maxTime###maxErrortime###309:6:312:7
bd026517a3697187e40cc06e51d38fedb633f801###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/metric/TopologyMetricContext.java###/TopologyMetricContext.java###com.alibaba.jstorm.metric.TopologyMetricContext###mergeHistograms:MetricInfo String Map<Integer,MetricSnapshot> Map<String,Integer> Map<String,Map<Integer,Histogram>> ###MetricUtils.updateHistogramPoints(histograms.get(meta).get(win),snapshot.get_points(),snapshot.get_pointSize());###histogram###histograms.get(meta).get(win)###332:25:333:113
30052a2ed7f9872e00bdd03a0ed70ddb694a534d###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/daemon/supervisor/Httpserver.java###/Httpserver.java###com.alibaba.jstorm.daemon.supervisor.Httpserver.LogHandler###getJSonFiles:###Filefile=newFile(logDir);###path###logDir###201:4:201:33
e935da91a897797dad56e24c4ffa57860ac91878###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/daemon/nimbus/TopologyAssign.java###/TopologyAssign.java###com.alibaba.jstorm.daemon.nimbus.TopologyAssign###get_cleanup_ids:StormClusterState List<String> ###Stringmaster_stormdist_root=StormConfig.masterStormdistRoot(nimbusData.getConf());###conf###nimbusData.getConf()###206:3:207:48
e935da91a897797dad56e24c4ffa57860ac91878###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/daemon/supervisor/SyncSupervisorEvent.java###/SyncSupervisorEvent.java###com.alibaba.jstorm.daemon.supervisor.SyncSupervisorEvent###downloadDistributeStormCode:Map String String ###FileUtils.moveDirectory(newFile(tmproot),newFile(stormroot));###srcDir###newFile(tmproot)###243:3:243:67
e6884c69904501dc98c41f671045334f966e116a###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/schedule/default_assign/WorkerMaker.java###/WorkerMaker.java###com.alibaba.jstorm.schedule.default_assign.WorkerMaker###makeWorkers:DefaultTopologyAssignContext Set<Integer> int ###this.putAllWorkerToSupervisor(result,this.getIsolationSupervisors(context));###isolationSupervisors###this.getIsolationSupervisors(context)###74:3:75:44
e6884c69904501dc98c41f671045334f966e116a###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/daemon/worker/WorkerData.java###/WorkerData.java###com.alibaba.jstorm.daemon.worker.WorkerData###WorkerData:Map IContext String String int String String ###WorkerClassLoader.mkInstance(urls.toArray(newURL[0]),ClassLoader.getSystemClassLoader(),ClassLoader.getSystemClassLoader().getParent(),ConfigExtension.isEnableTopologyClassLoader(stormConf));###urlArray###newURL[0]###160:5:163:63
bd026517a3697187e40cc06e51d38fedb633f801###/alibaba_jstorm/jstorm-core/src/main/java/backtype/storm/serialization/KryoTupleSerializer.java###/KryoTupleSerializer.java###backtype.storm.serialization.KryoTupleSerializer###serializeTuple:Output Tuple ###tuple.getMessageId().serialize(output);###msgId###tuple.getMessageId()###63:13:63:52
e935da91a897797dad56e24c4ffa57860ac91878###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/daemon/supervisor/SyncSupervisorEvent.java###/SyncSupervisorEvent.java###com.alibaba.jstorm.daemon.supervisor.SyncSupervisorEvent###downloadDistributeStormCode:Map String String ###FileUtils.moveDirectory(newFile(tmproot),newFile(stormroot));###destDir###newFile(stormroot)###243:3:243:67
18638beaf233db0d05d10d93ad51c542f30d0858###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/message/netty/NettyClient.java###/NettyClient.java###com.alibaba.jstorm.message.netty.NettyClient.doReconnect.addListener.new ChannelFutureListener###operationComplete:ChannelFuture ###LOG.info("Failedtoreconnect...[{}],{},channel={},cause={}",retries.get(),name,future.getChannel(),future.getCause());###channel###future.getChannel()###175:6:178:27
d56ca398f2c830a7e3ea11853978161db0fb3e98###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/task/TaskBatchTransfer.java###/TaskBatchTransfer.java###com.alibaba.jstorm.task.TaskBatchTransfer###flush:###for(entry:batchMap.entrySet())###oldBatchMap###batchMap###83:13:89:14
e4ade0594f8fdbd534433f32ea7c756830f8048c###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/schedule/MonitorRunnable.java###/MonitorRunnable.java###com.alibaba.jstorm.schedule.MonitorRunnable###run:###LOG.info("taskid:"+task+"ison"+resource.getHostname()+":"+resource.getPort());###host###resource.getHostname()###77:8:79:32
e935da91a897797dad56e24c4ffa57860ac91878###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/daemon/nimbus/ServiceHandler.java###/ServiceHandler.java###com.alibaba.jstorm.daemon.nimbus.ServiceHandler###getUserTopology:String ###returnnull;###topology###null###1271:3:1271:15
d56ca398f2c830a7e3ea11853978161db0fb3e98###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/daemon/nimbus/ServiceHandler.java###/ServiceHandler.java###com.alibaba.jstorm.daemon.nimbus.ServiceHandler###restart:String String ###FileUtils.copyDirectory(newFile(oldDistDir),newFile(topologyCodeLocation));###stormDistDir###newFile(oldDistDir)###493:13:494:44
e4ade0594f8fdbd534433f32ea7c756830f8048c###/alibaba_jstorm/jstorm-client-extension/src/main/java/com/alibaba/jstorm/utils/RunCounter.java###/RunCounter.java###com.alibaba.jstorm.utils.RunCounter###count:long ###sb.append(",tps:"+timesValue/pass);###tps###timesValue/pass###53:4:53:44
c1d1696fc5dda2849fdeefa2d47f7f2c3ee42ff5###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/task/master/metrics/MetricsUploader.java###/MetricsUploader.java###com.alibaba.jstorm.task.master.metrics.MetricsUploader###uploadMetrics:TopologyMetric ###client.getClient().uploadTopologyMetrics(topologyId,newTopologyMetric(topologyMetrics,componentMetrics,workerMetrics,taskMetrics,streamMetrics,nettyMetrics));###allMetrics###newTopologyMetric(topologyMetrics,componentMetrics,workerMetrics,taskMetrics,streamMetrics,nettyMetrics)###129:17:132:48
e6884c69904501dc98c41f671045334f966e116a###/alibaba_jstorm/jstorm-server/src/main/java/backtype/storm/LocalCluster.java###/LocalCluster.java###backtype.storm.LocalCluster###LocalCluster:###Logger.getRootLogger().setLevel(Level.INFO);###rootLogger###Logger.getRootLogger()###27:3:27:47
e935da91a897797dad56e24c4ffa57860ac91878###/alibaba_jstorm/jstorm-client/src/main/java/backtype/storm/security/auth/AuthUtils.java###/AuthUtils.java###backtype.storm.security.auth.AuthUtils###GetConfiguration:Map ###URIconfig_uri=newFile(loginConfigurationFile).toURI();###config_file###newFile(loginConfigurationFile)###38:5:38:63
6c0987c2ad1a2173a84109c3a67a1e8b5fa5c71e###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/daemon/worker/RefreshConnections.java###/RefreshConnections.java###com.alibaba.jstorm.daemon.worker.RefreshConnections###run:###workerData.updateOutboundTaskStatus(taskId,isOutTaskConnected(taskId));###isConnected###isOutTaskConnected(taskId)###257:21:257:93
e6884c69904501dc98c41f671045334f966e116a###/alibaba_jstorm/jstorm-ui/src/main/java/com/alibaba/jstorm/ui/UIUtils.java###/UIUtils.java###com.alibaba.jstorm.ui.UIUtils###clusterSummary:ClusterSummary NimbusClient Map ###clusterSumm.setNimbusIp(NetWorkUtils.host2Ip(master.substring(0,master.indexOf(":"))));###firstPart###master.substring(0,master.indexOf(":"))###472:4:473:29
e4ade0594f8fdbd534433f32ea7c756830f8048c###/alibaba_jstorm/jstorm-ui/src/main/java/com/alibaba/jstorm/ui/UIUtils.java###/UIUtils.java###com.alibaba.jstorm.ui.UIUtils###clusterSummary:ClusterSummary NimbusClient ###clusterSumm.setNimbusHostname(client.getMasterHost());###master###client.getMasterHost()###535:3:535:57
6c0987c2ad1a2173a84109c3a67a1e8b5fa5c71e###/alibaba_jstorm/jstorm-core/src/main/java/backtype/storm/utils/LocalState.java###/LocalState.java###backtype.storm.utils.LocalState###snapshot:###return(Map<Object,Object>)Utils.javaDeserialize(FileUtils.readFileToByteArray(newFile(latestPath)));###serialized###FileUtils.readFileToByteArray(newFile(latestPath))###46:17:46:121
874187a6038282afc312cbc8a9ce626e4b5f471f###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/message/netty/MessageDecoder.java###/MessageDecoder.java###com.alibaba.jstorm.message.netty.MessageDecoder###decode:ChannelHandlerContext Channel ChannelBuffer ###if(buf.readableBytes()<2)###available###buf.readableBytes()###24:3:28:4
e6884c69904501dc98c41f671045334f966e116a###/alibaba_jstorm/jstorm-server/src/main/java/com/alibaba/jstorm/schedule/FollowerRunnable.java###/FollowerRunnable.java###com.alibaba.jstorm.schedule.FollowerRunnable###run:###data.getStormClusterState().unregister_nimbus_host(hostPort);###zkClusterState###data.getStormClusterState()###88:6:89:42
e935da91a897797dad56e24c4ffa57860ac91878###/alibaba_jstorm/jstorm-client/src/main/java/backtype/storm/drpc/DRPCSpout.java###/DRPCSpout.java###backtype.storm.drpc.DRPCSpout###nextTuple:###for(inti=0;i<_clients.size();i++)###size###0###90:4:108:5
d56ca398f2c830a7e3ea11853978161db0fb3e98###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/schedule/FollowerRunnable.java###/FollowerRunnable.java###com.alibaba.jstorm.schedule.FollowerRunnable###downloadCodeFromMaster:Assignment String ###FileUtils.moveDirectory(newFile(tmpDir),newFile(localRoot));###srcDir###newFile(tmpDir)###245:13:245:76
d56ca398f2c830a7e3ea11853978161db0fb3e98###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/schedule/default_assign/DefaultTopologyScheduler.java###/DefaultTopologyScheduler.java###com.alibaba.jstorm.schedule.default_assign.DefaultTopologyScheduler###getNeedAssignTasks:DefaultTopologyAssignContext ###needAssign.addAll(context.getDeadTaskIds());###deadTasks###context.getDeadTaskIds()###84:13:84:57
30052a2ed7f9872e00bdd03a0ed70ddb694a534d###/alibaba_jstorm/jstorm-ui/src/main/java/com/alibaba/jstorm/ui/model/data/LogPage.java###/LogPage.java###com.alibaba.jstorm.ui.model.data.LogPage###generateLogFileName:###logFileName=ctx.getExternalContext().getRequestParameterMap().get("log");###log###ctx.getExternalContext().getRequestParameterMap().get("log")###112:4:113:18
c1d1696fc5dda2849fdeefa2d47f7f2c3ee42ff5###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/metric/JStormMetrics.java###/JStormMetrics.java###com.alibaba.jstorm.metric.JStormMetrics###mergeLevelMetricSnapshot:Map<String,Map<Integer,MetricSnapshot>> ConcurrentMap<String,AsmMetric> ###Map<Integer,MetricSnapshot>oldSnapshotMap=mergeWorkerMetrics.get(asmMetric.getMetricName());###metricName###asmMetric.getMetricName()###497:25:497:121
d56ca398f2c830a7e3ea11853978161db0fb3e98###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/schedule/default_assign/TaskScheduler.java###/TaskScheduler.java###com.alibaba.jstorm.schedule.default_assign.TaskScheduler###TaskScheduler:DefaultTopologyAssignContext Set<Integer> List<ResourceWorkerSlot> ###setTaskNum(tasks.size(),workerNum);###taskNum###tasks.size()###87:9:87:45
bd026517a3697187e40cc06e51d38fedb633f801###/alibaba_jstorm/jstorm-core/src/main/java/backtype/storm/topology/TopologyBuilder.java###/TopologyBuilder.java###backtype.storm.topology.TopologyBuilder###initCommon:String IComponent Number ###common.set_parallelism_hint(parallelism.intValue());###dop###parallelism.intValue()###245:13:245:65
6c0987c2ad1a2173a84109c3a67a1e8b5fa5c71e###/alibaba_jstorm/jstorm-core/src/main/java/com/alibaba/jstorm/task/execute/spout/AckSpoutMsg.java###/AckSpoutMsg.java###com.alibaba.jstorm.task.execute.spout.AckSpoutMsg###run:###if(tupleInfo.getTimestamp()!=0)###latencyStart###tupleInfo.getTimestamp()###81:9:87:10
4e295a0bef7e78f7ff210ae337dc6075dda8d43a###/alibaba_jstorm/jstorm-ui/src/main/java/com/alibaba/jstorm/ui/UIUtils.java###/UIUtils.java###com.alibaba.jstorm.ui.UIUtils###getTaskError:List<ErrorInfo> ###if(current-einfo.get_error_time_secs()<maxErrortime)###maxTime###maxErrortime###341:4:344:5
4e295a0bef7e78f7ff210ae337dc6075dda8d43a###/alibaba_jstorm/jstorm-ui/src/main/java/com/alibaba/jstorm/ui/model/data/SupervisorPage.java###/SupervisorPage.java###com.alibaba.jstorm.ui.model.data.SupervisorPage###init:String ###ssumm.add(newSupervisorSumm(supervisorWorkers.get_supervisor()));###supervSumm###newSupervisorSumm(supervisorWorkers.get_supervisor())###60:4:60:70
