239ca944f20adadfe40294e1694947925cb7ebac###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VJTop.java###/VJTop.java###com.vip.vjtools.vjtop.VJTop###main:String[] ###ThreadinteractiveThread=newThread(newInteractiveTask(app),"InteractiveThread");###task###newInteractiveTask(app)###123:4:123:89
29eee6cabee764a6a547627a9ca28c251eeb2e0e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMDetailView.java###/VMDetailView.java###com.vip.vjtools.vjtop.VMDetailView###printTopCpuThreads:DetailMode ###System.out.printf(dataFormat,tid,threadName,Utils.leftStr(info.getThreadState().toString(),10),getThreadCPUUtilization(threadCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadSysCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1),getThreadCPUUtilization(threadSysCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1));###syscpu###getThreadCPUUtilization(threadSysCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS)###230:5:236:102
aac15b0109a94334f4d57ca4ac55d33ebefe5b84###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMDetailView.java###/VMDetailView.java###com.vip.vjtools.vjtop.VMDetailView###printJvmInfo:###System.out.printf("GC:%d/%sms/%smsygc,%s/%dmsfgc",ygcCount,Utils.toColor(ygcTime,warning.ygcTime),Utils.toColor(avgYgcTime,warning.ygcAvgTime),Utils.toColor(vmInfo.fullgcCount.getDelta(),warning.fullgcCount),vmInfo.fullgcTimeMills.getDelta());###fgcCount###vmInfo.fullgcCount.getDelta()###140:3:142:107
445f4d80562f7c8f7f08dbaae75c137125bec431###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMDetailView.java###/VMDetailView.java###com.vip.vjtools.vjtop.VMDetailView###printJvmInfo:###System.out.printf("GC:%d/%dmsygc,%d/%dmsfgc",vmInfo.ygcCount.getDelta(),vmInfo.ygcTimeMills.getDelta(),vmInfo.fullgcCount.getDelta(),vmInfo.fullgcTimeMills.getDelta());###ygcCount###vmInfo.ygcCount.getDelta()###131:3:132:71
a0d6c34c2b676fefdc3b91027c9cc06fc7c5a29e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMInfo.java###/VMInfo.java###com.vip.vjtools.vjtop.VMInfo###updateGC:###ygcCount.update(jmxClient.getGarbageCollectorManager().getYoungCollector().getCollectionCount());###gcManager###jmxClient.getGarbageCollectorManager()###388:5:388:102
eab61b3922d04efef43051696a57d1f037dc1527###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMInfo.java###/VMInfo.java###com.vip.vjtools.vjtop.VMInfo###updateMemoryPool:###MemoryPoolMXBeansurvivorMemoryPool=jmxClient.getMemoryPoolManager().getSurvivorMemoryPool();###memoryPoolManager###jmxClient.getMemoryPoolManager()###296:3:296:98
c018949ce9abfd2c708fe1ab7dbab87fc3b3cd9d###/vipshop_vjtools/vjmap/src/main/java/com/vip/vjtools/vjmap/oops/HistogramHeapAccessor.java###/HistogramHeapAccessor.java###com.vip.vjtools.vjmap.oops.HistogramHeapAccessor###dumpSurvivor:int ###if(klass==null||obj.getMark().age()<minAge)###age###obj.getMark().age()###99:4:101:5
29eee6cabee764a6a547627a9ca28c251eeb2e0e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMDetailView.java###/VMDetailView.java###com.vip.vjtools.vjtop.VMDetailView###printTopCpuThreads:DetailMode ###System.out.printf(dataFormat,tid,threadName,Utils.leftStr(info.getThreadState().toString(),10),getThreadCPUUtilization(threadCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadSysCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1),getThreadCPUUtilization(threadSysCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1));###totalsys###getThreadCPUUtilization(threadSysCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1)###230:5:236:102
65ce340441a352a8012f01e0db288faa00c70eb3###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMDetailView.java###/VMDetailView.java###com.vip.vjtools.vjtop.VMDetailView###printAllThreads:###System.out.println(""+info.getThreadId()+"\t:"+info.getThreadName());###threadName###info.getThreadName()###455:4:455:80
a0d6c34c2b676fefdc3b91027c9cc06fc7c5a29e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMInfo.java###/VMInfo.java###com.vip.vjtools.vjtop.VMInfo###updateMemoryPool:###eden=newUsage(memoryPoolManager.getEdenMemoryPool().getUsage());###edenMXBean###memoryPoolManager.getEdenMemoryPool()###340:4:340:71
a0d6c34c2b676fefdc3b91027c9cc06fc7c5a29e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMInfo.java###/VMInfo.java###com.vip.vjtools.vjtop.VMInfo###updateMemoryPool:###perm=newUsage(memoryPoolManager.getPermMemoryPool().getUsage());###permMXBean###memoryPoolManager.getPermMemoryPool()###351:4:351:71
a0d6c34c2b676fefdc3b91027c9cc06fc7c5a29e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMInfo.java###/VMInfo.java###com.vip.vjtools.vjtop.VMInfo###updateMemoryPool:###old=newUsage(memoryPoolManager.getOldMemoryPool().getUsage());###oldMXBean###memoryPoolManager.getOldMemoryPool()###341:4:341:69
29eee6cabee764a6a547627a9ca28c251eeb2e0e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMDetailView.java###/VMDetailView.java###com.vip.vjtools.vjtop.VMDetailView###printTopCpuThreads:DetailMode ###System.out.printf(dataFormat,tid,threadName,Utils.leftStr(info.getThreadState().toString(),10),getThreadCPUUtilization(threadCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadSysCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1),getThreadCPUUtilization(threadSysCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1));###cpu###getThreadCPUUtilization(threadCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS)###230:5:236:102
b13fee587c5fe8015ccfe48e73814d691ee60c9c###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/InteractiveTask.java###/InteractiveTask.java###com.vip.vjtools.vjtop.InteractiveTask###run:###Stringcommand=reader.readLine().trim().toLowerCase();###command###reader.readLine()###27:5:27:61
9bfed2d0e1c801c9d9fa1f9a7880193a1e0e4a5d###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMInfo.java###/VMInfo.java###com.vip.vjtools.vjtop.VMInfo###updateMemoryPool:###map=newUsage(jmxClient.getBufferPoolManager().getMappedBufferPool().getMemoryUsed(),jmxClient.getBufferPoolManager().getMappedBufferPool().getTotalCapacity(),jmxClient.getBufferPoolManager().getMappedBufferPool().getCount());###mapUsed###jmxClient.getBufferPoolManager().getMappedBufferPool().getMemoryUsed()###311:3:313:72
29eee6cabee764a6a547627a9ca28c251eeb2e0e###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VMDetailView.java###/VMDetailView.java###com.vip.vjtools.vjtop.VMDetailView###printTopCpuThreads:DetailMode ###System.out.printf(dataFormat,tid,threadName,Utils.leftStr(info.getThreadState().toString(),10),getThreadCPUUtilization(threadCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadSysCpuDeltaTimes.get(tid),vmInfo.upTimeMills.getDelta(),Utils.NANOS_TO_MILLS),getThreadCPUUtilization(threadCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1),getThreadCPUUtilization(threadSysCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1));###totalcpu###getThreadCPUUtilization(threadCpuTotalTimes.get(tid),vmInfo.cpuTimeNanos.getCurrent(),1)###230:5:236:102
37b267883b6783b865da2f089aa8a29ed464eaad###/vipshop_vjtools/vjtop/src/main/java/com/vip/vjtools/vjtop/VJTop.java###/VJTop.java###com.vip.vjtools.vjtop.VJTop###run:VMDetailView ###Utils.sleep((long)(interval*1000));###sleepTime###interval###203:5:203:43
