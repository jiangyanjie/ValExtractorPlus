ed5e53211735b231d53cde994ca52f428f12ec3f###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/apollo/portal/api/AdminServiceAPI.java###/AdminServiceAPI.java###com.ctrip.apollo.portal.api.AdminServiceAPI.ItemAPI###findItems:String Env String String ###returnArrays.asList(restTemplate.getForObject(getAdminServiceHost(env)+String.format("apps/%s/clusters/%s/namespaces/%s/items",appId,clusterName,namespace),ItemDTO[].class));###itemDTOs###restTemplate.getForObject(getAdminServiceHost(env)+String.format("apps/%s/clusters/%s/namespaces/%s/items",appId,clusterName,namespace),ItemDTO[].class)###82:7:85:72
f8f37066e652f209159ac863e76d4b50d6f715d4###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/NamespaceService.java###/NamespaceService.java###com.ctrip.framework.apollo.portal.service.NamespaceService###fillAppNamespaceProperties:NamespaceBO ###AppNamespaceappNamespace=appNamespaceService.findByAppIdAndName(namespaceDTO.getAppId(),namespaceDTO.getNamespaceName());###namespaceName###namespaceDTO.getNamespaceName()###261:5:263:91
fb6359a4e340f86e15c6afad9f4cabc7c654263e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/apollo/portal/service/txtresolver/PropertyResolver.java###/PropertyResolver.java###com.ctrip.apollo.portal.service.txtresolver.PropertyResolver###isHasRepeatKey:String[] ###keys.add(parseKeyValueFromItem(item)[0]);###kv###parseKeyValueFromItem(item)###94:9:94:50
edcd974f1a3d455aaf039a609e7a351a338042ac###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/internals/PropertiesConfigFile.java###/PropertiesConfigFile.java###com.ctrip.framework.apollo.internals.PropertiesConfigFile###doGetContent:###returnwriter.getBuffer().toString();###stringBuffer###writer.getBuffer()###44:7:44:44
b2b9dcd0a214056d8c1e2ca3791941f19f73904e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ReleaseService.java###/ReleaseService.java###com.ctrip.framework.apollo.portal.service.ReleaseService###createRelease:NamespaceReleaseModel ###returnreleaseAPI.release(model.getAppId(),model.getEnv(),model.getClusterName(),model.getNamespaceName(),model.getReleaseBy(),model.getReleaseComment(),userInfoHolder.getUser().getUserId());###clusterName###model.getClusterName()###33:5:35:49
b2b9dcd0a214056d8c1e2ca3791941f19f73904e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ReleaseService.java###/ReleaseService.java###com.ctrip.framework.apollo.portal.service.ReleaseService###createRelease:NamespaceReleaseModel ###returnreleaseAPI.release(model.getAppId(),model.getEnv(),model.getClusterName(),model.getNamespaceName(),model.getReleaseBy(),model.getReleaseComment(),userInfoHolder.getUser().getUserId());###env###model.getEnv()###33:5:35:49
c9612f6d2e267cd7f90a493d5c6950116776a862###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/spring/config/PropertySourcesProcessor.java###/PropertySourcesProcessor.java###com.ctrip.framework.apollo.spring.config.PropertySourcesProcessor###postProcessBeanFactory:ConfigurableListableBeanFactory ###configPropertySource.addChangeListener(newAutoUpdateConfigChangeListener(environment,beanFactory));###autoUpdateConfigChangeListener###newAutoUpdateConfigChangeListener(environment,beanFactory)###54:9:54:110
bb68324d35b393a6c47d4c13b1baf901dd20b2ec###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/apollo/internals/ConfigServiceLocator.java###/ConfigServiceLocator.java###com.ctrip.apollo.internals.ConfigServiceLocator###getConfigServices:###thrownewRuntimeException("Getconfigservicesfailed",ex);###exception###ex###47:7:47:68
57c7264cd75f96d5a9b584968bfe6ed9cfef8910###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/spi/ctrip/filters/UserAccessFilter.java###/UserAccessFilter.java###com.ctrip.framework.apollo.portal.spi.ctrip.filters.UserAccessFilter###doFilter:ServletRequest ServletResponse FilterChain ###Tracer.logEvent(CatEventType.USER_ACCESS,userInfoHolder.getUser().getUserId());###userInfo###userInfoHolder.getUser()###34:7:34:87
70a0b5f1936b2af63502880b7f34817a8af0146b###/apolloconfig_apollo/apollo-configservice/src/main/java/com/ctrip/apollo/configservice/controller/NotificationController.java###/NotificationController.java###com.ctrip.apollo.configservice.controller.NotificationController###pollNotification:String String String String String HttpServletResponse ###logger.info("deferredresultfor{}{}{}completed",appId,cluster,namespace);###finalNamespace###namespace###59:7:59:88
bb68324d35b393a6c47d4c13b1baf901dd20b2ec###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/apollo/internals/RemoteConfigRepository.java###/RemoteConfigRepository.java###com.ctrip.apollo.internals.RemoteConfigRepository###loadApolloConfig:###logger.error(message,ex);###exception###ex###134:7:134:33
0b5d2277b5f3edf1e38f2c18ce284e88238ff732###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ItemService.java###/ItemService.java###com.ctrip.framework.apollo.portal.service.ItemService###revokeItem:String Env String String ###Tracer.logEvent(TracerEventType.MODIFY_NAMESPACE_BY_TEXT,String.format("%s+%s+%s+%s",appId,env,clusterName,namespaceName));###formatStr###String.format("%s+%s+%s+%s",appId,env,clusterName,namespaceName)###226:5:227:79
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWithPrivateNamespaceAsFile:###periodicSendMessage(executorService,assembleKey(someAppId,ConfigConsts.CLUSTER_NAME_DEFAULT,namespace),stop);###key###assembleKey(someAppId,ConfigConsts.CLUSTER_NAME_DEFAULT,namespace)###134:5:136:15
b2b9dcd0a214056d8c1e2ca3791941f19f73904e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ConfigService.java###/ConfigService.java###com.ctrip.framework.apollo.portal.service.ConfigService###syncItems:List<NamespaceIdentifer> List<ItemDTO> ###itemAPI.updateItemsByChangeSet(namespaceIdentifer.getAppId(),namespaceIdentifer.getEnv(),namespaceIdentifer.getClusterName(),namespaceIdentifer.getNamespaceName(),changeSets);###clusterName###namespaceIdentifer.getClusterName()###119:9:122:88
668ac9017f26f99c7d015a687cccf471d2158c05###/apolloconfig_apollo/apollo-biz/src/main/java/com/ctrip/apollo/biz/customize/TomcatContainerCustomizer.java###/TomcatContainerCustomizer.java###com.ctrip.apollo.biz.customize.TomcatContainerCustomizer.customize.addConnectorCustomizers.new TomcatConnectorCustomizer###customize:Connector ###http.setBacklog(Integer.parseInt(environment.getProperty(TOMCAT_ACCEPTOR_COUNT)));###acceptCount###Integer.parseInt(environment.getProperty(TOMCAT_ACCEPTOR_COUNT))###39:11:39:93
40abd75982481c4edf872a76cba83ea465acc9f6###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/spring/annotation/ApolloAnnotationProcessor.java###/ApolloAnnotationProcessor.java###com.ctrip.framework.apollo.spring.annotation.ApolloAnnotationProcessor###processMethods:Object Method[] ###config.addChangeListener(newConfigChangeListener(){@OverridepublicvoidonChange(ConfigChangeEventchangeEvent){ReflectionUtils.invokeMethod(method,bean,changeEvent);}});###configChangeListener###newConfigChangeListener(){@OverridepublicvoidonChange(ConfigChangeEventchangeEvent){ReflectionUtils.invokeMethod(method,bean,changeEvent);}}###74:9:79:12
f5d513fb0af9646ae9175421e35a97026b153ca8###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/apollo/internals/RemoteConfigRepository.java###/RemoteConfigRepository.java###com.ctrip.apollo.internals.RemoteConfigRepository###loadApolloConfig:###thrownewRuntimeException(String.format("LoadApolloConfigfailed-appId:%s,cluster:%s,namespace:%s",appId,cluster,m_namespace),ex);###message###String.format("LoadApolloConfigfailed-appId:%s,cluster:%s,namespace:%s",appId,cluster,m_namespace)###79:7:81:42
7b596e07f341e3248dcb273c1ca9e5c46a06087c###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/apollo/portal/service/ConfigService.java###/ConfigService.java###com.ctrip.apollo.portal.service.ConfigService###findNampspaces:String Apollo.Env String ###namespaceVOs.add(parseNamespace(appId,env,clusterName,namespace));###namespaceVO###parseNamespace(appId,env,clusterName,namespace)###53:7:53:76
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/controller/NotificationControllerV2.java###/NotificationControllerV2.java###com.ctrip.framework.apollo.configservice.controller.NotificationControllerV2###getApolloConfigNotifications:Set<String> Map<String,Long> Multimap<String,String> List<ReleaseMessage> ###newNotifications.add(newApolloConfigNotification(namespace,latestId));###notification###newApolloConfigNotification(namespace,latestId)###203:11:203:83
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWthMultipleNamespacesAndMultipleNamespacesChanged:###periodicSendMessage(executorService,assembleKey(publicAppId,someDC,somePublicNamespace),stop);###key###assembleKey(publicAppId,someDC,somePublicNamespace)###234:5:235:15
e533198e2e7f4c6061254931ee5ee0e79fd85c17###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/NamespaceService.java###/NamespaceService.java###com.ctrip.framework.apollo.portal.service.NamespaceService###deleteNamespace:String Env String String ###namespaceAPI.deleteNamespace(env,appId,clusterName,namespaceName,userInfoHolder.getUser().getUserId());###operator###userInfoHolder.getUser().getUserId()###66:5:66:112
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWithDefaultNamespaceWithNotificationIdOutDated:###assertEquals(10,notifications.get(0).getNotificationId());###newNotificationId###10###170:5:170:64
ed5e53211735b231d53cde994ca52f428f12ec3f###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/apollo/portal/api/AdminServiceAPI.java###/AdminServiceAPI.java###com.ctrip.apollo.portal.api.AdminServiceAPI.NamespaceAPI###findGroupsByAppAndCluster:String Env String ###returnArrays.asList(restTemplate.getForObject(getAdminServiceHost(env)+String.format("apps/%s/clusters/%s/namespaces",appId,clusterName),NamespaceDTO[].class));###namespaceDTOs###restTemplate.getForObject(getAdminServiceHost(env)+String.format("apps/%s/clusters/%s/namespaces",appId,clusterName),NamespaceDTO[].class)###58:7:60:34
b2b9dcd0a214056d8c1e2ca3791941f19f73904e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ConfigService.java###/ConfigService.java###com.ctrip.framework.apollo.portal.service.ConfigService###syncItems:List<NamespaceIdentifer> List<ItemDTO> ###itemAPI.updateItemsByChangeSet(namespaceIdentifer.getAppId(),namespaceIdentifer.getEnv(),namespaceIdentifer.getClusterName(),namespaceIdentifer.getNamespaceName(),changeSets);###namespaceName###namespaceIdentifer.getNamespaceName()###119:9:122:88
7a1b0d1c9bca94a8daf48030542aa06fc0cbbbd2###/apolloconfig_apollo/apollo-client/src/test/java/com/ctrip/apollo/ConfigServiceTest.java###/ConfigServiceTest.java###com.ctrip.apollo.ConfigServiceTest###testMockConfigFactory:###defineComponent(ConfigFactory.class,"mock",MockConfigFactory.class);###someNamespace###"mock"###34:5:34:75
09d2fa3906ba3c71e87f947065325a2f8afdab9e###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/spi/DefaultConfigFactory.java###/DefaultConfigFactory.java###com.ctrip.framework.apollo.spi.DefaultConfigFactory###create:String ###returnthis.createRepositoryConfig(namespace,createPropertiesCompatibleFileConfigRepository(namespace,format));###configRepository###createPropertiesCompatibleFileConfigRepository(namespace,format)###56:7:56:120
b2b9dcd0a214056d8c1e2ca3791941f19f73904e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ConfigService.java###/ConfigService.java###com.ctrip.framework.apollo.portal.service.ConfigService###syncItems:List<NamespaceIdentifer> List<ItemDTO> ###itemAPI.updateItemsByChangeSet(namespaceIdentifer.getAppId(),namespaceIdentifer.getEnv(),namespaceIdentifer.getClusterName(),namespaceIdentifer.getNamespaceName(),changeSets);###env###namespaceIdentifer.getEnv()###119:9:122:88
bcd213d6130631392751648f91d42a84b4381266###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/internals/RemoteConfigLongPollService.java###/RemoteConfigLongPollService.java###com.ctrip.framework.apollo.internals.RemoteConfigLongPollService###updateNotifications:List<ApolloConfigNotification> ###m_notifications.put(notification.getNamespaceName(),notification.getNotificationId());###namespaceName###notification.getNamespaceName()###224:7:224:94
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWthPublicNamespaceAndNoDataCenter:###periodicSendMessage(executorService,assembleKey(publicAppId,ConfigConsts.CLUSTER_NAME_DEFAULT,somePublicNamespace),stop);###key###assembleKey(publicAppId,ConfigConsts.CLUSTER_NAME_DEFAULT,somePublicNamespace)###180:5:182:15
47d1940b3e3c5885519d02529b266be4f262a9ed###/apolloconfig_apollo/apollo-demo/src/main/java/ApolloConfigDemo.java###/ApolloConfigDemo.java###ApolloConfigDemo###ApolloConfigDemo:###config.addChangeListener(newConfigChangeListener(){@OverridepublicvoidonChange(ConfigChangeEventchangeEvent){logger.info("Changesfornamespace{}",changeEvent.getNamespace());for(Stringkey:changeEvent.changedKeys()){ConfigChangechange=changeEvent.getChange(key);logger.info("Change-key:{},oldValue:{},newValue:{},changeType:{}",change.getPropertyName(),change.getOldValue(),change.getNewValue(),change.getChangeType());}}});###changeListener###newConfigChangeListener(){@OverridepublicvoidonChange(ConfigChangeEventchangeEvent){logger.info("Changesfornamespace{}",changeEvent.getNamespace());for(Stringkey:changeEvent.changedKeys()){ConfigChangechange=changeEvent.getChange(key);logger.info("Change-key:{},oldValue:{},newValue:{},changeType:{}",change.getPropertyName(),change.getOldValue(),change.getNewValue(),change.getChangeType());}}}###25:5:36:8
ea20fad08e6e2f0933153f601bbb61aa7c42e2ab###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/PortalConfigService.java###/PortalConfigService.java###com.ctrip.framework.apollo.portal.service.PortalConfigService###syncItems:List<NamespaceIdentifer> List<ItemDTO> ###itemAPI.updateItems(namespaceIdentifer.getAppId(),namespaceIdentifer.getEnv(),namespaceIdentifer.getClusterName(),namespaceIdentifer.getNamespaceName(),itemDiff.getDiffs());###changeSets###itemDiff.getDiffs()###106:9:109:86
055d0519142670f84608218fd950d15005a791dd###/apolloconfig_apollo/apollo-client/src/test/java/com/ctrip/apollo/integration/ConfigIntegrationTest.java###/ConfigIntegrationTest.java###com.ctrip.apollo.integration.ConfigIntegrationTest###testLongPollRefresh:###ContextHandlerpollHandler=mockPollNotificationHandler(50,HttpServletResponse.SC_OK,newApolloConfigNotification(apolloConfig.getAppId(),apolloConfig.getCluster(),apolloConfig.getNamespace()),false);###pollTimeoutInMS###50###235:5:238:54
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWithMultipleNamespaces:###periodicSendMessage(executorService,assembleKey(someAppId,someCluster,somePublicNamespace),stop);###key###assembleKey(someAppId,someCluster,somePublicNamespace)###109:5:110:15
5c6081a024d9e1ecdfc66d48a4aafe49747f1df6###/apolloconfig_apollo/apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/controller/ConfigController.java###/ConfigController.java###com.ctrip.framework.apollo.configservice.controller.ConfigController###queryConfig:String String String String String String HttpServletResponse ###Cat.logEvent("Apollo.Config.NotFound",assembleKey(appId,clusterName,namespace,dataCenter));###originalNamespace###namespace###82:7:83:67
6f3ad2c94d473fcae4928c5cd896b63947ce360c###/apolloconfig_apollo/apollo-client/src/test/java/com/ctrip/apollo/integration/ConfigIntegrationTest.java###/ConfigIntegrationTest.java###com.ctrip.apollo.integration.ConfigIntegrationTest###createLocalCachePropertyFile:Properties ###properties.store(newFileOutputStream(file),"PersistedbyConfigIntegrationTest");###in###newFileOutputStream(file)###213:5:213:88
b2b9dcd0a214056d8c1e2ca3791941f19f73904e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ConfigService.java###/ConfigService.java###com.ctrip.framework.apollo.portal.service.ConfigService###syncItems:List<NamespaceIdentifer> List<ItemDTO> ###itemAPI.updateItemsByChangeSet(namespaceIdentifer.getAppId(),namespaceIdentifer.getEnv(),namespaceIdentifer.getClusterName(),namespaceIdentifer.getNamespaceName(),changeSets);###appId###namespaceIdentifer.getAppId()###119:9:122:88
f8f37066e652f209159ac863e76d4b50d6f715d4###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/NamespaceService.java###/NamespaceService.java###com.ctrip.framework.apollo.portal.service.NamespaceService###fillAppNamespaceProperties:NamespaceBO ###AppNamespaceappNamespace=appNamespaceService.findByAppIdAndName(namespaceDTO.getAppId(),namespaceDTO.getNamespaceName());###appId###namespaceDTO.getAppId()###261:5:263:91
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWthPublicNamespaceAndDataCenter:###periodicSendMessage(executorService,assembleKey(publicAppId,someDC,somePublicNamespace),stop);###key###assembleKey(publicAppId,someDC,somePublicNamespace)###207:5:208:15
db65452d9a3cf7b6863c7d03d1b81be2548c20f7###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/components/emailbuilder/ConfigPublishEmailBuilder.java###/ConfigPublishEmailBuilder.java###com.ctrip.framework.apollo.portal.components.emailbuilder.ConfigPublishEmailBuilder###renderReleaseBasicInfo:String Env ReleaseHistoryBO ###StringrenderResult=template.replaceAll(EMAIL_CONTENT_FIELD_APPID,Matcher.quoteReplacement(releaseHistory.getAppId()));###renderResult###template###121:5:121:127
f9c69dbb181e9cb6c5cb0ee08ae915a52430c23a###/apolloconfig_apollo/apollo-biz/src/main/java/com/ctrip/framework/apollo/biz/message/ReleaseMessageScanner.java###/ReleaseMessageScanner.java###com.ctrip.framework.apollo.biz.message.ReleaseMessageScanner###scanAndSendMessages:###maxIdScanned=releaseMessages.get(messageScanned-1).getId();###newMaxIdScanned###releaseMessages.get(messageScanned-1).getId()###111:5:111:68
7a1b0d1c9bca94a8daf48030542aa06fc0cbbbd2###/apolloconfig_apollo/apollo-client/src/test/java/com/ctrip/apollo/ConfigServiceTest.java###/ConfigServiceTest.java###com.ctrip.apollo.ConfigServiceTest###testHackConfig:###ConfigService.setConfig(newMockConfig("hack"));###someNamespace###"hack"###24:5:24:53
3fc83f1edbb931c8e32bcc56a7cd0262f60ad1cd###/apolloconfig_apollo/apollo-biz/src/main/java/com/ctrip/framework/apollo/biz/utils/ConfigChangeContentBuilder.java###/ConfigChangeContentBuilder.java###com.ctrip.framework.apollo.biz.utils.ConfigChangeContentBuilder###build:###item.setDataChangeLastModifiedTime(newDate());###now###newDate()###52:7:52:54
561ad08827dd2935b024767dcc3010027b72b59d###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/components/emailbuilder/ConfigPublishEmailBuilder.java###/ConfigPublishEmailBuilder.java###com.ctrip.framework.apollo.portal.components.emailbuilder.ConfigPublishEmailBuilder###build:Env ReleaseHistoryBO ###email.setBody(emailContent(env,releaseHistory));###emailBody###emailContent(env,releaseHistory)###84:5:84:54
8a39cceae945c8b21ea9e1427df6f414669b8c93###/apolloconfig_apollo/apollo-biz/src/main/java/com/ctrip/framework/apollo/biz/service/AppService.java###/AppService.java###com.ctrip.framework.apollo.biz.service.AppService###update:App ###AppmanagedApp=appRepository.findByAppId(app.getAppId());###appId###app.getAppId()###75:5:75:64
90c85d3e143a888c59ed76fcffb8a5a6ed28fb8d###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/internals/ConfigServiceLocator.java###/ConfigServiceLocator.java###com.ctrip.framework.apollo.internals.ConfigServiceLocator###updateConfigServices:###m_configServices.set(response.getBody());###services###response.getBody()###117:9:117:50
f5d513fb0af9646ae9175421e35a97026b153ca8###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/apollo/internals/DefaultConfig.java###/DefaultConfig.java###com.ctrip.apollo.internals.DefaultConfig###initialize:###thrownewRuntimeException(String.format("InitApolloLocalConfigfailed-namespace:%s",m_namespace),ex);###message###String.format("InitApolloLocalConfigfailed-namespace:%s",m_namespace)###31:7:33:33
b1ca961b6044c9bdd2fca58ba857da6ce5809bc8###/apolloconfig_apollo/apollo-client/src/test/java/com/ctrip/framework/apollo/spring/AbstractSpringIntegrationTest.java###/AbstractSpringIntegrationTest.java###com.ctrip.framework.apollo.spring.AbstractSpringIntegrationTest###doSetUp:###MockInjector.setDelegate(newDefaultInjector());###defaultInjector###newDefaultInjector()###113:5:113:53
bf722d5c93dc09bfa4dc7c499306515ea3597c39###/apolloconfig_apollo/apollo-common/src/main/java/com/ctrip/framework/apollo/common/auth/RestTemplateFactory.java###/RestTemplateFactory.java###com.ctrip.framework.apollo.common.auth.RestTemplateFactory###afterPropertiesSet:###restTemplate.setRequestFactory(newHttpComponentsClientHttpRequestFactory(httpClient));###requestFactory###newHttpComponentsClientHttpRequestFactory(httpClient)###57:5:57:92
c9612f6d2e267cd7f90a493d5c6950116776a862###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/spring/annotation/ApolloAnnotationProcessor.java###/ApolloAnnotationProcessor.java###com.ctrip.framework.apollo.spring.annotation.ApolloAnnotationProcessor###processMethod:Object String Method ###config.addChangeListener(newConfigChangeListener(){@OverridepublicvoidonChange(ConfigChangeEventchangeEvent){ReflectionUtils.invokeMethod(method,bean,changeEvent);}});###configChangeListener###newConfigChangeListener(){@OverridepublicvoidonChange(ConfigChangeEventchangeEvent){ReflectionUtils.invokeMethod(method,bean,changeEvent);}}###59:7:64:10
b2b9dcd0a214056d8c1e2ca3791941f19f73904e###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/service/ReleaseService.java###/ReleaseService.java###com.ctrip.framework.apollo.portal.service.ReleaseService###createRelease:NamespaceReleaseModel ###returnreleaseAPI.release(model.getAppId(),model.getEnv(),model.getClusterName(),model.getNamespaceName(),model.getReleaseBy(),model.getReleaseComment(),userInfoHolder.getUser().getUserId());###namespaceName###model.getNamespaceName()###33:5:35:49
aec394a6c0f8dfdff5e28cf3f4d0fada3a354131###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/util/http/HttpUtil.java###/HttpUtil.java###com.ctrip.framework.apollo.util.http.HttpUtil###doGetWithSerializeFunction:HttpRequest Function<String,T> ###esr=newInputStreamReader(conn.getErrorStream(),StandardCharsets.UTF_8);###errorStream###conn.getErrorStream()###102:9:102:84
8d641a9a982707a932c7003d714bdc05fdbc58d1###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/apollo/portal/api/AdminServiceAPI.java###/AdminServiceAPI.java###com.ctrip.apollo.portal.api.AdminServiceAPI.AppAPI###getApps:Env ###returnArrays.asList(restTemplate.getForObject(getAdminServiceHost(env)+APP_API,AppDTO[].class));###appDTOs###restTemplate.getForObject(getAdminServiceHost(env)+APP_API,AppDTO[].class)###40:7:40:107
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWithDefaultNamespaceAsFile:###periodicSendMessage(executorService,assembleKey(someAppId,someCluster,defaultNamespace),stop);###key###assembleKey(someAppId,someCluster,defaultNamespace)###87:5:88:15
f5d513fb0af9646ae9175421e35a97026b153ca8###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/apollo/internals/SimpleConfig.java###/SimpleConfig.java###com.ctrip.apollo.internals.SimpleConfig###initialize:###thrownewRuntimeException(String.format("InitApolloRemoteConfigfailed-namespace:%s",m_namespace),ex);###message###String.format("InitApolloRemoteConfigfailed-namespace:%s",m_namespace)###25:7:27:33
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWithDefaultNamespace:###periodicSendMessage(executorService,assembleKey(someAppId,someCluster,defaultNamespace),stop);###key###assembleKey(someAppId,someCluster,defaultNamespace)###65:5:66:15
ed5e53211735b231d53cde994ca52f428f12ec3f###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/apollo/portal/api/AdminServiceAPI.java###/AdminServiceAPI.java###com.ctrip.apollo.portal.api.AdminServiceAPI.ClusterAPI###findClustersByApp:String Env ###returnArrays.asList(restTemplate.getForObject(getAdminServiceHost(env)+String.format("apps/%s/clusters",appId),ClusterDTO[].class));###clusterDTOs###restTemplate.getForObject(getAdminServiceHost(env)+String.format("apps/%s/clusters",appId),ClusterDTO[].class)###109:7:111:66
2c9b4dccbcf31012913b270cc356a30ab0cab89f###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/framework/apollo/internals/DefaultConfig.java###/DefaultConfig.java###com.ctrip.framework.apollo.internals.DefaultConfig###getProperty:String String ###value=m_configProperties.get().getProperty(key);###properties###m_configProperties.get()###93:7:93:57
e95128d5e2c756532389e860f45d9bc7193fa852###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/apollo/util/ExceptionUtil.java###/ExceptionUtil.java###com.ctrip.apollo.util.ExceptionUtil###getDetailMessage:Throwable ###returnString.format("%s[Cause:%s]",ex.getMessage(),getDetailMessage(ex.getCause()));###current###ex###12:7:12:96
b04949c3c743ae549b8e6f18affbfc257781ddcc###/apolloconfig_apollo/apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/controller/ConfigController.java###/ConfigController.java###com.ctrip.framework.apollo.configservice.controller.ConfigController###queryConfig:String String String String String HttpServletResponse ###Cat.logEvent("Apollo.Config.NotModified",assembleKey(appId,clusterName,namespace,dataCenter));###appClusterNameLoaded###clusterName###98:7:99:67
77ce6722e3f094663e4b80bbba0bf13dc3382003###/apolloconfig_apollo/apollo-client/src/main/java/com/ctrip/apollo/client/loader/impl/RemoteConfigLoader.java###/RemoteConfigLoader.java###com.ctrip.apollo.client.loader.impl.RemoteConfigLoader###doLoadRemoteApolloConfig:List<ApolloRegistry> CompositePropertySource ###compositePropertySource.addPropertySource(future.get());###result###future.get()###91:17:91:73
8850633b0c1dd9313c67498ce71d47662b4d86e6###/apolloconfig_apollo/apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/controller/NamespaceController.java###/NamespaceController.java###com.ctrip.framework.apollo.portal.controller.NamespaceController###createNamespace:String List<NamespaceCreationModel> ###roleInitializationService.initNamespaceRoles(appId,models.get(0).getNamespace().getNamespaceName());###namespaceName###models.get(0).getNamespace().getNamespaceName()###105:5:105:106
699009f87fd6272ae70c33c724c5c347f99fa339###/apolloconfig_apollo/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/integration/NotificationControllerV2IntegrationTest.java###/NotificationControllerV2IntegrationTest.java###com.ctrip.framework.apollo.configservice.integration.NotificationControllerV2IntegrationTest###testPollNotificationWthPublicNamespaceAsFile:###periodicSendMessage(executorService,assembleKey(publicAppId,someDC,somePublicNamespace),stop);###key###assembleKey(publicAppId,someDC,somePublicNamespace)###261:5:262:15
7b7d753f78e444f9cf97b0f238f7e33f585cb277###/apolloconfig_apollo/apollo-portal/src/test/java/com/ctrip/framework/apollo/portal/ServiceExceptionTest.java###/ServiceExceptionTest.java###com.ctrip.framework.apollo.portal.ServiceExceptionTest###testAdminServiceException:###errorAttributes.put("message","Noavailableadminservice");###errorMsg###"Noavailableadminservice"###54:5:54:66
